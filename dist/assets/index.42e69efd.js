function r5(n,e){return e.forEach(function(t){t&&typeof t!="string"&&!Array.isArray(t)&&Object.keys(t).forEach(function(i){if(i!=="default"&&!(i in n)){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}})}),Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}const CP=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};CP();var W={exports:{}},Rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rd=Symbol.for("react.element"),bP=Symbol.for("react.portal"),PP=Symbol.for("react.fragment"),RP=Symbol.for("react.strict_mode"),LP=Symbol.for("react.profiler"),IP=Symbol.for("react.provider"),DP=Symbol.for("react.context"),NP=Symbol.for("react.forward_ref"),UP=Symbol.for("react.suspense"),OP=Symbol.for("react.memo"),FP=Symbol.for("react.lazy"),kS=Symbol.iterator;function zP(n){return n===null||typeof n!="object"?null:(n=kS&&n[kS]||n["@@iterator"],typeof n=="function"?n:null)}var s5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},o5=Object.assign,a5={};function zu(n,e,t){this.props=n,this.context=e,this.refs=a5,this.updater=t||s5}zu.prototype.isReactComponent={};zu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};zu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function l5(){}l5.prototype=zu.prototype;function Y2(n,e,t){this.props=n,this.context=e,this.refs=a5,this.updater=t||s5}var q2=Y2.prototype=new l5;q2.constructor=Y2;o5(q2,zu.prototype);q2.isPureReactComponent=!0;var BS=Array.isArray,u5=Object.prototype.hasOwnProperty,Z2={current:null},c5={key:!0,ref:!0,__self:!0,__source:!0};function f5(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)u5.call(e,i)&&!c5.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),f=0;f<a;f++)l[f]=arguments[f+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:rd,type:n,key:s,ref:o,props:r,_owner:Z2.current}}function kP(n,e){return{$$typeof:rd,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function K2(n){return typeof n=="object"&&n!==null&&n.$$typeof===rd}function BP(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var VS=/\/+/g;function ug(n,e){return typeof n=="object"&&n!==null&&n.key!=null?BP(""+n.key):e.toString(36)}function Vp(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case rd:case bP:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ug(o,0):i,BS(r)?(t="",n!=null&&(t=n.replace(VS,"$&/")+"/"),Vp(r,e,t,"",function(f){return f})):r!=null&&(K2(r)&&(r=kP(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(VS,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",BS(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+ug(s,a);o+=Vp(s,e,t,l,r)}else if(l=zP(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+ug(s,a++),o+=Vp(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wh(n,e,t){if(n==null)return n;var i=[],r=0;return Vp(n,i,"","",function(s){return e.call(t,s,r++)}),i}function VP(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ti={current:null},Hp={transition:null},HP={ReactCurrentDispatcher:Ti,ReactCurrentBatchConfig:Hp,ReactCurrentOwner:Z2};function d5(){throw Error("act(...) is not supported in production builds of React.")}Rt.Children={map:wh,forEach:function(n,e,t){wh(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return wh(n,function(){e++}),e},toArray:function(n){return wh(n,function(e){return e})||[]},only:function(n){if(!K2(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Rt.Component=zu;Rt.Fragment=PP;Rt.Profiler=LP;Rt.PureComponent=Y2;Rt.StrictMode=RP;Rt.Suspense=UP;Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HP;Rt.act=d5;Rt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=o5({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Z2.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)u5.call(e,l)&&!c5.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var f=0;f<l;f++)a[f]=arguments[f+2];i.children=a}return{$$typeof:rd,type:n.type,key:r,ref:s,props:i,_owner:o}};Rt.createContext=function(n){return n={$$typeof:DP,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:IP,_context:n},n.Consumer=n};Rt.createElement=f5;Rt.createFactory=function(n){var e=f5.bind(null,n);return e.type=n,e};Rt.createRef=function(){return{current:null}};Rt.forwardRef=function(n){return{$$typeof:NP,render:n}};Rt.isValidElement=K2;Rt.lazy=function(n){return{$$typeof:FP,_payload:{_status:-1,_result:n},_init:VP}};Rt.memo=function(n,e){return{$$typeof:OP,type:n,compare:e===void 0?null:e}};Rt.startTransition=function(n){var e=Hp.transition;Hp.transition={};try{n()}finally{Hp.transition=e}};Rt.unstable_act=d5;Rt.useCallback=function(n,e){return Ti.current.useCallback(n,e)};Rt.useContext=function(n){return Ti.current.useContext(n)};Rt.useDebugValue=function(){};Rt.useDeferredValue=function(n){return Ti.current.useDeferredValue(n)};Rt.useEffect=function(n,e){return Ti.current.useEffect(n,e)};Rt.useId=function(){return Ti.current.useId()};Rt.useImperativeHandle=function(n,e,t){return Ti.current.useImperativeHandle(n,e,t)};Rt.useInsertionEffect=function(n,e){return Ti.current.useInsertionEffect(n,e)};Rt.useLayoutEffect=function(n,e){return Ti.current.useLayoutEffect(n,e)};Rt.useMemo=function(n,e){return Ti.current.useMemo(n,e)};Rt.useReducer=function(n,e,t){return Ti.current.useReducer(n,e,t)};Rt.useRef=function(n){return Ti.current.useRef(n)};Rt.useState=function(n){return Ti.current.useState(n)};Rt.useSyncExternalStore=function(n,e,t){return Ti.current.useSyncExternalStore(n,e,t)};Rt.useTransition=function(){return Ti.current.useTransition()};Rt.version="18.3.1";W.exports=Rt;var Ur=W.exports,J2=r5({__proto__:null,default:Ur},[W.exports]),em={exports:{}},$i={},h5={exports:{}},p5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,k){var B=N.length;N.push(k);e:for(;0<B;){var Z=B-1>>>1,ee=N[Z];if(0<r(ee,k))N[Z]=k,N[B]=ee,B=Z;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var k=N[0],B=N.pop();if(B!==k){N[0]=B;e:for(var Z=0,ee=N.length,Y=ee>>>1;Z<Y;){var q=2*(Z+1)-1,ae=N[q],_e=q+1,Ce=N[_e];if(0>r(ae,B))_e<ee&&0>r(Ce,ae)?(N[Z]=Ce,N[_e]=B,Z=_e):(N[Z]=ae,N[q]=B,Z=q);else if(_e<ee&&0>r(Ce,B))N[Z]=Ce,N[_e]=B,Z=_e;else break e}}return k}function r(N,k){var B=N.sortIndex-k.sortIndex;return B!==0?B:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,h=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var k=t(f);k!==null;){if(k.callback===null)i(f);else if(k.startTime<=N)i(f),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(f)}}function T(N){if(_=!1,w(N),!y)if(t(l)!==null)y=!0,te(b);else{var k=t(f);k!==null&&ce(T,k.startTime-N)}}function b(N,k){y=!1,_&&(_=!1,g(D),D=-1),m=!0;var B=p;try{for(w(k),h=t(l);h!==null&&(!(h.expirationTime>k)||N&&!V());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var ee=Z(h.expirationTime<=k);k=n.unstable_now(),typeof ee=="function"?h.callback=ee:h===t(l)&&i(l),w(k)}else i(l);h=t(l)}if(h!==null)var Y=!0;else{var q=t(f);q!==null&&ce(T,q.startTime-k),Y=!1}return Y}finally{h=null,p=B,m=!1}}var C=!1,L=null,D=-1,P=5,R=-1;function V(){return!(n.unstable_now()-R<P)}function K(){if(L!==null){var N=n.unstable_now();R=N;var k=!0;try{k=L(!0,N)}finally{k?oe():(C=!1,L=null)}}else C=!1}var oe;if(typeof S=="function")oe=function(){S(K)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=K,oe=function(){$.postMessage(null)}}else oe=function(){x(K,0)};function te(N){L=N,C||(C=!0,oe())}function ce(N,k){D=x(function(){N(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(b))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var B=p;p=k;try{return N()}finally{p=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=p;p=N;try{return k()}finally{p=B}},n.unstable_scheduleCallback=function(N,k,B){var Z=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,N={id:d++,callback:k,priorityLevel:N,startTime:B,expirationTime:ee,sortIndex:-1},B>Z?(N.sortIndex=B,e(f,N),t(l)===null&&N===t(f)&&(_?(g(D),D=-1):_=!0,ce(T,B-Z))):(N.sortIndex=ee,e(l,N),y||m||(y=!0,te(b))),N},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(N){var k=p;return function(){var B=p;p=k;try{return N.apply(this,arguments)}finally{p=B}}}})(p5);h5.exports=p5;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GP=W.exports,Qi=h5.exports;function Te(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m5=new Set,ff={};function Ka(n,e){wu(n,e),wu(n+"Capture",e)}function wu(n,e){for(ff[n]=e,n=0;n<e.length;n++)m5.add(e[n])}var Os=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),zv=Object.prototype.hasOwnProperty,WP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,HS={},GS={};function XP(n){return zv.call(GS,n)?!0:zv.call(HS,n)?!1:WP.test(n)?GS[n]=!0:(HS[n]=!0,!1)}function jP(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function YP(n,e,t,i){if(e===null||typeof e=="undefined"||jP(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ai(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Qn[n]=new Ai(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Qn[e]=new Ai(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Qn[n]=new Ai(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Qn[n]=new Ai(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Qn[n]=new Ai(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Qn[n]=new Ai(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Qn[n]=new Ai(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Qn[n]=new Ai(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Qn[n]=new Ai(n,5,!1,n.toLowerCase(),null,!1,!1)});var Q2=/[\-:]([a-z])/g;function $2(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Q2,$2);Qn[e]=new Ai(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Q2,$2);Qn[e]=new Ai(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Q2,$2);Qn[e]=new Ai(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Qn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!1,!1)});Qn.xlinkHref=new Ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Qn[n]=new Ai(n,1,!1,n.toLowerCase(),null,!0,!0)});function ex(n,e,t,i){var r=Qn.hasOwnProperty(e)?Qn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YP(e,t,r,i)&&(t=null),i||r===null?XP(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var js=GP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),Zl=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),tx=Symbol.for("react.strict_mode"),kv=Symbol.for("react.profiler"),g5=Symbol.for("react.provider"),v5=Symbol.for("react.context"),nx=Symbol.for("react.forward_ref"),Bv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),ix=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),y5=Symbol.for("react.offscreen"),WS=Symbol.iterator;function pc(n){return n===null||typeof n!="object"?null:(n=WS&&n[WS]||n["@@iterator"],typeof n=="function"?n:null)}var un=Object.assign,cg;function Fc(n){if(cg===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);cg=e&&e[1]||""}return`
`+cg+n}var fg=!1;function dg(n,e){if(!n||fg)return"";fg=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(n,[],e)}else{try{e.call()}catch(f){i=f}n.call(e.prototype)}else{try{throw Error()}catch(f){i=f}n()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var r=f.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{fg=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Fc(n):""}function qP(n){switch(n.tag){case 5:return Fc(n.type);case 16:return Fc("Lazy");case 13:return Fc("Suspense");case 19:return Fc("SuspenseList");case 0:case 2:case 15:return n=dg(n.type,!1),n;case 11:return n=dg(n.type.render,!1),n;case 1:return n=dg(n.type,!0),n;default:return""}}function Hv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Kl:return"Fragment";case Zl:return"Portal";case kv:return"Profiler";case tx:return"StrictMode";case Bv:return"Suspense";case Vv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case v5:return(n.displayName||"Context")+".Consumer";case g5:return(n._context.displayName||"Context")+".Provider";case nx:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case ix:return e=n.displayName||null,e!==null?e:Hv(n.type)||"Memo";case mo:e=n._payload,n=n._init;try{return Hv(n(e))}catch{}}return null}function ZP(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hv(e);case 8:return e===tx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bo(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function x5(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KP(n){var e=x5(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t!="undefined"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Th(n){n._valueTracker||(n._valueTracker=KP(n))}function _5(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=x5(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function c0(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function Gv(n,e){var t=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function XS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Bo(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S5(n,e){e=e.checked,e!=null&&ex(n,"checked",e,!1)}function Wv(n,e){S5(n,e);var t=Bo(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Xv(n,e.type,t):e.hasOwnProperty("defaultValue")&&Xv(n,e.type,Bo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function jS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Xv(n,e,t){(e!=="number"||c0(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var zc=Array.isArray;function pu(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Bo(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function jv(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Te(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function YS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Te(92));if(zc(t)){if(1<t.length)throw Error(Te(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Bo(t)}}function M5(n,e){var t=Bo(e.value),i=Bo(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function qS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function w5(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yv(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?w5(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ah,E5=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function df(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JP=["Webkit","ms","Moz","O"];Object.keys(Hc).forEach(function(n){JP.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Hc[e]=Hc[n]})});function T5(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Hc.hasOwnProperty(n)&&Hc[n]?(""+e).trim():e+"px"}function A5(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=T5(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var QP=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qv(n,e){if(e){if(QP[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Te(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Te(62))}}function Zv(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kv=null;function rx(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Jv=null,mu=null,gu=null;function ZS(n){if(n=ad(n)){if(typeof Jv!="function")throw Error(Te(280));var e=n.stateNode;e&&(e=sm(e),Jv(n.stateNode,n.type,e))}}function C5(n){mu?gu?gu.push(n):gu=[n]:mu=n}function b5(){if(mu){var n=mu,e=gu;if(gu=mu=null,ZS(n),e)for(n=0;n<e.length;n++)ZS(e[n])}}function P5(n,e){return n(e)}function R5(){}var hg=!1;function L5(n,e,t){if(hg)return n(e,t);hg=!0;try{return P5(n,e,t)}finally{hg=!1,(mu!==null||gu!==null)&&(R5(),b5())}}function hf(n,e){var t=n.stateNode;if(t===null)return null;var i=sm(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Te(231,e,typeof t));return t}var Qv=!1;if(Os)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){Qv=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{Qv=!1}function $P(n,e,t,i,r,s,o,a,l){var f=Array.prototype.slice.call(arguments,3);try{e.apply(t,f)}catch(d){this.onError(d)}}var Gc=!1,f0=null,d0=!1,$v=null,eR={onError:function(n){Gc=!0,f0=n}};function tR(n,e,t,i,r,s,o,a,l){Gc=!1,f0=null,$P.apply(eR,arguments)}function nR(n,e,t,i,r,s,o,a,l){if(tR.apply(this,arguments),Gc){if(Gc){var f=f0;Gc=!1,f0=null}else throw Error(Te(198));d0||(d0=!0,$v=f)}}function Ja(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,(e.flags&4098)!==0&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function I5(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function KS(n){if(Ja(n)!==n)throw Error(Te(188))}function iR(n){var e=n.alternate;if(!e){if(e=Ja(n),e===null)throw Error(Te(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return KS(r),n;if(s===i)return KS(r),e;s=s.sibling}throw Error(Te(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(Te(189))}}if(t.alternate!==i)throw Error(Te(190))}if(t.tag!==3)throw Error(Te(188));return t.stateNode.current===t?n:e}function D5(n){return n=iR(n),n!==null?N5(n):null}function N5(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=N5(n);if(e!==null)return e;n=n.sibling}return null}var U5=Qi.unstable_scheduleCallback,JS=Qi.unstable_cancelCallback,rR=Qi.unstable_shouldYield,sR=Qi.unstable_requestPaint,Sn=Qi.unstable_now,oR=Qi.unstable_getCurrentPriorityLevel,sx=Qi.unstable_ImmediatePriority,O5=Qi.unstable_UserBlockingPriority,h0=Qi.unstable_NormalPriority,aR=Qi.unstable_LowPriority,F5=Qi.unstable_IdlePriority,tm=null,rs=null;function lR(n){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(tm,n,void 0,(n.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:fR,uR=Math.log,cR=Math.LN2;function fR(n){return n>>>=0,n===0?32:31-(uR(n)/cR|0)|0}var Ch=64,bh=4194304;function kc(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function p0(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=kc(a):(s&=o,s!==0&&(i=kc(s)))}else o=t&~r,o!==0?i=kc(o):s!==0&&(i=kc(s));if(i===0)return 0;if(e!==0&&e!==i&&(e&r)===0&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if((i&4)!==0&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Or(e),r=1<<t,i|=n[t],e&=~r;return i}function dR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hR(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Or(s),a=1<<o,l=r[o];l===-1?((a&t)===0||(a&i)!==0)&&(r[o]=dR(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function ey(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function z5(){var n=Ch;return Ch<<=1,(Ch&4194240)===0&&(Ch=64),n}function pg(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function sd(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Or(e),n[e]=t}function pR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Or(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function ox(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Or(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var Gt=0;function k5(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var B5,ax,V5,H5,G5,ty=!1,Ph=[],Ao=null,Co=null,bo=null,pf=new Map,mf=new Map,yo=[],mR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QS(n,e){switch(n){case"focusin":case"focusout":Ao=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":pf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mf.delete(e.pointerId)}}function gc(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ad(e),e!==null&&ax(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function gR(n,e,t,i,r){switch(e){case"focusin":return Ao=gc(Ao,n,e,t,i,r),!0;case"dragenter":return Co=gc(Co,n,e,t,i,r),!0;case"mouseover":return bo=gc(bo,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return pf.set(s,gc(pf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,mf.set(s,gc(mf.get(s)||null,n,e,t,i,r)),!0}return!1}function W5(n){var e=Aa(n.target);if(e!==null){var t=Ja(e);if(t!==null){if(e=t.tag,e===13){if(e=I5(t),e!==null){n.blockedOn=e,G5(n.priority,function(){V5(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gp(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=ny(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Kv=i,t.target.dispatchEvent(i),Kv=null}else return e=ad(t),e!==null&&ax(e),n.blockedOn=t,!1;e.shift()}return!0}function $S(n,e,t){Gp(n)&&t.delete(e)}function vR(){ty=!1,Ao!==null&&Gp(Ao)&&(Ao=null),Co!==null&&Gp(Co)&&(Co=null),bo!==null&&Gp(bo)&&(bo=null),pf.forEach($S),mf.forEach($S)}function vc(n,e){n.blockedOn===e&&(n.blockedOn=null,ty||(ty=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,vR)))}function gf(n){function e(r){return vc(r,n)}if(0<Ph.length){vc(Ph[0],n);for(var t=1;t<Ph.length;t++){var i=Ph[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Ao!==null&&vc(Ao,n),Co!==null&&vc(Co,n),bo!==null&&vc(bo,n),pf.forEach(e),mf.forEach(e),t=0;t<yo.length;t++)i=yo[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<yo.length&&(t=yo[0],t.blockedOn===null);)W5(t),t.blockedOn===null&&yo.shift()}var vu=js.ReactCurrentBatchConfig,m0=!0;function yR(n,e,t,i){var r=Gt,s=vu.transition;vu.transition=null;try{Gt=1,lx(n,e,t,i)}finally{Gt=r,vu.transition=s}}function xR(n,e,t,i){var r=Gt,s=vu.transition;vu.transition=null;try{Gt=4,lx(n,e,t,i)}finally{Gt=r,vu.transition=s}}function lx(n,e,t,i){if(m0){var r=ny(n,e,t,i);if(r===null)Eg(n,e,i,g0,t),QS(n,i);else if(gR(r,n,e,t,i))i.stopPropagation();else if(QS(n,i),e&4&&-1<mR.indexOf(n)){for(;r!==null;){var s=ad(r);if(s!==null&&B5(s),s=ny(n,e,t,i),s===null&&Eg(n,e,i,g0,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Eg(n,e,i,null,t)}}var g0=null;function ny(n,e,t,i){if(g0=null,n=rx(i),n=Aa(n),n!==null)if(e=Ja(n),e===null)n=null;else if(t=e.tag,t===13){if(n=I5(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return g0=n,null}function X5(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oR()){case sx:return 1;case O5:return 4;case h0:case aR:return 16;case F5:return 536870912;default:return 16}default:return 16}}var So=null,ux=null,Wp=null;function j5(){if(Wp)return Wp;var n,e=ux,t=e.length,i,r="value"in So?So.value:So.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Wp=r.slice(n,1<i?1-i:void 0)}function Xp(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Rh(){return!0}function e4(){return!1}function er(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rh:e4,this.isPropagationStopped=e4,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var ku={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cx=er(ku),od=un({},ku,{view:0,detail:0}),_R=er(od),mg,gg,yc,nm=un({},od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fx,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yc&&(yc&&n.type==="mousemove"?(mg=n.screenX-yc.screenX,gg=n.screenY-yc.screenY):gg=mg=0,yc=n),mg)},movementY:function(n){return"movementY"in n?n.movementY:gg}}),t4=er(nm),SR=un({},nm,{dataTransfer:0}),MR=er(SR),wR=un({},od,{relatedTarget:0}),vg=er(wR),ER=un({},ku,{animationName:0,elapsedTime:0,pseudoElement:0}),TR=er(ER),AR=un({},ku,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),CR=er(AR),bR=un({},ku,{data:0}),n4=er(bR),PR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=LR[n])?!!e[n]:!1}function fx(){return IR}var DR=un({},od,{key:function(n){if(n.key){var e=PR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Xp(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?RR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fx,charCode:function(n){return n.type==="keypress"?Xp(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xp(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),NR=er(DR),UR=un({},nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i4=er(UR),OR=un({},od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fx}),FR=er(OR),zR=un({},ku,{propertyName:0,elapsedTime:0,pseudoElement:0}),kR=er(zR),BR=un({},nm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),VR=er(BR),HR=[9,13,27,32],dx=Os&&"CompositionEvent"in window,Wc=null;Os&&"documentMode"in document&&(Wc=document.documentMode);var GR=Os&&"TextEvent"in window&&!Wc,Y5=Os&&(!dx||Wc&&8<Wc&&11>=Wc),r4=String.fromCharCode(32),s4=!1;function q5(n,e){switch(n){case"keyup":return HR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z5(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Jl=!1;function WR(n,e){switch(n){case"compositionend":return Z5(e);case"keypress":return e.which!==32?null:(s4=!0,r4);case"textInput":return n=e.data,n===r4&&s4?null:n;default:return null}}function XR(n,e){if(Jl)return n==="compositionend"||!dx&&q5(n,e)?(n=j5(),Wp=ux=So=null,Jl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y5&&e.locale!=="ko"?null:e.data;default:return null}}var jR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o4(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!jR[n.type]:e==="textarea"}function K5(n,e,t,i){C5(i),e=v0(e,"onChange"),0<e.length&&(t=new cx("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Xc=null,vf=null;function YR(n){aT(n,0)}function im(n){var e=eu(n);if(_5(e))return n}function qR(n,e){if(n==="change")return e}var J5=!1;if(Os){var yg;if(Os){var xg="oninput"in document;if(!xg){var a4=document.createElement("div");a4.setAttribute("oninput","return;"),xg=typeof a4.oninput=="function"}yg=xg}else yg=!1;J5=yg&&(!document.documentMode||9<document.documentMode)}function l4(){Xc&&(Xc.detachEvent("onpropertychange",Q5),vf=Xc=null)}function Q5(n){if(n.propertyName==="value"&&im(vf)){var e=[];K5(e,vf,n,rx(n)),L5(YR,e)}}function ZR(n,e,t){n==="focusin"?(l4(),Xc=e,vf=t,Xc.attachEvent("onpropertychange",Q5)):n==="focusout"&&l4()}function KR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return im(vf)}function JR(n,e){if(n==="click")return im(e)}function QR(n,e){if(n==="input"||n==="change")return im(e)}function $R(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Br=typeof Object.is=="function"?Object.is:$R;function yf(n,e){if(Br(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!zv.call(e,r)||!Br(n[r],e[r]))return!1}return!0}function u4(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function c4(n,e){var t=u4(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=u4(t)}}function $5(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?$5(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function eT(){for(var n=window,e=c0();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=c0(n.document)}return e}function hx(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function e7(n){var e=eT(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&$5(t.ownerDocument.documentElement,t)){if(i!==null&&hx(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=c4(t,s);var o=c4(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var t7=Os&&"documentMode"in document&&11>=document.documentMode,Ql=null,iy=null,jc=null,ry=!1;function f4(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ry||Ql==null||Ql!==c0(i)||(i=Ql,"selectionStart"in i&&hx(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jc&&yf(jc,i)||(jc=i,i=v0(iy,"onSelect"),0<i.length&&(e=new cx("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Ql)))}function Lh(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var $l={animationend:Lh("Animation","AnimationEnd"),animationiteration:Lh("Animation","AnimationIteration"),animationstart:Lh("Animation","AnimationStart"),transitionend:Lh("Transition","TransitionEnd")},_g={},tT={};Os&&(tT=document.createElement("div").style,"AnimationEvent"in window||(delete $l.animationend.animation,delete $l.animationiteration.animation,delete $l.animationstart.animation),"TransitionEvent"in window||delete $l.transitionend.transition);function rm(n){if(_g[n])return _g[n];if(!$l[n])return n;var e=$l[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in tT)return _g[n]=e[t];return n}var nT=rm("animationend"),iT=rm("animationiteration"),rT=rm("animationstart"),sT=rm("transitionend"),oT=new Map,d4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(n,e){oT.set(n,e),Ka(e,[n])}for(var Sg=0;Sg<d4.length;Sg++){var Mg=d4[Sg],n7=Mg.toLowerCase(),i7=Mg[0].toUpperCase()+Mg.slice(1);Xo(n7,"on"+i7)}Xo(nT,"onAnimationEnd");Xo(iT,"onAnimationIteration");Xo(rT,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(sT,"onTransitionEnd");wu("onMouseEnter",["mouseout","mouseover"]);wu("onMouseLeave",["mouseout","mouseover"]);wu("onPointerEnter",["pointerout","pointerover"]);wu("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bc));function h4(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,nR(i,e,void 0,n),n.currentTarget=null}function aT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,f=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;h4(r,a,f),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,f=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;h4(r,a,f),s=l}}}if(d0)throw n=$v,d0=!1,$v=null,n}function Jt(n,e){var t=e[uy];t===void 0&&(t=e[uy]=new Set);var i=n+"__bubble";t.has(i)||(lT(e,n,2,!1),t.add(i))}function wg(n,e,t){var i=0;e&&(i|=4),lT(t,n,i,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function xf(n){if(!n[Ih]){n[Ih]=!0,m5.forEach(function(t){t!=="selectionchange"&&(r7.has(t)||wg(t,!1,n),wg(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,wg("selectionchange",!1,e))}}function lT(n,e,t,i){switch(X5(e)){case 1:var r=yR;break;case 4:r=xR;break;default:r=lx}t=r.bind(null,e,t,n),r=void 0,!Qv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Eg(n,e,t,i,r){var s=i;if((e&1)===0&&(e&2)===0&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Aa(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}L5(function(){var f=s,d=rx(t),h=[];e:{var p=oT.get(n);if(p!==void 0){var m=cx,y=n;switch(n){case"keypress":if(Xp(t)===0)break e;case"keydown":case"keyup":m=NR;break;case"focusin":y="focus",m=vg;break;case"focusout":y="blur",m=vg;break;case"beforeblur":case"afterblur":m=vg;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=t4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=MR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=FR;break;case nT:case iT:case rT:m=TR;break;case sT:m=kR;break;case"scroll":m=_R;break;case"wheel":m=VR;break;case"copy":case"cut":case"paste":m=CR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=i4}var _=(e&4)!==0,x=!_&&n==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var S=f,w;S!==null;){w=S;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,g!==null&&(T=hf(S,g),T!=null&&_.push(_f(S,T,w)))),x)break;S=S.return}0<_.length&&(p=new m(p,y,null,t,d),h.push({event:p,listeners:_}))}}if((e&7)===0){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==Kv&&(y=t.relatedTarget||t.fromElement)&&(Aa(y)||y[Fs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=t.relatedTarget||t.toElement,m=f,y=y?Aa(y):null,y!==null&&(x=Ja(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=f),m!==y)){if(_=t4,T="onMouseLeave",g="onMouseEnter",S="mouse",(n==="pointerout"||n==="pointerover")&&(_=i4,T="onPointerLeave",g="onPointerEnter",S="pointer"),x=m==null?p:eu(m),w=y==null?p:eu(y),p=new _(T,S+"leave",m,t,d),p.target=x,p.relatedTarget=w,T=null,Aa(d)===f&&(_=new _(g,S+"enter",y,t,d),_.target=w,_.relatedTarget=x,T=_),x=T,m&&y)t:{for(_=m,g=y,S=0,w=_;w;w=Ml(w))S++;for(w=0,T=g;T;T=Ml(T))w++;for(;0<S-w;)_=Ml(_),S--;for(;0<w-S;)g=Ml(g),w--;for(;S--;){if(_===g||g!==null&&_===g.alternate)break t;_=Ml(_),g=Ml(g)}_=null}else _=null;m!==null&&p4(h,p,m,_,!1),y!==null&&x!==null&&p4(h,x,y,_,!0)}}e:{if(p=f?eu(f):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var b=qR;else if(o4(p))if(J5)b=QR;else{b=KR;var C=ZR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(b=JR);if(b&&(b=b(n,f))){K5(h,b,t,d);break e}C&&C(n,p,f),n==="focusout"&&(C=p._wrapperState)&&C.controlled&&p.type==="number"&&Xv(p,"number",p.value)}switch(C=f?eu(f):window,n){case"focusin":(o4(C)||C.contentEditable==="true")&&(Ql=C,iy=f,jc=null);break;case"focusout":jc=iy=Ql=null;break;case"mousedown":ry=!0;break;case"contextmenu":case"mouseup":case"dragend":ry=!1,f4(h,t,d);break;case"selectionchange":if(t7)break;case"keydown":case"keyup":f4(h,t,d)}var L;if(dx)e:{switch(n){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Jl?q5(n,t)&&(D="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(D="onCompositionStart");D&&(Y5&&t.locale!=="ko"&&(Jl||D!=="onCompositionStart"?D==="onCompositionEnd"&&Jl&&(L=j5()):(So=d,ux="value"in So?So.value:So.textContent,Jl=!0)),C=v0(f,D),0<C.length&&(D=new n4(D,n,null,t,d),h.push({event:D,listeners:C}),L?D.data=L:(L=Z5(t),L!==null&&(D.data=L)))),(L=GR?WR(n,t):XR(n,t))&&(f=v0(f,"onBeforeInput"),0<f.length&&(d=new n4("onBeforeInput","beforeinput",null,t,d),h.push({event:d,listeners:f}),d.data=L))}aT(h,e)})}function _f(n,e,t){return{instance:n,listener:e,currentTarget:t}}function v0(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=hf(n,t),s!=null&&i.unshift(_f(n,s,r)),s=hf(n,e),s!=null&&i.push(_f(n,s,r))),n=n.return}return i}function Ml(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function p4(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,f=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&f!==null&&(a=f,r?(l=hf(t,s),l!=null&&o.unshift(_f(t,l,a))):r||(l=hf(t,s),l!=null&&o.push(_f(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var s7=/\r\n?/g,o7=/\u0000|\uFFFD/g;function m4(n){return(typeof n=="string"?n:""+n).replace(s7,`
`).replace(o7,"")}function Dh(n,e,t){if(e=m4(e),m4(n)!==e&&t)throw Error(Te(425))}function y0(){}var sy=null,oy=null;function ay(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ly=typeof setTimeout=="function"?setTimeout:void 0,a7=typeof clearTimeout=="function"?clearTimeout:void 0,g4=typeof Promise=="function"?Promise:void 0,l7=typeof queueMicrotask=="function"?queueMicrotask:typeof g4!="undefined"?function(n){return g4.resolve(null).then(n).catch(u7)}:ly;function u7(n){setTimeout(function(){throw n})}function Tg(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),gf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);gf(e)}function Po(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function v4(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Bu=Math.random().toString(36).slice(2),ns="__reactFiber$"+Bu,Sf="__reactProps$"+Bu,Fs="__reactContainer$"+Bu,uy="__reactEvents$"+Bu,c7="__reactListeners$"+Bu,f7="__reactHandles$"+Bu;function Aa(n){var e=n[ns];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Fs]||t[ns]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=v4(n);n!==null;){if(t=n[ns])return t;n=v4(n)}return e}n=t,t=n.parentNode}return null}function ad(n){return n=n[ns]||n[Fs],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function eu(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Te(33))}function sm(n){return n[Sf]||null}var cy=[],tu=-1;function jo(n){return{current:n}}function $t(n){0>tu||(n.current=cy[tu],cy[tu]=null,tu--)}function Zt(n,e){tu++,cy[tu]=n.current,n.current=e}var Vo={},hi=jo(Vo),Oi=jo(!1),Ha=Vo;function Eu(n,e){var t=n.type.contextTypes;if(!t)return Vo;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Fi(n){return n=n.childContextTypes,n!=null}function x0(){$t(Oi),$t(hi)}function y4(n,e,t){if(hi.current!==Vo)throw Error(Te(168));Zt(hi,e),Zt(Oi,t)}function uT(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Te(108,ZP(n)||"Unknown",r));return un({},t,i)}function _0(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Vo,Ha=hi.current,Zt(hi,n),Zt(Oi,Oi.current),!0}function x4(n,e,t){var i=n.stateNode;if(!i)throw Error(Te(169));t?(n=uT(n,e,Ha),i.__reactInternalMemoizedMergedChildContext=n,$t(Oi),$t(hi),Zt(hi,n)):$t(Oi),Zt(Oi,t)}var Cs=null,om=!1,Ag=!1;function cT(n){Cs===null?Cs=[n]:Cs.push(n)}function d7(n){om=!0,cT(n)}function Yo(){if(!Ag&&Cs!==null){Ag=!0;var n=0,e=Gt;try{var t=Cs;for(Gt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Cs=null,om=!1}catch(r){throw Cs!==null&&(Cs=Cs.slice(n+1)),U5(sx,Yo),r}finally{Gt=e,Ag=!1}}return null}var nu=[],iu=0,S0=null,M0=0,hr=[],pr=0,Ga=null,Rs=1,Ls="";function xa(n,e){nu[iu++]=M0,nu[iu++]=S0,S0=n,M0=e}function fT(n,e,t){hr[pr++]=Rs,hr[pr++]=Ls,hr[pr++]=Ga,Ga=n;var i=Rs;n=Ls;var r=32-Or(i)-1;i&=~(1<<r),t+=1;var s=32-Or(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Rs=1<<32-Or(e)+r|t<<r|i,Ls=s+n}else Rs=1<<s|t<<r|i,Ls=n}function px(n){n.return!==null&&(xa(n,1),fT(n,1,0))}function mx(n){for(;n===S0;)S0=nu[--iu],nu[iu]=null,M0=nu[--iu],nu[iu]=null;for(;n===Ga;)Ga=hr[--pr],hr[pr]=null,Ls=hr[--pr],hr[pr]=null,Rs=hr[--pr],hr[pr]=null}var Ki=null,Zi=null,nn=!1,Lr=null;function dT(n,e){var t=mr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _4(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Ki=n,Zi=Po(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Ki=n,Zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ga!==null?{id:Rs,overflow:Ls}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=mr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Ki=n,Zi=null,!0):!1;default:return!1}}function fy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function dy(n){if(nn){var e=Zi;if(e){var t=e;if(!_4(n,e)){if(fy(n))throw Error(Te(418));e=Po(t.nextSibling);var i=Ki;e&&_4(n,e)?dT(i,t):(n.flags=n.flags&-4097|2,nn=!1,Ki=n)}}else{if(fy(n))throw Error(Te(418));n.flags=n.flags&-4097|2,nn=!1,Ki=n}}}function S4(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Ki=n}function Nh(n){if(n!==Ki)return!1;if(!nn)return S4(n),nn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!ay(n.type,n.memoizedProps)),e&&(e=Zi)){if(fy(n))throw hT(),Error(Te(418));for(;e;)dT(n,e),e=Po(e.nextSibling)}if(S4(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Te(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Zi=Po(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Zi=null}}else Zi=Ki?Po(n.stateNode.nextSibling):null;return!0}function hT(){for(var n=Zi;n;)n=Po(n.nextSibling)}function Tu(){Zi=Ki=null,nn=!1}function gx(n){Lr===null?Lr=[n]:Lr.push(n)}var h7=js.ReactCurrentBatchConfig;function xc(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Te(309));var i=t.stateNode}if(!i)throw Error(Te(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Te(284));if(!t._owner)throw Error(Te(290,n))}return n}function Uh(n,e){throw n=Object.prototype.toString.call(e),Error(Te(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function M4(n){var e=n._init;return e(n._payload)}function pT(n){function e(g,S){if(n){var w=g.deletions;w===null?(g.deletions=[S],g.flags|=16):w.push(S)}}function t(g,S){if(!n)return null;for(;S!==null;)e(g,S),S=S.sibling;return null}function i(g,S){for(g=new Map;S!==null;)S.key!==null?g.set(S.key,S):g.set(S.index,S),S=S.sibling;return g}function r(g,S){return g=Do(g,S),g.index=0,g.sibling=null,g}function s(g,S,w){return g.index=w,n?(w=g.alternate,w!==null?(w=w.index,w<S?(g.flags|=2,S):w):(g.flags|=2,S)):(g.flags|=1048576,S)}function o(g){return n&&g.alternate===null&&(g.flags|=2),g}function a(g,S,w,T){return S===null||S.tag!==6?(S=Dg(w,g.mode,T),S.return=g,S):(S=r(S,w),S.return=g,S)}function l(g,S,w,T){var b=w.type;return b===Kl?d(g,S,w.props.children,T,w.key):S!==null&&(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===mo&&M4(b)===S.type)?(T=r(S,w.props),T.ref=xc(g,S,w),T.return=g,T):(T=Qp(w.type,w.key,w.props,null,g.mode,T),T.ref=xc(g,S,w),T.return=g,T)}function f(g,S,w,T){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=Ng(w,g.mode,T),S.return=g,S):(S=r(S,w.children||[]),S.return=g,S)}function d(g,S,w,T,b){return S===null||S.tag!==7?(S=Oa(w,g.mode,T,b),S.return=g,S):(S=r(S,w),S.return=g,S)}function h(g,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Dg(""+S,g.mode,w),S.return=g,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Eh:return w=Qp(S.type,S.key,S.props,null,g.mode,w),w.ref=xc(g,null,S),w.return=g,w;case Zl:return S=Ng(S,g.mode,w),S.return=g,S;case mo:var T=S._init;return h(g,T(S._payload),w)}if(zc(S)||pc(S))return S=Oa(S,g.mode,w,null),S.return=g,S;Uh(g,S)}return null}function p(g,S,w,T){var b=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return b!==null?null:a(g,S,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eh:return w.key===b?l(g,S,w,T):null;case Zl:return w.key===b?f(g,S,w,T):null;case mo:return b=w._init,p(g,S,b(w._payload),T)}if(zc(w)||pc(w))return b!==null?null:d(g,S,w,T,null);Uh(g,w)}return null}function m(g,S,w,T,b){if(typeof T=="string"&&T!==""||typeof T=="number")return g=g.get(w)||null,a(S,g,""+T,b);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eh:return g=g.get(T.key===null?w:T.key)||null,l(S,g,T,b);case Zl:return g=g.get(T.key===null?w:T.key)||null,f(S,g,T,b);case mo:var C=T._init;return m(g,S,w,C(T._payload),b)}if(zc(T)||pc(T))return g=g.get(w)||null,d(S,g,T,b,null);Uh(S,T)}return null}function y(g,S,w,T){for(var b=null,C=null,L=S,D=S=0,P=null;L!==null&&D<w.length;D++){L.index>D?(P=L,L=null):P=L.sibling;var R=p(g,L,w[D],T);if(R===null){L===null&&(L=P);break}n&&L&&R.alternate===null&&e(g,L),S=s(R,S,D),C===null?b=R:C.sibling=R,C=R,L=P}if(D===w.length)return t(g,L),nn&&xa(g,D),b;if(L===null){for(;D<w.length;D++)L=h(g,w[D],T),L!==null&&(S=s(L,S,D),C===null?b=L:C.sibling=L,C=L);return nn&&xa(g,D),b}for(L=i(g,L);D<w.length;D++)P=m(L,g,D,w[D],T),P!==null&&(n&&P.alternate!==null&&L.delete(P.key===null?D:P.key),S=s(P,S,D),C===null?b=P:C.sibling=P,C=P);return n&&L.forEach(function(V){return e(g,V)}),nn&&xa(g,D),b}function _(g,S,w,T){var b=pc(w);if(typeof b!="function")throw Error(Te(150));if(w=b.call(w),w==null)throw Error(Te(151));for(var C=b=null,L=S,D=S=0,P=null,R=w.next();L!==null&&!R.done;D++,R=w.next()){L.index>D?(P=L,L=null):P=L.sibling;var V=p(g,L,R.value,T);if(V===null){L===null&&(L=P);break}n&&L&&V.alternate===null&&e(g,L),S=s(V,S,D),C===null?b=V:C.sibling=V,C=V,L=P}if(R.done)return t(g,L),nn&&xa(g,D),b;if(L===null){for(;!R.done;D++,R=w.next())R=h(g,R.value,T),R!==null&&(S=s(R,S,D),C===null?b=R:C.sibling=R,C=R);return nn&&xa(g,D),b}for(L=i(g,L);!R.done;D++,R=w.next())R=m(L,g,D,R.value,T),R!==null&&(n&&R.alternate!==null&&L.delete(R.key===null?D:R.key),S=s(R,S,D),C===null?b=R:C.sibling=R,C=R);return n&&L.forEach(function(K){return e(g,K)}),nn&&xa(g,D),b}function x(g,S,w,T){if(typeof w=="object"&&w!==null&&w.type===Kl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Eh:e:{for(var b=w.key,C=S;C!==null;){if(C.key===b){if(b=w.type,b===Kl){if(C.tag===7){t(g,C.sibling),S=r(C,w.props.children),S.return=g,g=S;break e}}else if(C.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===mo&&M4(b)===C.type){t(g,C.sibling),S=r(C,w.props),S.ref=xc(g,C,w),S.return=g,g=S;break e}t(g,C);break}else e(g,C);C=C.sibling}w.type===Kl?(S=Oa(w.props.children,g.mode,T,w.key),S.return=g,g=S):(T=Qp(w.type,w.key,w.props,null,g.mode,T),T.ref=xc(g,S,w),T.return=g,g=T)}return o(g);case Zl:e:{for(C=w.key;S!==null;){if(S.key===C)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){t(g,S.sibling),S=r(S,w.children||[]),S.return=g,g=S;break e}else{t(g,S);break}else e(g,S);S=S.sibling}S=Ng(w,g.mode,T),S.return=g,g=S}return o(g);case mo:return C=w._init,x(g,S,C(w._payload),T)}if(zc(w))return y(g,S,w,T);if(pc(w))return _(g,S,w,T);Uh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(t(g,S.sibling),S=r(S,w),S.return=g,g=S):(t(g,S),S=Dg(w,g.mode,T),S.return=g,g=S),o(g)):t(g,S)}return x}var Au=pT(!0),mT=pT(!1),w0=jo(null),E0=null,ru=null,vx=null;function yx(){vx=ru=E0=null}function xx(n){var e=w0.current;$t(w0),n._currentValue=e}function hy(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function yu(n,e){E0=n,vx=ru=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&e)!==0&&(Ui=!0),n.firstContext=null)}function vr(n){var e=n._currentValue;if(vx!==n)if(n={context:n,memoizedValue:e,next:null},ru===null){if(E0===null)throw Error(Te(308));ru=n,E0.dependencies={lanes:0,firstContext:n}}else ru=ru.next=n;return e}var Ca=null;function _x(n){Ca===null?Ca=[n]:Ca.push(n)}function gT(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,_x(e)):(t.next=r.next,r.next=t),e.interleaved=t,zs(n,i)}function zs(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var go=!1;function Sx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ns(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Ro(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,(Ot&2)!==0){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,zs(n,t)}return r=i.interleaved,r===null?(e.next=e,_x(i)):(e.next=r.next,r.next=e),i.interleaved=e,zs(n,t)}function jp(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,ox(n,t)}}function w4(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function T0(n,e,t,i){var r=n.updateQueue;go=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,f=l.next;l.next=null,o===null?s=f:o.next=f,o=l;var d=n.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=f:a.next=f,d.lastBaseUpdate=l))}if(s!==null){var h=r.baseState;o=0,d=f=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,_=a;switch(p=e,m=t,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(m,h,p);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,p=typeof y=="function"?y.call(m,h,p):y,p==null)break e;h=un({},h,p);break e;case 2:go=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(f=d=m,l=h):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);if(d===null&&(l=h),r.baseState=l,r.firstBaseUpdate=f,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Xa|=o,n.lanes=o,n.memoizedState=h}}function E4(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Te(191,r));r.call(i)}}}var ld={},ss=jo(ld),Mf=jo(ld),wf=jo(ld);function ba(n){if(n===ld)throw Error(Te(174));return n}function Mx(n,e){switch(Zt(wf,e),Zt(Mf,n),Zt(ss,ld),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yv(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Yv(e,n)}$t(ss),Zt(ss,e)}function Cu(){$t(ss),$t(Mf),$t(wf)}function yT(n){ba(wf.current);var e=ba(ss.current),t=Yv(e,n.type);e!==t&&(Zt(Mf,n),Zt(ss,t))}function wx(n){Mf.current===n&&($t(ss),$t(Mf))}var on=jo(0);function A0(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cg=[];function Ex(){for(var n=0;n<Cg.length;n++)Cg[n]._workInProgressVersionPrimary=null;Cg.length=0}var Yp=js.ReactCurrentDispatcher,bg=js.ReactCurrentBatchConfig,Wa=0,ln=null,Ln=null,Gn=null,C0=!1,Yc=!1,Ef=0,p7=0;function ii(){throw Error(Te(321))}function Tx(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Br(n[t],e[t]))return!1;return!0}function Ax(n,e,t,i,r,s){if(Wa=s,ln=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yp.current=n===null||n.memoizedState===null?y7:x7,n=t(i,r),Yc){s=0;do{if(Yc=!1,Ef=0,25<=s)throw Error(Te(301));s+=1,Gn=Ln=null,e.updateQueue=null,Yp.current=_7,n=t(i,r)}while(Yc)}if(Yp.current=b0,e=Ln!==null&&Ln.next!==null,Wa=0,Gn=Ln=ln=null,C0=!1,e)throw Error(Te(300));return n}function Cx(){var n=Ef!==0;return Ef=0,n}function es(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?ln.memoizedState=Gn=n:Gn=Gn.next=n,Gn}function yr(){if(Ln===null){var n=ln.alternate;n=n!==null?n.memoizedState:null}else n=Ln.next;var e=Gn===null?ln.memoizedState:Gn.next;if(e!==null)Gn=e,Ln=n;else{if(n===null)throw Error(Te(310));Ln=n,n={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},Gn===null?ln.memoizedState=Gn=n:Gn=Gn.next=n}return Gn}function Tf(n,e){return typeof e=="function"?e(n):e}function Pg(n){var e=yr(),t=e.queue;if(t===null)throw Error(Te(311));t.lastRenderedReducer=n;var i=Ln,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,f=s;do{var d=f.lane;if((Wa&d)===d)l!==null&&(l=l.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:n(i,f.action);else{var h={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};l===null?(a=l=h,o=i):l=l.next=h,ln.lanes|=d,Xa|=d}f=f.next}while(f!==null&&f!==s);l===null?o=i:l.next=a,Br(i,e.memoizedState)||(Ui=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ln.lanes|=s,Xa|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Rg(n){var e=yr(),t=e.queue;if(t===null)throw Error(Te(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Br(s,e.memoizedState)||(Ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function xT(){}function _T(n,e){var t=ln,i=yr(),r=e(),s=!Br(i.memoizedState,r);if(s&&(i.memoizedState=r,Ui=!0),i=i.queue,bx(wT.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Gn!==null&&Gn.memoizedState.tag&1){if(t.flags|=2048,Af(9,MT.bind(null,t,i,r,e),void 0,null),Xn===null)throw Error(Te(349));(Wa&30)!==0||ST(t,e,r)}return r}function ST(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function MT(n,e,t,i){e.value=t,e.getSnapshot=i,ET(e)&&TT(n)}function wT(n,e,t){return t(function(){ET(e)&&TT(n)})}function ET(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Br(n,t)}catch{return!0}}function TT(n){var e=zs(n,1);e!==null&&Fr(e,n,1,-1)}function T4(n){var e=es();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tf,lastRenderedState:n},e.queue=n,n=n.dispatch=v7.bind(null,ln,n),[e.memoizedState,n]}function Af(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ln.updateQueue,e===null?(e={lastEffect:null,stores:null},ln.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function AT(){return yr().memoizedState}function qp(n,e,t,i){var r=es();ln.flags|=n,r.memoizedState=Af(1|e,t,void 0,i===void 0?null:i)}function am(n,e,t,i){var r=yr();i=i===void 0?null:i;var s=void 0;if(Ln!==null){var o=Ln.memoizedState;if(s=o.destroy,i!==null&&Tx(i,o.deps)){r.memoizedState=Af(e,t,s,i);return}}ln.flags|=n,r.memoizedState=Af(1|e,t,s,i)}function A4(n,e){return qp(8390656,8,n,e)}function bx(n,e){return am(2048,8,n,e)}function CT(n,e){return am(4,2,n,e)}function bT(n,e){return am(4,4,n,e)}function PT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function RT(n,e,t){return t=t!=null?t.concat([n]):null,am(4,4,PT.bind(null,e,n),t)}function Px(){}function LT(n,e){var t=yr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Tx(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function IT(n,e){var t=yr();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Tx(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function DT(n,e,t){return(Wa&21)===0?(n.baseState&&(n.baseState=!1,Ui=!0),n.memoizedState=t):(Br(t,e)||(t=z5(),ln.lanes|=t,Xa|=t,n.baseState=!0),e)}function m7(n,e){var t=Gt;Gt=t!==0&&4>t?t:4,n(!0);var i=bg.transition;bg.transition={};try{n(!1),e()}finally{Gt=t,bg.transition=i}}function NT(){return yr().memoizedState}function g7(n,e,t){var i=Io(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},UT(n))OT(e,t);else if(t=gT(n,e,t,i),t!==null){var r=Mi();Fr(t,n,i,r),FT(t,e,i)}}function v7(n,e,t){var i=Io(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(UT(n))OT(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Br(a,o)){var l=e.interleaved;l===null?(r.next=r,_x(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}t=gT(n,e,r,i),t!==null&&(r=Mi(),Fr(t,n,i,r),FT(t,e,i))}}function UT(n){var e=n.alternate;return n===ln||e!==null&&e===ln}function OT(n,e){Yc=C0=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function FT(n,e,t){if((t&4194240)!==0){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,ox(n,t)}}var b0={readContext:vr,useCallback:ii,useContext:ii,useEffect:ii,useImperativeHandle:ii,useInsertionEffect:ii,useLayoutEffect:ii,useMemo:ii,useReducer:ii,useRef:ii,useState:ii,useDebugValue:ii,useDeferredValue:ii,useTransition:ii,useMutableSource:ii,useSyncExternalStore:ii,useId:ii,unstable_isNewReconciler:!1},y7={readContext:vr,useCallback:function(n,e){return es().memoizedState=[n,e===void 0?null:e],n},useContext:vr,useEffect:A4,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,qp(4194308,4,PT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return qp(4194308,4,n,e)},useInsertionEffect:function(n,e){return qp(4,2,n,e)},useMemo:function(n,e){var t=es();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=es();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=g7.bind(null,ln,n),[i.memoizedState,n]},useRef:function(n){var e=es();return n={current:n},e.memoizedState=n},useState:T4,useDebugValue:Px,useDeferredValue:function(n){return es().memoizedState=n},useTransition:function(){var n=T4(!1),e=n[0];return n=m7.bind(null,n[1]),es().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ln,r=es();if(nn){if(t===void 0)throw Error(Te(407));t=t()}else{if(t=e(),Xn===null)throw Error(Te(349));(Wa&30)!==0||ST(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,A4(wT.bind(null,i,s,n),[n]),i.flags|=2048,Af(9,MT.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=es(),e=Xn.identifierPrefix;if(nn){var t=Ls,i=Rs;t=(i&~(1<<32-Or(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ef++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=p7++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},x7={readContext:vr,useCallback:LT,useContext:vr,useEffect:bx,useImperativeHandle:RT,useInsertionEffect:CT,useLayoutEffect:bT,useMemo:IT,useReducer:Pg,useRef:AT,useState:function(){return Pg(Tf)},useDebugValue:Px,useDeferredValue:function(n){var e=yr();return DT(e,Ln.memoizedState,n)},useTransition:function(){var n=Pg(Tf)[0],e=yr().memoizedState;return[n,e]},useMutableSource:xT,useSyncExternalStore:_T,useId:NT,unstable_isNewReconciler:!1},_7={readContext:vr,useCallback:LT,useContext:vr,useEffect:bx,useImperativeHandle:RT,useInsertionEffect:CT,useLayoutEffect:bT,useMemo:IT,useReducer:Rg,useRef:AT,useState:function(){return Rg(Tf)},useDebugValue:Px,useDeferredValue:function(n){var e=yr();return Ln===null?e.memoizedState=n:DT(e,Ln.memoizedState,n)},useTransition:function(){var n=Rg(Tf)[0],e=yr().memoizedState;return[n,e]},useMutableSource:xT,useSyncExternalStore:_T,useId:NT,unstable_isNewReconciler:!1};function Cr(n,e){if(n&&n.defaultProps){e=un({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function py(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:un({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var lm={isMounted:function(n){return(n=n._reactInternals)?Ja(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Mi(),r=Io(n),s=Ns(i,r);s.payload=e,t!=null&&(s.callback=t),e=Ro(n,s,r),e!==null&&(Fr(e,n,r,i),jp(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Mi(),r=Io(n),s=Ns(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Ro(n,s,r),e!==null&&(Fr(e,n,r,i),jp(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mi(),i=Io(n),r=Ns(t,i);r.tag=2,e!=null&&(r.callback=e),e=Ro(n,r,i),e!==null&&(Fr(e,n,i,t),jp(e,n,i))}};function C4(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!yf(t,i)||!yf(r,s):!0}function zT(n,e,t){var i=!1,r=Vo,s=e.contextType;return typeof s=="object"&&s!==null?s=vr(s):(r=Fi(e)?Ha:hi.current,i=e.contextTypes,s=(i=i!=null)?Eu(n,r):Vo),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lm,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function b4(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&lm.enqueueReplaceState(e,e.state,null)}function my(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Sx(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=vr(s):(s=Fi(e)?Ha:hi.current,r.context=Eu(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(py(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&lm.enqueueReplaceState(r,r.state,null),T0(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function bu(n,e){try{var t="",i=e;do t+=qP(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Lg(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function gy(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var S7=typeof WeakMap=="function"?WeakMap:Map;function kT(n,e,t){t=Ns(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){R0||(R0=!0,Ay=i),gy(n,e)},t}function BT(n,e,t){t=Ns(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){gy(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){gy(n,e),typeof i!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function P4(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new S7;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=U7.bind(null,n,e,t),e.then(n,n))}function R4(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function L4(n,e,t,i,r){return(n.mode&1)===0?(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ns(-1,1),e.tag=2,Ro(t,e,1))),t.lanes|=1),n):(n.flags|=65536,n.lanes=r,n)}var M7=js.ReactCurrentOwner,Ui=!1;function _i(n,e,t,i){e.child=n===null?mT(e,null,t,i):Au(e,n.child,t,i)}function I4(n,e,t,i,r){t=t.render;var s=e.ref;return yu(e,r),i=Ax(n,e,t,i,s,r),t=Cx(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ks(n,e,r)):(nn&&t&&px(e),e.flags|=1,_i(n,e,i,r),e.child)}function D4(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!Fx(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,VT(n,e,s,i,r)):(n=Qp(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,(n.lanes&r)===0){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:yf,t(o,i)&&n.ref===e.ref)return ks(n,e,r)}return e.flags|=1,n=Do(s,i),n.ref=e.ref,n.return=e,e.child=n}function VT(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(yf(s,i)&&n.ref===e.ref)if(Ui=!1,e.pendingProps=i=s,(n.lanes&r)!==0)(n.flags&131072)!==0&&(Ui=!0);else return e.lanes=n.lanes,ks(n,e,r)}return vy(n,e,t,i,r)}function HT(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(ou,Yi),Yi|=t;else{if((t&1073741824)===0)return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Zt(ou,Yi),Yi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Zt(ou,Yi),Yi|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Zt(ou,Yi),Yi|=i;return _i(n,e,r,t),e.child}function GT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function vy(n,e,t,i,r){var s=Fi(t)?Ha:hi.current;return s=Eu(e,s),yu(e,r),t=Ax(n,e,t,i,s,r),i=Cx(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,ks(n,e,r)):(nn&&i&&px(e),e.flags|=1,_i(n,e,t,r),e.child)}function N4(n,e,t,i,r){if(Fi(t)){var s=!0;_0(e)}else s=!1;if(yu(e,r),e.stateNode===null)Zp(n,e),zT(e,t,i),my(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,f=t.contextType;typeof f=="object"&&f!==null?f=vr(f):(f=Fi(t)?Ha:hi.current,f=Eu(e,f));var d=t.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==f)&&b4(e,o,i,f),go=!1;var p=e.memoizedState;o.state=p,T0(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Oi.current||go?(typeof d=="function"&&(py(e,t,d,i),l=e.memoizedState),(a=go||C4(e,t,a,i,p,l,f))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=f,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,vT(n,e),a=e.memoizedProps,f=e.type===e.elementType?a:Cr(e.type,a),o.props=f,h=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=vr(l):(l=Fi(t)?Ha:hi.current,l=Eu(e,l));var m=t.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&b4(e,o,i,l),go=!1,p=e.memoizedState,o.state=p,T0(e,i,o,r);var y=e.memoizedState;a!==h||p!==y||Oi.current||go?(typeof m=="function"&&(py(e,t,m,i),y=e.memoizedState),(f=go||C4(e,t,f,i,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=f):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),i=!1)}return yy(n,e,t,i,s,r)}function yy(n,e,t,i,r,s){GT(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&x4(e,t,!1),ks(n,e,s);i=e.stateNode,M7.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Au(e,n.child,null,s),e.child=Au(e,null,a,s)):_i(n,e,a,s),e.memoizedState=i.state,r&&x4(e,t,!0),e.child}function WT(n){var e=n.stateNode;e.pendingContext?y4(n,e.pendingContext,e.pendingContext!==e.context):e.context&&y4(n,e.context,!1),Mx(n,e.containerInfo)}function U4(n,e,t,i,r){return Tu(),gx(r),e.flags|=256,_i(n,e,t,i),e.child}var xy={dehydrated:null,treeContext:null,retryLane:0};function _y(n){return{baseLanes:n,cachePool:null,transitions:null}}function XT(n,e,t){var i=e.pendingProps,r=on.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Zt(on,r&1),n===null)return dy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((e.mode&1)===0?e.lanes=1:n.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},(i&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=fm(o,i,0,null),n=Oa(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=_y(t),e.memoizedState=xy,n):Rx(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return w7(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return(o&1)===0&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Do(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Do(a,s):(s=Oa(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?_y(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=xy,i}return s=n.child,n=s.sibling,i=Do(s,{mode:"visible",children:i.children}),(e.mode&1)===0&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Rx(n,e){return e=fm({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Oh(n,e,t,i){return i!==null&&gx(i),Au(e,n.child,null,t),n=Rx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function w7(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Lg(Error(Te(422))),Oh(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=fm({mode:"visible",children:i.children},r,0,null),s=Oa(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,(e.mode&1)!==0&&Au(e,n.child,null,o),e.child.memoizedState=_y(o),e.memoizedState=xy,s);if((e.mode&1)===0)return Oh(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(Te(419)),i=Lg(s,i,void 0),Oh(n,e,o,i)}if(a=(o&n.childLanes)!==0,Ui||a){if(i=Xn,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=(r&(i.suspendedLanes|o))!==0?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,zs(n,r),Fr(i,n,r,-1))}return Ox(),i=Lg(Error(Te(421))),Oh(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=O7.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Zi=Po(r.nextSibling),Ki=e,nn=!0,Lr=null,n!==null&&(hr[pr++]=Rs,hr[pr++]=Ls,hr[pr++]=Ga,Rs=n.id,Ls=n.overflow,Ga=e),e=Rx(e,i.children),e.flags|=4096,e)}function O4(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),hy(n.return,e,t)}function Ig(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function jT(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(_i(n,e,i.children,t),i=on.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&O4(n,t,e);else if(n.tag===19)O4(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Zt(on,i),(e.mode&1)===0)e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&A0(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ig(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&A0(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ig(e,!0,t,null,s);break;case"together":Ig(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zp(n,e){(e.mode&1)===0&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ks(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Xa|=e.lanes,(t&e.childLanes)===0)return null;if(n!==null&&e.child!==n.child)throw Error(Te(153));if(e.child!==null){for(n=e.child,t=Do(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Do(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function E7(n,e,t){switch(e.tag){case 3:WT(e),Tu();break;case 5:yT(e);break;case 1:Fi(e.type)&&_0(e);break;case 4:Mx(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Zt(w0,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Zt(on,on.current&1),e.flags|=128,null):(t&e.child.childLanes)!==0?XT(n,e,t):(Zt(on,on.current&1),n=ks(n,e,t),n!==null?n.sibling:null);Zt(on,on.current&1);break;case 19:if(i=(t&e.childLanes)!==0,(n.flags&128)!==0){if(i)return jT(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Zt(on,on.current),i)break;return null;case 22:case 23:return e.lanes=0,HT(n,e,t)}return ks(n,e,t)}var YT,Sy,qT,ZT;YT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Sy=function(){};qT=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,ba(ss.current);var s=null;switch(t){case"input":r=Gv(n,r),i=Gv(n,i),s=[];break;case"select":r=un({},r,{value:void 0}),i=un({},i,{value:void 0}),s=[];break;case"textarea":r=jv(n,r),i=jv(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=y0)}qv(t,i);var o;t=null;for(f in r)if(!i.hasOwnProperty(f)&&r.hasOwnProperty(f)&&r[f]!=null)if(f==="style"){var a=r[f];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ff.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in i){var l=i[f];if(a=r!=null?r[f]:void 0,i.hasOwnProperty(f)&&l!==a&&(l!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(f,t)),t=l;else f==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(f,l)):f==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(f,""+l):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(ff.hasOwnProperty(f)?(l!=null&&f==="onScroll"&&Jt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(f,l))}t&&(s=s||[]).push("style",t);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};ZT=function(n,e,t,i){t!==i&&(e.flags|=4)};function _c(n,e){if(!nn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ri(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function T7(n,e,t){var i=e.pendingProps;switch(mx(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(e),null;case 1:return Fi(e.type)&&x0(),ri(e),null;case 3:return i=e.stateNode,Cu(),$t(Oi),$t(hi),Ex(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Nh(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Lr!==null&&(Py(Lr),Lr=null))),Sy(n,e),ri(e),null;case 5:wx(e);var r=ba(wf.current);if(t=e.type,n!==null&&e.stateNode!=null)qT(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Te(166));return ri(e),null}if(n=ba(ss.current),Nh(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ns]=e,i[Sf]=s,n=(e.mode&1)!==0,t){case"dialog":Jt("cancel",i),Jt("close",i);break;case"iframe":case"object":case"embed":Jt("load",i);break;case"video":case"audio":for(r=0;r<Bc.length;r++)Jt(Bc[r],i);break;case"source":Jt("error",i);break;case"img":case"image":case"link":Jt("error",i),Jt("load",i);break;case"details":Jt("toggle",i);break;case"input":XS(i,s),Jt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Jt("invalid",i);break;case"textarea":YS(i,s),Jt("invalid",i)}qv(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dh(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dh(i.textContent,a,n),r=["children",""+a]):ff.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Jt("scroll",i)}switch(t){case"input":Th(i),jS(i,s,!0);break;case"textarea":Th(i),qS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=y0)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=w5(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[ns]=e,n[Sf]=i,YT(n,e,!1,!1),e.stateNode=n;e:{switch(o=Zv(t,i),t){case"dialog":Jt("cancel",n),Jt("close",n),r=i;break;case"iframe":case"object":case"embed":Jt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Bc.length;r++)Jt(Bc[r],n);r=i;break;case"source":Jt("error",n),r=i;break;case"img":case"image":case"link":Jt("error",n),Jt("load",n),r=i;break;case"details":Jt("toggle",n),r=i;break;case"input":XS(n,i),r=Gv(n,i),Jt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=un({},i,{value:void 0}),Jt("invalid",n);break;case"textarea":YS(n,i),r=jv(n,i),Jt("invalid",n);break;default:r=i}qv(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?A5(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&E5(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&df(n,l):typeof l=="number"&&df(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Jt("scroll",n):l!=null&&ex(n,s,l,o))}switch(t){case"input":Th(n),jS(n,i,!1);break;case"textarea":Th(n),qS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Bo(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?pu(n,!!i.multiple,s,!1):i.defaultValue!=null&&pu(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=y0)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ri(e),null;case 6:if(n&&e.stateNode!=null)ZT(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Te(166));if(t=ba(wf.current),ba(ss.current),Nh(e)){if(i=e.stateNode,t=e.memoizedProps,i[ns]=e,(s=i.nodeValue!==t)&&(n=Ki,n!==null))switch(n.tag){case 3:Dh(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Dh(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ns]=e,e.stateNode=i}return ri(e),null;case 13:if($t(on),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(nn&&Zi!==null&&(e.mode&1)!==0&&(e.flags&128)===0)hT(),Tu(),e.flags|=98560,s=!1;else if(s=Nh(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Te(317));s[ns]=e}else Tu(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;ri(e),s=!1}else Lr!==null&&(Py(Lr),Lr=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,(e.mode&1)!==0&&(n===null||(on.current&1)!==0?Dn===0&&(Dn=3):Ox())),e.updateQueue!==null&&(e.flags|=4),ri(e),null);case 4:return Cu(),Sy(n,e),n===null&&xf(e.stateNode.containerInfo),ri(e),null;case 10:return xx(e.type._context),ri(e),null;case 17:return Fi(e.type)&&x0(),ri(e),null;case 19:if($t(on),s=e.memoizedState,s===null)return ri(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)_c(s,!1);else{if(Dn!==0||n!==null&&(n.flags&128)!==0)for(n=e.child;n!==null;){if(o=A0(n),o!==null){for(e.flags|=128,_c(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Zt(on,on.current&1|2),e.child}n=n.sibling}s.tail!==null&&Sn()>Pu&&(e.flags|=128,i=!0,_c(s,!1),e.lanes=4194304)}else{if(!i)if(n=A0(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),_c(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nn)return ri(e),null}else 2*Sn()-s.renderingStartTime>Pu&&t!==1073741824&&(e.flags|=128,i=!0,_c(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sn(),e.sibling=null,t=on.current,Zt(on,i?t&1|2:t&1),e):(ri(e),null);case 22:case 23:return Ux(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&(e.mode&1)!==0?(Yi&1073741824)!==0&&(ri(e),e.subtreeFlags&6&&(e.flags|=8192)):ri(e),null;case 24:return null;case 25:return null}throw Error(Te(156,e.tag))}function A7(n,e){switch(mx(e),e.tag){case 1:return Fi(e.type)&&x0(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Cu(),$t(Oi),$t(hi),Ex(),n=e.flags,(n&65536)!==0&&(n&128)===0?(e.flags=n&-65537|128,e):null;case 5:return wx(e),null;case 13:if($t(on),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Te(340));Tu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return $t(on),null;case 4:return Cu(),null;case 10:return xx(e.type._context),null;case 22:case 23:return Ux(),null;case 24:return null;default:return null}}var Fh=!1,ui=!1,C7=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function su(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){hn(n,e,i)}else t.current=null}function My(n,e,t){try{t()}catch(i){hn(n,e,i)}}var F4=!1;function b7(n,e){if(sy=m0,n=eT(),hx(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,f=0,d=0,h=n,p=null;t:for(;;){for(var m;h!==t||r!==0&&h.nodeType!==3||(a=o+r),h!==s||i!==0&&h.nodeType!==3||(l=o+i),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===n)break t;if(p===t&&++f===r&&(a=o),p===s&&++d===i&&(l=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(oy={focusedElem:n,selectionRange:t},m0=!1,Ge=e;Ge!==null;)if(e=Ge,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ge=n;else for(;Ge!==null;){e=Ge;try{var y=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,x=y.memoizedState,g=e.stateNode,S=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:Cr(e.type,_),x);g.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Te(163))}}catch(T){hn(e,e.return,T)}if(n=e.sibling,n!==null){n.return=e.return,Ge=n;break}Ge=e.return}return y=F4,F4=!1,y}function qc(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&My(e,t,s)}r=r.next}while(r!==i)}}function um(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function wy(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function KT(n){var e=n.alternate;e!==null&&(n.alternate=null,KT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ns],delete e[Sf],delete e[uy],delete e[c7],delete e[f7])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function JT(n){return n.tag===5||n.tag===3||n.tag===4}function z4(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||JT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ey(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=y0));else if(i!==4&&(n=n.child,n!==null))for(Ey(n,e,t),n=n.sibling;n!==null;)Ey(n,e,t),n=n.sibling}function Ty(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Ty(n,e,t),n=n.sibling;n!==null;)Ty(n,e,t),n=n.sibling}var Kn=null,Pr=!1;function io(n,e,t){for(t=t.child;t!==null;)QT(n,e,t),t=t.sibling}function QT(n,e,t){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(tm,t)}catch{}switch(t.tag){case 5:ui||su(t,e);case 6:var i=Kn,r=Pr;Kn=null,io(n,e,t),Kn=i,Pr=r,Kn!==null&&(Pr?(n=Kn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Kn.removeChild(t.stateNode));break;case 18:Kn!==null&&(Pr?(n=Kn,t=t.stateNode,n.nodeType===8?Tg(n.parentNode,t):n.nodeType===1&&Tg(n,t),gf(n)):Tg(Kn,t.stateNode));break;case 4:i=Kn,r=Pr,Kn=t.stateNode.containerInfo,Pr=!0,io(n,e,t),Kn=i,Pr=r;break;case 0:case 11:case 14:case 15:if(!ui&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&My(t,e,o),r=r.next}while(r!==i)}io(n,e,t);break;case 1:if(!ui&&(su(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){hn(t,e,a)}io(n,e,t);break;case 21:io(n,e,t);break;case 22:t.mode&1?(ui=(i=ui)||t.memoizedState!==null,io(n,e,t),ui=i):io(n,e,t);break;default:io(n,e,t)}}function k4(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new C7),e.forEach(function(i){var r=F7.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Mr(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Kn=a.stateNode,Pr=!1;break e;case 3:Kn=a.stateNode.containerInfo,Pr=!0;break e;case 4:Kn=a.stateNode.containerInfo,Pr=!0;break e}a=a.return}if(Kn===null)throw Error(Te(160));QT(s,o,r),Kn=null,Pr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(f){hn(r,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$T(e,n),e=e.sibling}function $T(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Mr(e,n),$r(n),i&4){try{qc(3,n,n.return),um(3,n)}catch(_){hn(n,n.return,_)}try{qc(5,n,n.return)}catch(_){hn(n,n.return,_)}}break;case 1:Mr(e,n),$r(n),i&512&&t!==null&&su(t,t.return);break;case 5:if(Mr(e,n),$r(n),i&512&&t!==null&&su(t,t.return),n.flags&32){var r=n.stateNode;try{df(r,"")}catch(_){hn(n,n.return,_)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&S5(r,s),Zv(a,o);var f=Zv(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?A5(r,h):d==="dangerouslySetInnerHTML"?E5(r,h):d==="children"?df(r,h):ex(r,d,h,f)}switch(a){case"input":Wv(r,s);break;case"textarea":M5(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pu(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?pu(r,!!s.multiple,s.defaultValue,!0):pu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Sf]=s}catch(_){hn(n,n.return,_)}}break;case 6:if(Mr(e,n),$r(n),i&4){if(n.stateNode===null)throw Error(Te(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(_){hn(n,n.return,_)}}break;case 3:if(Mr(e,n),$r(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{gf(e.containerInfo)}catch(_){hn(n,n.return,_)}break;case 4:Mr(e,n),$r(n);break;case 13:Mr(e,n),$r(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Dx=Sn())),i&4&&k4(n);break;case 22:if(d=t!==null&&t.memoizedState!==null,n.mode&1?(ui=(f=ui)||d,Mr(e,n),ui=f):Mr(e,n),$r(n),i&8192){if(f=n.memoizedState!==null,(n.stateNode.isHidden=f)&&!d&&(n.mode&1)!==0)for(Ge=n,d=n.child;d!==null;){for(h=Ge=d;Ge!==null;){switch(p=Ge,m=p.child,p.tag){case 0:case 11:case 14:case 15:qc(4,p,p.return);break;case 1:su(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){i=p,t=p.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){hn(i,t,_)}}break;case 5:su(p,p.return);break;case 22:if(p.memoizedState!==null){V4(h);continue}}m!==null?(m.return=p,Ge=m):V4(h)}d=d.sibling}e:for(d=null,h=n;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,f?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=T5("display",o))}catch(_){hn(n,n.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(_){hn(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mr(e,n),$r(n),i&4&&k4(n);break;case 21:break;default:Mr(e,n),$r(n)}}function $r(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(JT(t)){var i=t;break e}t=t.return}throw Error(Te(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(df(r,""),i.flags&=-33);var s=z4(n);Ty(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=z4(n);Ey(n,a,o);break;default:throw Error(Te(161))}}catch(l){hn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function P7(n,e,t){Ge=n,e6(n)}function e6(n,e,t){for(var i=(n.mode&1)!==0;Ge!==null;){var r=Ge,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Fh;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||ui;a=Fh;var f=ui;if(Fh=o,(ui=l)&&!f)for(Ge=r;Ge!==null;)o=Ge,l=o.child,o.tag===22&&o.memoizedState!==null?H4(r):l!==null?(l.return=o,Ge=l):H4(r);for(;s!==null;)Ge=s,e6(s),s=s.sibling;Ge=r,Fh=a,ui=f}B4(n)}else(r.subtreeFlags&8772)!==0&&s!==null?(s.return=r,Ge=s):B4(n)}}function B4(n){for(;Ge!==null;){var e=Ge;if((e.flags&8772)!==0){var t=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:ui||um(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!ui)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Cr(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&E4(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}E4(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&gf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Te(163))}ui||e.flags&512&&wy(e)}catch(p){hn(e,e.return,p)}}if(e===n){Ge=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function V4(n){for(;Ge!==null;){var e=Ge;if(e===n){Ge=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ge=t;break}Ge=e.return}}function H4(n){for(;Ge!==null;){var e=Ge;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{um(4,e)}catch(l){hn(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){hn(e,r,l)}}var s=e.return;try{wy(e)}catch(l){hn(e,s,l)}break;case 5:var o=e.return;try{wy(e)}catch(l){hn(e,o,l)}}}catch(l){hn(e,e.return,l)}if(e===n){Ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ge=a;break}Ge=e.return}}var R7=Math.ceil,P0=js.ReactCurrentDispatcher,Lx=js.ReactCurrentOwner,gr=js.ReactCurrentBatchConfig,Ot=0,Xn=null,bn=null,Jn=0,Yi=0,ou=jo(0),Dn=0,Cf=null,Xa=0,cm=0,Ix=0,Zc=null,Ii=null,Dx=0,Pu=1/0,As=null,R0=!1,Ay=null,Lo=null,zh=!1,Mo=null,L0=0,Kc=0,Cy=null,Kp=-1,Jp=0;function Mi(){return(Ot&6)!==0?Sn():Kp!==-1?Kp:Kp=Sn()}function Io(n){return(n.mode&1)===0?1:(Ot&2)!==0&&Jn!==0?Jn&-Jn:h7.transition!==null?(Jp===0&&(Jp=z5()),Jp):(n=Gt,n!==0||(n=window.event,n=n===void 0?16:X5(n.type)),n)}function Fr(n,e,t,i){if(50<Kc)throw Kc=0,Cy=null,Error(Te(185));sd(n,t,i),((Ot&2)===0||n!==Xn)&&(n===Xn&&((Ot&2)===0&&(cm|=t),Dn===4&&xo(n,Jn)),zi(n,i),t===1&&Ot===0&&(e.mode&1)===0&&(Pu=Sn()+500,om&&Yo()))}function zi(n,e){var t=n.callbackNode;hR(n,e);var i=p0(n,n===Xn?Jn:0);if(i===0)t!==null&&JS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&JS(t),e===1)n.tag===0?d7(G4.bind(null,n)):cT(G4.bind(null,n)),l7(function(){(Ot&6)===0&&Yo()}),t=null;else{switch(k5(i)){case 1:t=sx;break;case 4:t=O5;break;case 16:t=h0;break;case 536870912:t=F5;break;default:t=h0}t=l6(t,t6.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function t6(n,e){if(Kp=-1,Jp=0,(Ot&6)!==0)throw Error(Te(327));var t=n.callbackNode;if(xu()&&n.callbackNode!==t)return null;var i=p0(n,n===Xn?Jn:0);if(i===0)return null;if((i&30)!==0||(i&n.expiredLanes)!==0||e)e=I0(n,i);else{e=i;var r=Ot;Ot|=2;var s=i6();(Xn!==n||Jn!==e)&&(As=null,Pu=Sn()+500,Ua(n,e));do try{D7();break}catch(a){n6(n,a)}while(1);yx(),P0.current=s,Ot=r,bn!==null?e=0:(Xn=null,Jn=0,e=Dn)}if(e!==0){if(e===2&&(r=ey(n),r!==0&&(i=r,e=by(n,r))),e===1)throw t=Cf,Ua(n,0),xo(n,i),zi(n,Sn()),t;if(e===6)xo(n,i);else{if(r=n.current.alternate,(i&30)===0&&!L7(r)&&(e=I0(n,i),e===2&&(s=ey(n),s!==0&&(i=s,e=by(n,s))),e===1))throw t=Cf,Ua(n,0),xo(n,i),zi(n,Sn()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Te(345));case 2:_a(n,Ii,As);break;case 3:if(xo(n,i),(i&130023424)===i&&(e=Dx+500-Sn(),10<e)){if(p0(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Mi(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=ly(_a.bind(null,n,Ii,As),e);break}_a(n,Ii,As);break;case 4:if(xo(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Or(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Sn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*R7(i/1960))-i,10<i){n.timeoutHandle=ly(_a.bind(null,n,Ii,As),i);break}_a(n,Ii,As);break;case 5:_a(n,Ii,As);break;default:throw Error(Te(329))}}}return zi(n,Sn()),n.callbackNode===t?t6.bind(null,n):null}function by(n,e){var t=Zc;return n.current.memoizedState.isDehydrated&&(Ua(n,e).flags|=256),n=I0(n,e),n!==2&&(e=Ii,Ii=t,e!==null&&Py(e)),n}function Py(n){Ii===null?Ii=n:Ii.push.apply(Ii,n)}function L7(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Br(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xo(n,e){for(e&=~Ix,e&=~cm,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Or(e),i=1<<t;n[t]=-1,e&=~i}}function G4(n){if((Ot&6)!==0)throw Error(Te(327));xu();var e=p0(n,0);if((e&1)===0)return zi(n,Sn()),null;var t=I0(n,e);if(n.tag!==0&&t===2){var i=ey(n);i!==0&&(e=i,t=by(n,i))}if(t===1)throw t=Cf,Ua(n,0),xo(n,e),zi(n,Sn()),t;if(t===6)throw Error(Te(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,_a(n,Ii,As),zi(n,Sn()),null}function Nx(n,e){var t=Ot;Ot|=1;try{return n(e)}finally{Ot=t,Ot===0&&(Pu=Sn()+500,om&&Yo())}}function ja(n){Mo!==null&&Mo.tag===0&&(Ot&6)===0&&xu();var e=Ot;Ot|=1;var t=gr.transition,i=Gt;try{if(gr.transition=null,Gt=1,n)return n()}finally{Gt=i,gr.transition=t,Ot=e,(Ot&6)===0&&Yo()}}function Ux(){Yi=ou.current,$t(ou)}function Ua(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,a7(t)),bn!==null)for(t=bn.return;t!==null;){var i=t;switch(mx(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&x0();break;case 3:Cu(),$t(Oi),$t(hi),Ex();break;case 5:wx(i);break;case 4:Cu();break;case 13:$t(on);break;case 19:$t(on);break;case 10:xx(i.type._context);break;case 22:case 23:Ux()}t=t.return}if(Xn=n,bn=n=Do(n.current,null),Jn=Yi=e,Dn=0,Cf=null,Ix=cm=Xa=0,Ii=Zc=null,Ca!==null){for(e=0;e<Ca.length;e++)if(t=Ca[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Ca=null}return n}function n6(n,e){do{var t=bn;try{if(yx(),Yp.current=b0,C0){for(var i=ln.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}C0=!1}if(Wa=0,Gn=Ln=ln=null,Yc=!1,Ef=0,Lx.current=null,t===null||t.return===null){Dn=1,Cf=e,bn=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Jn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var f=l,d=a,h=d.tag;if((d.mode&1)===0&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=R4(o);if(m!==null){m.flags&=-257,L4(m,o,a,s,e),m.mode&1&&P4(s,f,e),e=m,l=f;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if((e&1)===0){P4(s,f,e),Ox();break e}l=Error(Te(426))}}else if(nn&&a.mode&1){var x=R4(o);if(x!==null){(x.flags&65536)===0&&(x.flags|=256),L4(x,o,a,s,e),gx(bu(l,a));break e}}s=l=bu(l,a),Dn!==4&&(Dn=2),Zc===null?Zc=[s]:Zc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=kT(s,l,e);w4(s,g);break e;case 1:a=l;var S=s.type,w=s.stateNode;if((s.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Lo===null||!Lo.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=BT(s,a,e);w4(s,T);break e}}s=s.return}while(s!==null)}s6(t)}catch(b){e=b,bn===t&&t!==null&&(bn=t=t.return);continue}break}while(1)}function i6(){var n=P0.current;return P0.current=b0,n===null?b0:n}function Ox(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),Xn===null||(Xa&268435455)===0&&(cm&268435455)===0||xo(Xn,Jn)}function I0(n,e){var t=Ot;Ot|=2;var i=i6();(Xn!==n||Jn!==e)&&(As=null,Ua(n,e));do try{I7();break}catch(r){n6(n,r)}while(1);if(yx(),Ot=t,P0.current=i,bn!==null)throw Error(Te(261));return Xn=null,Jn=0,Dn}function I7(){for(;bn!==null;)r6(bn)}function D7(){for(;bn!==null&&!rR();)r6(bn)}function r6(n){var e=a6(n.alternate,n,Yi);n.memoizedProps=n.pendingProps,e===null?s6(n):bn=e,Lx.current=null}function s6(n){var e=n;do{var t=e.alternate;if(n=e.return,(e.flags&32768)===0){if(t=T7(t,e,Yi),t!==null){bn=t;return}}else{if(t=A7(t,e),t!==null){t.flags&=32767,bn=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Dn=6,bn=null;return}}if(e=e.sibling,e!==null){bn=e;return}bn=e=n}while(e!==null);Dn===0&&(Dn=5)}function _a(n,e,t){var i=Gt,r=gr.transition;try{gr.transition=null,Gt=1,N7(n,e,t,i)}finally{gr.transition=r,Gt=i}return null}function N7(n,e,t,i){do xu();while(Mo!==null);if((Ot&6)!==0)throw Error(Te(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Te(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(pR(n,s),n===Xn&&(bn=Xn=null,Jn=0),(t.subtreeFlags&2064)===0&&(t.flags&2064)===0||zh||(zh=!0,l6(h0,function(){return xu(),null})),s=(t.flags&15990)!==0,(t.subtreeFlags&15990)!==0||s){s=gr.transition,gr.transition=null;var o=Gt;Gt=1;var a=Ot;Ot|=4,Lx.current=null,b7(n,t),$T(t,n),e7(oy),m0=!!sy,oy=sy=null,n.current=t,P7(t),sR(),Ot=a,Gt=o,gr.transition=s}else n.current=t;if(zh&&(zh=!1,Mo=n,L0=r),s=n.pendingLanes,s===0&&(Lo=null),lR(t.stateNode),zi(n,Sn()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(R0)throw R0=!1,n=Ay,Ay=null,n;return(L0&1)!==0&&n.tag!==0&&xu(),s=n.pendingLanes,(s&1)!==0?n===Cy?Kc++:(Kc=0,Cy=n):Kc=0,Yo(),null}function xu(){if(Mo!==null){var n=k5(L0),e=gr.transition,t=Gt;try{if(gr.transition=null,Gt=16>n?16:n,Mo===null)var i=!1;else{if(n=Mo,Mo=null,L0=0,(Ot&6)!==0)throw Error(Te(331));var r=Ot;for(Ot|=4,Ge=n.current;Ge!==null;){var s=Ge,o=s.child;if((Ge.flags&16)!==0){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var f=a[l];for(Ge=f;Ge!==null;){var d=Ge;switch(d.tag){case 0:case 11:case 15:qc(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ge=h;else for(;Ge!==null;){d=Ge;var p=d.sibling,m=d.return;if(KT(d),d===f){Ge=null;break}if(p!==null){p.return=m,Ge=p;break}Ge=m}}}var y=s.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}Ge=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,Ge=o;else e:for(;Ge!==null;){if(s=Ge,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:qc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ge=g;break e}Ge=s.return}}var S=n.current;for(Ge=S;Ge!==null;){o=Ge;var w=o.child;if((o.subtreeFlags&2064)!==0&&w!==null)w.return=o,Ge=w;else e:for(o=S;Ge!==null;){if(a=Ge,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:um(9,a)}}catch(b){hn(a,a.return,b)}if(a===o){Ge=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Ge=T;break e}Ge=a.return}}if(Ot=r,Yo(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(tm,n)}catch{}i=!0}return i}finally{Gt=t,gr.transition=e}}return!1}function W4(n,e,t){e=bu(t,e),e=kT(n,e,1),n=Ro(n,e,1),e=Mi(),n!==null&&(sd(n,1,e),zi(n,e))}function hn(n,e,t){if(n.tag===3)W4(n,n,t);else for(;e!==null;){if(e.tag===3){W4(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Lo===null||!Lo.has(i))){n=bu(t,n),n=BT(e,n,1),e=Ro(e,n,1),n=Mi(),e!==null&&(sd(e,1,n),zi(e,n));break}}e=e.return}}function U7(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Mi(),n.pingedLanes|=n.suspendedLanes&t,Xn===n&&(Jn&t)===t&&(Dn===4||Dn===3&&(Jn&130023424)===Jn&&500>Sn()-Dx?Ua(n,0):Ix|=t),zi(n,e)}function o6(n,e){e===0&&((n.mode&1)===0?e=1:(e=bh,bh<<=1,(bh&130023424)===0&&(bh=4194304)));var t=Mi();n=zs(n,e),n!==null&&(sd(n,e,t),zi(n,t))}function O7(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),o6(n,t)}function F7(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Te(314))}i!==null&&i.delete(e),o6(n,t)}var a6;a6=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Oi.current)Ui=!0;else{if((n.lanes&t)===0&&(e.flags&128)===0)return Ui=!1,E7(n,e,t);Ui=(n.flags&131072)!==0}else Ui=!1,nn&&(e.flags&1048576)!==0&&fT(e,M0,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Zp(n,e),n=e.pendingProps;var r=Eu(e,hi.current);yu(e,t),r=Ax(null,e,i,n,r,t);var s=Cx();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fi(i)?(s=!0,_0(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Sx(e),r.updater=lm,e.stateNode=r,r._reactInternals=e,my(e,i,n,t),e=yy(null,e,i,!0,s,t)):(e.tag=0,nn&&s&&px(e),_i(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Zp(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=k7(i),n=Cr(i,n),r){case 0:e=vy(null,e,i,n,t);break e;case 1:e=N4(null,e,i,n,t);break e;case 11:e=I4(null,e,i,n,t);break e;case 14:e=D4(null,e,i,Cr(i.type,n),t);break e}throw Error(Te(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cr(i,r),vy(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cr(i,r),N4(n,e,i,r,t);case 3:e:{if(WT(e),n===null)throw Error(Te(387));i=e.pendingProps,s=e.memoizedState,r=s.element,vT(n,e),T0(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=bu(Error(Te(423)),e),e=U4(n,e,i,t,r);break e}else if(i!==r){r=bu(Error(Te(424)),e),e=U4(n,e,i,t,r);break e}else for(Zi=Po(e.stateNode.containerInfo.firstChild),Ki=e,nn=!0,Lr=null,t=mT(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Tu(),i===r){e=ks(n,e,t);break e}_i(n,e,i,t)}e=e.child}return e;case 5:return yT(e),n===null&&dy(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,ay(i,r)?o=null:s!==null&&ay(i,s)&&(e.flags|=32),GT(n,e),_i(n,e,o,t),e.child;case 6:return n===null&&dy(e),null;case 13:return XT(n,e,t);case 4:return Mx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Au(e,null,i,t):_i(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cr(i,r),I4(n,e,i,r,t);case 7:return _i(n,e,e.pendingProps,t),e.child;case 8:return _i(n,e,e.pendingProps.children,t),e.child;case 12:return _i(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Zt(w0,i._currentValue),i._currentValue=o,s!==null)if(Br(s.value,o)){if(s.children===r.children&&!Oi.current){e=ks(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ns(-1,t&-t),l.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?l.next=l:(l.next=d.next,d.next=l),f.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),hy(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Te(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),hy(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_i(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yu(e,t),r=vr(r),i=i(r),e.flags|=1,_i(n,e,i,t),e.child;case 14:return i=e.type,r=Cr(i,e.pendingProps),r=Cr(i.type,r),D4(n,e,i,r,t);case 15:return VT(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cr(i,r),Zp(n,e),e.tag=1,Fi(i)?(n=!0,_0(e)):n=!1,yu(e,t),zT(e,i,r),my(e,i,r,t),yy(null,e,i,!0,n,t);case 19:return jT(n,e,t);case 22:return HT(n,e,t)}throw Error(Te(156,e.tag))};function l6(n,e){return U5(n,e)}function z7(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(n,e,t,i){return new z7(n,e,t,i)}function Fx(n){return n=n.prototype,!(!n||!n.isReactComponent)}function k7(n){if(typeof n=="function")return Fx(n)?1:0;if(n!=null){if(n=n.$$typeof,n===nx)return 11;if(n===ix)return 14}return 2}function Do(n,e){var t=n.alternate;return t===null?(t=mr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Qp(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")Fx(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Kl:return Oa(t.children,r,s,e);case tx:o=8,r|=8;break;case kv:return n=mr(12,t,e,r|2),n.elementType=kv,n.lanes=s,n;case Bv:return n=mr(13,t,e,r),n.elementType=Bv,n.lanes=s,n;case Vv:return n=mr(19,t,e,r),n.elementType=Vv,n.lanes=s,n;case y5:return fm(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case g5:o=10;break e;case v5:o=9;break e;case nx:o=11;break e;case ix:o=14;break e;case mo:o=16,i=null;break e}throw Error(Te(130,n==null?n:typeof n,""))}return e=mr(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Oa(n,e,t,i){return n=mr(7,n,i,e),n.lanes=t,n}function fm(n,e,t,i){return n=mr(22,n,i,e),n.elementType=y5,n.lanes=t,n.stateNode={isHidden:!1},n}function Dg(n,e,t){return n=mr(6,n,null,e),n.lanes=t,n}function Ng(n,e,t){return e=mr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function B7(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pg(0),this.expirationTimes=pg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pg(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zx(n,e,t,i,r,s,o,a,l){return n=new B7(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mr(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sx(s),n}function V7(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zl,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function u6(n){if(!n)return Vo;n=n._reactInternals;e:{if(Ja(n)!==n||n.tag!==1)throw Error(Te(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Te(171))}if(n.tag===1){var t=n.type;if(Fi(t))return uT(n,t,e)}return e}function c6(n,e,t,i,r,s,o,a,l){return n=zx(t,i,!0,n,r,s,o,a,l),n.context=u6(null),t=n.current,i=Mi(),r=Io(t),s=Ns(i,r),s.callback=e!=null?e:null,Ro(t,s,r),n.current.lanes=r,sd(n,r,i),zi(n,i),n}function dm(n,e,t,i){var r=e.current,s=Mi(),o=Io(r);return t=u6(t),e.context===null?e.context=t:e.pendingContext=t,e=Ns(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Ro(r,e,o),n!==null&&(Fr(n,r,o,s),jp(n,r,o)),o}function D0(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function X4(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function kx(n,e){X4(n,e),(n=n.alternate)&&X4(n,e)}function H7(){return null}var f6=typeof reportError=="function"?reportError:function(n){console.error(n)};function Bx(n){this._internalRoot=n}hm.prototype.render=Bx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Te(409));dm(n,e,null,null)};hm.prototype.unmount=Bx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;ja(function(){dm(null,n,null,null)}),e[Fs]=null}};function hm(n){this._internalRoot=n}hm.prototype.unstable_scheduleHydration=function(n){if(n){var e=H5();n={blockedOn:null,target:n,priority:e};for(var t=0;t<yo.length&&e!==0&&e<yo[t].priority;t++);yo.splice(t,0,n),t===0&&W5(n)}};function Vx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function pm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function j4(){}function G7(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var f=D0(o);s.call(f)}}var o=c6(e,i,n,0,null,!1,!1,"",j4);return n._reactRootContainer=o,n[Fs]=o.current,xf(n.nodeType===8?n.parentNode:n),ja(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var f=D0(l);a.call(f)}}var l=zx(n,0,!1,null,null,!1,!1,"",j4);return n._reactRootContainer=l,n[Fs]=l.current,xf(n.nodeType===8?n.parentNode:n),ja(function(){dm(e,l,t,i)}),l}function mm(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=D0(o);a.call(l)}}dm(e,o,n,r)}else o=G7(t,e,n,r,i);return D0(o)}B5=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=kc(e.pendingLanes);t!==0&&(ox(e,t|1),zi(e,Sn()),(Ot&6)===0&&(Pu=Sn()+500,Yo()))}break;case 13:ja(function(){var i=zs(n,1);if(i!==null){var r=Mi();Fr(i,n,1,r)}}),kx(n,1)}};ax=function(n){if(n.tag===13){var e=zs(n,134217728);if(e!==null){var t=Mi();Fr(e,n,134217728,t)}kx(n,134217728)}};V5=function(n){if(n.tag===13){var e=Io(n),t=zs(n,e);if(t!==null){var i=Mi();Fr(t,n,e,i)}kx(n,e)}};H5=function(){return Gt};G5=function(n,e){var t=Gt;try{return Gt=n,e()}finally{Gt=t}};Jv=function(n,e,t){switch(e){case"input":if(Wv(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=sm(i);if(!r)throw Error(Te(90));_5(i),Wv(i,r)}}}break;case"textarea":M5(n,t);break;case"select":e=t.value,e!=null&&pu(n,!!t.multiple,e,!1)}};P5=Nx;R5=ja;var W7={usingClientEntryPoint:!1,Events:[ad,eu,sm,C5,b5,Nx]},Sc={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X7={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:js.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=D5(n),n===null?null:n.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||H7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{tm=kh.inject(X7),rs=kh}catch{}}$i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W7;$i.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(e))throw Error(Te(200));return V7(n,e,null,t)};$i.createRoot=function(n,e){if(!Vx(n))throw Error(Te(299));var t=!1,i="",r=f6;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=zx(n,1,!1,null,null,t,!1,i,r),n[Fs]=e.current,xf(n.nodeType===8?n.parentNode:n),new Bx(e)};$i.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Te(188)):(n=Object.keys(n).join(","),Error(Te(268,n)));return n=D5(e),n=n===null?null:n.stateNode,n};$i.flushSync=function(n){return ja(n)};$i.hydrate=function(n,e,t){if(!pm(e))throw Error(Te(200));return mm(null,n,e,!0,t)};$i.hydrateRoot=function(n,e,t){if(!Vx(n))throw Error(Te(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=f6;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=c6(e,null,n,1,t!=null?t:null,r,!1,s,o),n[Fs]=e.current,xf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new hm(e)};$i.render=function(n,e,t){if(!pm(e))throw Error(Te(200));return mm(null,n,e,!1,t)};$i.unmountComponentAtNode=function(n){if(!pm(n))throw Error(Te(40));return n._reactRootContainer?(ja(function(){mm(null,null,n,!1,function(){n._reactRootContainer=null,n[Fs]=null})}),!0):!1};$i.unstable_batchedUpdates=Nx;$i.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!pm(t))throw Error(Te(200));if(n==null||n._reactInternals===void 0)throw Error(Te(38));return mm(n,e,t,!1,i)};$i.version="18.3.1-next-f1338f8080-20240426";function d6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d6)}catch(n){console.error(n)}}d6(),em.exports=$i;var j7=em.exports,Y7=r5({__proto__:null,default:j7},[em.exports]);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bf(){return bf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},bf.apply(this,arguments)}var wo;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(wo||(wo={}));const Y4="popstate";function q7(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Ry("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:N0(r)}return K7(e,t,null,n)}function Pn(n,e){if(n===!1||n===null||typeof n=="undefined")throw new Error(e)}function Hx(n,e){if(!n){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z7(){return Math.random().toString(36).substr(2,8)}function q4(n,e){return{usr:n.state,key:n.key,idx:e}}function Ry(n,e,t,i){return t===void 0&&(t=null),bf({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Vu(e):e,{state:t,key:e&&e.key||i||Z7()})}function N0(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Vu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function K7(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=wo.Pop,l=null,f=d();f==null&&(f=0,o.replaceState(bf({},o.state,{idx:f}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=wo.Pop;let x=d(),g=x==null?null:x-f;f=x,l&&l({action:a,location:_.location,delta:g})}function p(x,g){a=wo.Push;let S=Ry(_.location,x,g);t&&t(S,x),f=d()+1;let w=q4(S,f),T=_.createHref(S);try{o.pushState(w,"",T)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(T)}s&&l&&l({action:a,location:_.location,delta:1})}function m(x,g){a=wo.Replace;let S=Ry(_.location,x,g);t&&t(S,x),f=d();let w=q4(S,f),T=_.createHref(S);o.replaceState(w,"",T),s&&l&&l({action:a,location:_.location,delta:0})}function y(x){let g=r.location.origin!=="null"?r.location.origin:r.location.href,S=typeof x=="string"?x:N0(x);return S=S.replace(/ $/,"%20"),Pn(g,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,g)}let _={get action(){return a},get location(){return n(r,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Y4,h),l=x,()=>{r.removeEventListener(Y4,h),l=null}},createHref(x){return e(r,x)},createURL:y,encodeLocation(x){let g=y(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(x){return o.go(x)}};return _}var Z4;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Z4||(Z4={}));function J7(n,e,t){return t===void 0&&(t="/"),Q7(n,e,t,!1)}function Q7(n,e,t,i){let r=typeof e=="string"?Vu(e):e,s=Gx(r.pathname||"/",t);if(s==null)return null;let o=h6(n);$7(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let f=cL(s);a=lL(o[l],f,i)}return a}function h6(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pn(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let f=No([i,l.relativePath]),d=t.concat(l);s.children&&s.children.length>0&&(Pn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),h6(s.children,e,d,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:oL(f,s.index),routesMeta:d})};return n.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of p6(s.path))r(s,o,l)}),e}function p6(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=p6(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function $7(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:aL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const eL=/^:[\w-]+$/,tL=3,nL=2,iL=1,rL=10,sL=-2,K4=n=>n==="*";function oL(n,e){let t=n.split("/"),i=t.length;return t.some(K4)&&(i+=sL),e&&(i+=nL),t.filter(r=>!K4(r)).reduce((r,s)=>r+(eL.test(s)?tL:s===""?iL:rL),i)}function aL(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function lL(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],f=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=J4({path:l.relativePath,caseSensitive:l.caseSensitive,end:f},d),p=l.route;if(!h&&f&&t&&!i[i.length-1].route.index&&(h=J4({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),o.push({params:r,pathname:No([s,h.pathname]),pathnameBase:mL(No([s,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(s=No([s,h.pathnameBase]))}return o}function J4(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=uL(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((f,d,h)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?f[p]=void 0:f[p]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:n}}function uL(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Hx(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function cL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hx(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Gx(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const fL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dL=n=>fL.test(n);function hL(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Vu(n):n,s;if(t)if(dL(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Hx(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+t))}t.startsWith("/")?s=Q4(t.substring(1),"/"):s=Q4(t,e)}else s=e;return{pathname:s,search:gL(i),hash:vL(r)}}function Q4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Ug(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function m6(n,e){let t=pL(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function g6(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Vu(n):(r=bf({},n),Pn(!r.pathname||!r.pathname.includes("?"),Ug("?","pathname","search",r)),Pn(!r.pathname||!r.pathname.includes("#"),Ug("#","pathname","hash",r)),Pn(!r.search||!r.search.includes("#"),Ug("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=hL(r,a),f=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(f||d)&&(l.pathname+="/"),l}const No=n=>n.join("/").replace(/\/\/+/g,"/"),mL=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),gL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function yL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const xL=["post","put","patch","delete"];[...xL];/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pf(){return Pf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Pf.apply(this,arguments)}const Wx=W.exports.createContext(null),_L=W.exports.createContext(null),Qa=W.exports.createContext(null),gm=W.exports.createContext(null),$a=W.exports.createContext({outlet:null,matches:[],isDataRoute:!1}),v6=W.exports.createContext(null);function SL(n,e){let{relative:t}=e===void 0?{}:e;ud()||Pn(!1);let{basename:i,navigator:r}=W.exports.useContext(Qa),{hash:s,pathname:o,search:a}=_6(n,{relative:t}),l=o;return i!=="/"&&(l=o==="/"?i:No([i,o])),r.createHref({pathname:l,search:a,hash:s})}function ud(){return W.exports.useContext(gm)!=null}function vm(){return ud()||Pn(!1),W.exports.useContext(gm).location}function y6(n){W.exports.useContext(Qa).static||W.exports.useLayoutEffect(n)}function x6(){let{isDataRoute:n}=W.exports.useContext($a);return n?NL():ML()}function ML(){ud()||Pn(!1);let n=W.exports.useContext(Wx),{basename:e,future:t,navigator:i}=W.exports.useContext(Qa),{matches:r}=W.exports.useContext($a),{pathname:s}=vm(),o=JSON.stringify(m6(r,t.v7_relativeSplatPath)),a=W.exports.useRef(!1);return y6(()=>{a.current=!0}),W.exports.useCallback(function(f,d){if(d===void 0&&(d={}),!a.current)return;if(typeof f=="number"){i.go(f);return}let h=g6(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:No([e,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[e,i,o,s,n])}function _6(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=W.exports.useContext(Qa),{matches:r}=W.exports.useContext($a),{pathname:s}=vm(),o=JSON.stringify(m6(r,i.v7_relativeSplatPath));return W.exports.useMemo(()=>g6(n,JSON.parse(o),s,t==="path"),[n,o,s,t])}function wL(n,e){return EL(n,e)}function EL(n,e,t,i){ud()||Pn(!1);let{navigator:r}=W.exports.useContext(Qa),{matches:s}=W.exports.useContext($a),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let f=vm(),d;if(e){var h;let x=typeof e=="string"?Vu(e):e;l==="/"||((h=x.pathname)==null?void 0:h.startsWith(l))||Pn(!1),d=x}else d=f;let p=d.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/"),g=p.replace(/^\//,"").split("/");m="/"+g.slice(x.length).join("/")}let y=J7(n,{pathname:m}),_=PL(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:No([l,r.encodeLocation?r.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:No([l,r.encodeLocation?r.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,t,i);return e&&_?W.exports.createElement(gm.Provider,{value:{location:Pf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:wo.Pop}},_):_}function TL(){let n=DL(),e=yL(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return W.exports.createElement(W.exports.Fragment,null,W.exports.createElement("h2",null,"Unexpected Application Error!"),W.exports.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.exports.createElement("pre",{style:r},t):null,s)}const AL=W.exports.createElement(TL,null);class CL extends W.exports.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?W.exports.createElement($a.Provider,{value:this.props.routeContext},W.exports.createElement(v6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bL(n){let{routeContext:e,match:t,children:i}=n,r=W.exports.useContext(Wx);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),W.exports.createElement($a.Provider,{value:e},i)}function PL(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(r=t)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Pn(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,f=-1;if(t&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:p,errors:m}=t,y=h.route.loader&&p[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let m,y=!1,_=null,x=null;t&&(m=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||AL,l&&(f<0&&p===0?(UL("route-fallback",!1),y=!0,x=null):f===p&&(y=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),S=()=>{let w;return m?w=_:y?w=x:h.route.Component?w=W.exports.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,W.exports.createElement(bL,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:t!=null},children:w})};return t&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?W.exports.createElement(CL,{location:t.location,revalidation:t.revalidation,component:_,error:m,children:S(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):S()},null)}var S6=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(S6||{}),U0=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(U0||{});function RL(n){let e=W.exports.useContext(Wx);return e||Pn(!1),e}function LL(n){let e=W.exports.useContext(_L);return e||Pn(!1),e}function IL(n){let e=W.exports.useContext($a);return e||Pn(!1),e}function M6(n){let e=IL(),t=e.matches[e.matches.length-1];return t.route.id||Pn(!1),t.route.id}function DL(){var n;let e=W.exports.useContext(v6),t=LL(U0.UseRouteError),i=M6(U0.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function NL(){let{router:n}=RL(S6.UseNavigateStable),e=M6(U0.UseNavigateStable),t=W.exports.useRef(!1);return y6(()=>{t.current=!0}),W.exports.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,Pf({fromRouteId:e},s)))},[n,e])}const $4={};function UL(n,e,t){!e&&!$4[n]&&($4[n]=!0)}function OL(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}const FL="startTransition";J2[FL];function Ly(n){Pn(!1)}function zL(n){let{basename:e="/",children:t=null,location:i,navigationType:r=wo.Pop,navigator:s,static:o=!1,future:a}=n;ud()&&Pn(!1);let l=e.replace(/^\/*/,"/"),f=W.exports.useMemo(()=>({basename:l,navigator:s,static:o,future:Pf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Vu(i));let{pathname:d="/",search:h="",hash:p="",state:m=null,key:y="default"}=i,_=W.exports.useMemo(()=>{let x=Gx(d,l);return x==null?null:{location:{pathname:x,search:h,hash:p,state:m,key:y},navigationType:r}},[l,d,h,p,m,y,r]);return _==null?null:W.exports.createElement(Qa.Provider,{value:f},W.exports.createElement(gm.Provider,{children:t,value:_}))}function kL(n){let{children:e,location:t}=n;return wL(Iy(e),t)}new Promise(()=>{});function Iy(n,e){e===void 0&&(e=[]);let t=[];return W.exports.Children.forEach(n,(i,r)=>{if(!W.exports.isValidElement(i))return;let s=[...e,r];if(i.type===W.exports.Fragment){t.push.apply(t,Iy(i.props.children,s));return}i.type!==Ly&&Pn(!1),!i.props.index||!i.props.children||Pn(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Iy(i.props.children,s)),t.push(o)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dy(){return Dy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dy.apply(this,arguments)}function BL(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function VL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function HL(n,e){return n.button===0&&(!e||e==="_self")&&!VL(n)}const GL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WL="6";try{window.__reactRouterVersion=WL}catch{}const XL="startTransition",eM=J2[XL],jL="flushSync";Y7[jL];const YL="useId";J2[YL];function qL(n){let{basename:e,children:t,future:i,window:r}=n,s=W.exports.useRef();s.current==null&&(s.current=q7({window:r,v5Compat:!0}));let o=s.current,[a,l]=W.exports.useState({action:o.action,location:o.location}),{v7_startTransition:f}=i||{},d=W.exports.useCallback(h=>{f&&eM?eM(()=>l(h)):l(h)},[l,f]);return W.exports.useLayoutEffect(()=>o.listen(d),[o,d]),W.exports.useEffect(()=>OL(i),[i]),W.exports.createElement(zL,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:i})}const ZL=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",KL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JL=W.exports.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:f,preventScrollReset:d,viewTransition:h}=e,p=BL(e,GL),{basename:m}=W.exports.useContext(Qa),y,_=!1;if(typeof f=="string"&&KL.test(f)&&(y=f,ZL))try{let w=new URL(window.location.href),T=f.startsWith("//")?new URL(w.protocol+f):new URL(f),b=Gx(T.pathname,m);T.origin===w.origin&&b!=null?f=b+T.search+T.hash:_=!0}catch{}let x=SL(f,{relative:r}),g=QL(f,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:h});function S(w){i&&i(w),w.defaultPrevented||g(w)}return W.exports.createElement("a",Dy({},p,{href:y||x,onClick:_||s?i:S,ref:t,target:l}))});var tM;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(tM||(tM={}));var nM;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(nM||(nM={}));function QL(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=x6(),f=vm(),d=_6(n,{relative:o});return W.exports.useCallback(h=>{if(HL(h,t)){h.preventDefault();let p=i!==void 0?i:N0(f)===N0(d);l(n,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[f,l,d,i,r,t,n,s,o,a])}var Ny={},iM=em.exports;Ny.createRoot=iM.createRoot,Ny.hydrateRoot=iM.hydrateRoot;var Uy=function(n,e){return Uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},Uy(n,e)};function w6(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Uy(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var be=function(){return be=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},be.apply(this,arguments)};function xr(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function $L(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gn(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function zr(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var eI="production",Xx=typeof process=="undefined"||process.env===void 0?eI:"production",xs=function(n){return{isEnabled:function(e){return n.some(function(t){return!!e[t]})}}},Rf={measureLayout:xs(["layout","layoutId","drag"]),animation:xs(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:xs(["exit"]),drag:xs(["drag","dragControls"]),focus:xs(["whileFocus"]),hover:xs(["whileHover","onHoverStart","onHoverEnd"]),tap:xs(["whileTap","onTap","onTapStart","onTapCancel"]),pan:xs(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:xs(["whileInView","onViewportEnter","onViewportLeave"])};function tI(n){for(var e in n)n[e]!==null&&(e==="projectionNodeConstructor"?Rf.projectionNodeConstructor=n[e]:Rf[e].Component=n[e])}var nI=function(){},O0=function(){},E6=W.exports.createContext({strict:!1}),T6=Object.keys(Rf),iI=T6.length;function rI(n,e,t){var i=[],r=W.exports.useContext(E6);if(!e)return null;Xx!=="production"&&t&&r.strict;for(var s=0;s<iI;s++){var o=T6[s],a=Rf[o],l=a.isEnabled,f=a.Component;l(n)&&f&&i.push(W.exports.createElement(f,be({key:o},n,{visualElement:e})))}return i}var jx=W.exports.createContext({transformPagePoint:function(n){return n},isStatic:!1,reducedMotion:"never"}),ym=W.exports.createContext({});function sI(){return W.exports.useContext(ym).visualElement}var cd=W.exports.createContext(null),Hu=typeof document!="undefined",F0=Hu?W.exports.useLayoutEffect:W.exports.useEffect,Oy={current:null},A6=!1;function oI(){if(A6=!0,!!Hu)if(window.matchMedia){var n=window.matchMedia("(prefers-reduced-motion)"),e=function(){return Oy.current=n.matches};n.addListener(e),e()}else Oy.current=!1}function aI(){!A6&&oI();var n=gn(W.exports.useState(Oy.current),1),e=n[0];return e}function lI(){var n=aI(),e=W.exports.useContext(jx).reducedMotion;return e==="never"?!1:e==="always"?!0:n}function uI(n,e,t,i){var r=W.exports.useContext(E6),s=sI(),o=W.exports.useContext(cd),a=lI(),l=W.exports.useRef(void 0);i||(i=r.renderer),!l.current&&i&&(l.current=i(n,{visualState:e,parent:s,props:t,presenceId:o==null?void 0:o.id,blockInitialAnimation:(o==null?void 0:o.initial)===!1,shouldReduceMotion:a}));var f=l.current;return F0(function(){f==null||f.syncRender()}),W.exports.useEffect(function(){var d;(d=f==null?void 0:f.animationState)===null||d===void 0||d.animateChanges()}),F0(function(){return function(){return f==null?void 0:f.notifyUnmount()}},[]),f}function au(n){return typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function cI(n,e,t){return W.exports.useCallback(function(i){var r;i&&((r=n.mount)===null||r===void 0||r.call(n,i)),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):au(t)&&(t.current=i))},[e])}function C6(n){return Array.isArray(n)}function Rr(n){return typeof n=="string"||C6(n)}function fI(n){var e={};return n.forEachValue(function(t,i){return e[i]=t.get()}),e}function dI(n){var e={};return n.forEachValue(function(t,i){return e[i]=t.getVelocity()}),e}function b6(n,e,t,i,r){var s;return i===void 0&&(i={}),r===void 0&&(r={}),typeof e=="function"&&(e=e(t!=null?t:n.custom,i,r)),typeof e=="string"&&(e=(s=n.variants)===null||s===void 0?void 0:s[e]),typeof e=="function"&&(e=e(t!=null?t:n.custom,i,r)),e}function xm(n,e,t){var i=n.getProps();return b6(i,e,t!=null?t:i.custom,fI(n),dI(n))}function _m(n){var e;return typeof((e=n.animate)===null||e===void 0?void 0:e.start)=="function"||Rr(n.initial)||Rr(n.animate)||Rr(n.whileHover)||Rr(n.whileDrag)||Rr(n.whileTap)||Rr(n.whileFocus)||Rr(n.exit)}function P6(n){return Boolean(_m(n)||n.variants)}function hI(n,e){if(_m(n)){var t=n.initial,i=n.animate;return{initial:t===!1||Rr(t)?t:void 0,animate:Rr(i)?i:void 0}}return n.inherit!==!1?e:{}}function pI(n){var e=hI(n,W.exports.useContext(ym)),t=e.initial,i=e.animate;return W.exports.useMemo(function(){return{initial:t,animate:i}},[rM(t),rM(i)])}function rM(n){return Array.isArray(n)?n.join(" "):n}function fd(n){var e=W.exports.useRef(null);return e.current===null&&(e.current=n()),e.current}var Jc={hasAnimatedSinceResize:!0,hasEverUpdated:!1},mI=1;function gI(){return fd(function(){if(Jc.hasEverUpdated)return mI++})}var Yx=W.exports.createContext({}),R6=W.exports.createContext({});function vI(n,e,t,i){var r,s=e.layoutId,o=e.layout,a=e.drag,l=e.dragConstraints,f=e.layoutScroll,d=W.exports.useContext(R6);!i||!t||(t==null?void 0:t.projection)||(t.projection=new i(n,t.getLatestValues(),(r=t.parent)===null||r===void 0?void 0:r.projection),t.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:Boolean(a)||l&&au(l),visualElement:t,scheduleRender:function(){return t.scheduleRender()},animationType:typeof o=="string"?o:"both",initialPromotionConfig:d,layoutScroll:f}))}var yI=function(n){w6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},e.prototype.componentDidUpdate=function(){},e.prototype.updateProps=function(){var t=this.props,i=t.visualElement,r=t.props;i&&i.setProps(r)},e.prototype.render=function(){return this.props.children},e}(Ur.Component);function xI(n){var e=n.preloadedFeatures,t=n.createVisualElement,i=n.projectionNodeConstructor,r=n.useRender,s=n.useVisualState,o=n.Component;e&&tI(e);function a(l,f){var d=_I(l);l=be(be({},l),{layoutId:d});var h=W.exports.useContext(jx),p=null,m=pI(l),y=h.isStatic?void 0:gI(),_=s(l,h.isStatic);return!h.isStatic&&Hu&&(m.visualElement=uI(o,_,be(be({},h),l),t),vI(y,l,m.visualElement,i||Rf.projectionNodeConstructor),p=rI(l,m.visualElement,e)),W.exports.createElement(yI,{visualElement:m.visualElement,props:be(be({},h),l)},p,W.exports.createElement(ym.Provider,{value:m},r(o,l,y,cI(_,m.visualElement,f),_,h.isStatic,m.visualElement)))}return W.exports.forwardRef(a)}function _I(n){var e,t=n.layoutId,i=(e=W.exports.useContext(Yx))===null||e===void 0?void 0:e.id;return i&&t!==void 0?i+"-"+t:t}function SI(n){function e(i,r){return r===void 0&&(r={}),xI(n(i,r))}if(typeof Proxy=="undefined")return e;var t=new Map;return new Proxy(e,{get:function(i,r){return t.has(r)||t.set(r,e(r)),t.get(r)}})}var MI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function qx(n){return typeof n!="string"||n.includes("-")?!1:!!(MI.indexOf(n)>-1||/[A-Z]/.test(n))}var z0={};function wI(n){Object.assign(z0,n)}var Fy=["","X","Y","Z"],EI=["translate","scale","rotate","skew"],Lf=["transformPerspective","x","y","z"];EI.forEach(function(n){return Fy.forEach(function(e){return Lf.push(n+e)})});function TI(n,e){return Lf.indexOf(n)-Lf.indexOf(e)}var AI=new Set(Lf);function dd(n){return AI.has(n)}var CI=new Set(["originX","originY","originZ"]);function L6(n){return CI.has(n)}function I6(n,e){var t=e.layout,i=e.layoutId;return dd(n)||L6(n)||(t||i!==void 0)&&(!!z0[n]||n==="opacity")}var Bs=function(n){return Boolean(n!==null&&typeof n=="object"&&n.getVelocity)},bI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function PI(n,e,t,i){var r=n.transform,s=n.transformKeys,o=e.enableHardwareAcceleration,a=o===void 0?!0:o,l=e.allowTransformNone,f=l===void 0?!0:l,d="";s.sort(TI);for(var h=!1,p=s.length,m=0;m<p;m++){var y=s[m];d+="".concat(bI[y]||y,"(").concat(r[y],") "),y==="z"&&(h=!0)}return!h&&a?d+="translateZ(0)":d=d.trim(),i?d=i(r,t?"":d):f&&t&&(d="none"),d}function RI(n){var e=n.originX,t=e===void 0?"50%":e,i=n.originY,r=i===void 0?"50%":i,s=n.originZ,o=s===void 0?0:s;return"".concat(t," ").concat(r," ").concat(o)}function D6(n){return n.startsWith("--")}var LI=function(n,e){return e&&typeof n=="number"?e.transform(n):n};const N6=(n,e)=>t=>Math.max(Math.min(t,e),n),Qc=n=>n%1?Number(n.toFixed(5)):n,If=/(-)?([\d]*\.?[\d])+/g,zy=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,II=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function hd(n){return typeof n=="string"}const el={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},$c=Object.assign(Object.assign({},el),{transform:N6(0,1)}),Bh=Object.assign(Object.assign({},el),{default:1}),pd=n=>({test:e=>hd(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ho=pd("deg"),os=pd("%"),dt=pd("px"),DI=pd("vh"),NI=pd("vw"),sM=Object.assign(Object.assign({},os),{parse:n=>os.parse(n)/100,transform:n=>os.transform(n*100)}),Zx=(n,e)=>t=>Boolean(hd(t)&&II.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),U6=(n,e,t)=>i=>{if(!hd(i))return i;const[r,s,o,a]=i.match(If);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Pa={test:Zx("hsl","hue"),parse:U6("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+os.transform(Qc(e))+", "+os.transform(Qc(t))+", "+Qc($c.transform(i))+")"},UI=N6(0,255),Og=Object.assign(Object.assign({},el),{transform:n=>Math.round(UI(n))}),Eo={test:Zx("rgb","red"),parse:U6("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Og.transform(n)+", "+Og.transform(e)+", "+Og.transform(t)+", "+Qc($c.transform(i))+")"};function OI(n){let e="",t="",i="",r="";return n.length>5?(e=n.substr(1,2),t=n.substr(3,2),i=n.substr(5,2),r=n.substr(7,2)):(e=n.substr(1,1),t=n.substr(2,1),i=n.substr(3,1),r=n.substr(4,1),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const ky={test:Zx("#"),parse:OI,transform:Eo.transform},xi={test:n=>Eo.test(n)||ky.test(n)||Pa.test(n),parse:n=>Eo.test(n)?Eo.parse(n):Pa.test(n)?Pa.parse(n):ky.parse(n),transform:n=>hd(n)?n:n.hasOwnProperty("red")?Eo.transform(n):Pa.transform(n)},O6="${c}",F6="${n}";function FI(n){var e,t,i,r;return isNaN(n)&&hd(n)&&((t=(e=n.match(If))===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0)+((r=(i=n.match(zy))===null||i===void 0?void 0:i.length)!==null&&r!==void 0?r:0)>0}function z6(n){typeof n=="number"&&(n=`${n}`);const e=[];let t=0;const i=n.match(zy);i&&(t=i.length,n=n.replace(zy,O6),e.push(...i.map(xi.parse)));const r=n.match(If);return r&&(n=n.replace(If,F6),e.push(...r.map(el.parse))),{values:e,numColors:t,tokenised:n}}function k6(n){return z6(n).values}function B6(n){const{values:e,numColors:t,tokenised:i}=z6(n),r=e.length;return s=>{let o=i;for(let a=0;a<r;a++)o=o.replace(a<t?O6:F6,a<t?xi.transform(s[a]):Qc(s[a]));return o}}const zI=n=>typeof n=="number"?0:n;function kI(n){const e=k6(n);return B6(n)(e.map(zI))}const Vs={test:FI,parse:k6,createTransformer:B6,getAnimatableNone:kI},BI=new Set(["brightness","contrast","saturate","opacity"]);function VI(n){let[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(If)||[];if(!i)return n;const r=t.replace(i,"");let s=BI.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const HI=/([a-z-]*)\(.*?\)/g,By=Object.assign(Object.assign({},Vs),{getAnimatableNone:n=>{const e=n.match(HI);return e?e.map(VI).join(" "):n}});var oM=be(be({},el),{transform:Math.round}),V6={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,size:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,rotate:ho,rotateX:ho,rotateY:ho,rotateZ:ho,scale:Bh,scaleX:Bh,scaleY:Bh,scaleZ:Bh,skew:ho,skewX:ho,skewY:ho,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:$c,originX:sM,originY:sM,originZ:dt,zIndex:oM,fillOpacity:$c,strokeOpacity:$c,numOctaves:oM};function Kx(n,e,t,i){var r,s=n.style,o=n.vars,a=n.transform,l=n.transformKeys,f=n.transformOrigin;l.length=0;var d=!1,h=!1,p=!0;for(var m in e){var y=e[m];if(D6(m)){o[m]=y;continue}var _=V6[m],x=LI(y,_);if(dd(m)){if(d=!0,a[m]=x,l.push(m),!p)continue;y!==((r=_.default)!==null&&r!==void 0?r:0)&&(p=!1)}else L6(m)?(f[m]=x,h=!0):s[m]=x}d?s.transform=PI(n,t,p,i):i?s.transform=i({},""):!e.transform&&s.transform&&(s.transform="none"),h&&(s.transformOrigin=RI(f))}var Jx=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function H6(n,e,t){for(var i in e)!Bs(e[i])&&!I6(i,t)&&(n[i]=e[i])}function GI(n,e,t){var i=n.transformTemplate;return W.exports.useMemo(function(){var r=Jx();Kx(r,e,{enableHardwareAcceleration:!t},i);var s=r.vars,o=r.style;return be(be({},s),o)},[e])}function WI(n,e,t){var i=n.style||{},r={};return H6(r,i,n),Object.assign(r,GI(n,e,t)),n.transformValues&&(r=n.transformValues(r)),r}function XI(n,e,t){var i={},r=WI(n,e,t);return Boolean(n.drag)&&n.dragListener!==!1&&(i.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":"pan-".concat(n.drag==="x"?"y":"x")),i.style=r,i}var jI=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function k0(n){return jI.has(n)}var G6=function(n){return!k0(n)};function YI(n){!n||(G6=function(e){return e.startsWith("on")?!k0(e):n(e)})}try{YI(require("@emotion/is-prop-valid").default)}catch{}function qI(n,e,t){var i={};for(var r in n)(G6(r)||t===!0&&k0(r)||!e&&!k0(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function aM(n,e,t){return typeof n=="string"?n:dt.transform(e+t*n)}function ZI(n,e,t){var i=aM(e,n.x,n.width),r=aM(t,n.y,n.height);return"".concat(i," ").concat(r)}var KI={offset:"stroke-dashoffset",array:"stroke-dasharray"},JI={offset:"strokeDashoffset",array:"strokeDasharray"};function QI(n,e,t,i,r){t===void 0&&(t=1),i===void 0&&(i=0),r===void 0&&(r=!0),n.pathLength=1;var s=r?KI:JI;n[s.offset]=dt.transform(-i);var o=dt.transform(e),a=dt.transform(t);n[s.array]="".concat(o," ").concat(a)}function Qx(n,e,t,i){var r=e.attrX,s=e.attrY,o=e.originX,a=e.originY,l=e.pathLength,f=e.pathSpacing,d=f===void 0?1:f,h=e.pathOffset,p=h===void 0?0:h,m=xr(e,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]);Kx(n,m,t,i),n.attrs=n.style,n.style={};var y=n.attrs,_=n.style,x=n.dimensions;y.transform&&(x&&(_.transform=y.transform),delete y.transform),x&&(o!==void 0||a!==void 0||_.transform)&&(_.transformOrigin=ZI(x,o!==void 0?o:.5,a!==void 0?a:.5)),r!==void 0&&(y.x=r),s!==void 0&&(y.y=s),l!==void 0&&QI(y,l,d,p,!1)}var W6=function(){return be(be({},Jx()),{attrs:{}})};function $I(n,e){var t=W.exports.useMemo(function(){var r=W6();return Qx(r,e,{enableHardwareAcceleration:!1},n.transformTemplate),be(be({},r.attrs),{style:be({},r.style)})},[e]);if(n.style){var i={};H6(i,n.style,n),t.style=be(be({},i),t.style)}return t}function e9(n){n===void 0&&(n=!1);var e=function(t,i,r,s,o,a){var l=o.latestValues,f=qx(t)?$I:XI,d=f(i,l,a),h=qI(i,typeof t=="string",n),p=be(be(be({},h),d),{ref:s});return r&&(p["data-projection-id"]=r),W.exports.createElement(t,p)};return e}var t9=/([a-z])([A-Z])/g,n9="$1-$2",X6=function(n){return n.replace(t9,n9).toLowerCase()};function j6(n,e,t,i){var r=e.style,s=e.vars;Object.assign(n.style,r,i&&i.getProjectionStyles(t));for(var o in s)n.style.setProperty(o,s[o])}var Y6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function q6(n,e,t,i){j6(n,e,void 0,i);for(var r in e.attrs)n.setAttribute(Y6.has(r)?r:X6(r),e.attrs[r])}function $x(n){var e=n.style,t={};for(var i in e)(Bs(e[i])||I6(i,n))&&(t[i]=e[i]);return t}function Z6(n){var e=$x(n);for(var t in n)if(Bs(n[t])){var i=t==="x"||t==="y"?"attr"+t.toUpperCase():t;e[i]=n[t]}return e}function e_(n){return typeof n=="object"&&typeof n.start=="function"}var Df=function(n){return Array.isArray(n)},i9=function(n){return Boolean(n&&typeof n=="object"&&n.mix&&n.toValue)},K6=function(n){return Df(n)?n[n.length-1]||0:n};function $p(n){var e=Bs(n)?n.get():n;return i9(e)?e.toValue():e}function lM(n,e,t,i){var r=n.scrapeMotionValuesFromProps,s=n.createRenderState,o=n.onMount,a={latestValues:r9(e,t,i,r),renderState:s()};return o&&(a.mount=function(l){return o(e,l,a)}),a}var J6=function(n){return function(e,t){var i=W.exports.useContext(ym),r=W.exports.useContext(cd);return t?lM(n,e,i,r):fd(function(){return lM(n,e,i,r)})}};function r9(n,e,t,i){var r={},s=(t==null?void 0:t.initial)===!1,o=i(n);for(var a in o)r[a]=$p(o[a]);var l=n.initial,f=n.animate,d=_m(n),h=P6(n);e&&h&&!d&&n.inherit!==!1&&(l!=null||(l=e.initial),f!=null||(f=e.animate));var p=s||l===!1,m=p?f:l;if(m&&typeof m!="boolean"&&!e_(m)){var y=Array.isArray(m)?m:[m];y.forEach(function(_){var x=b6(n,_);if(!!x){var g=x.transitionEnd;x.transition;var S=xr(x,["transitionEnd","transition"]);for(var w in S){var T=S[w];if(Array.isArray(T)){var b=p?T.length-1:0;T=T[b]}T!==null&&(r[w]=T)}for(var w in g)r[w]=g[w]}})}return r}var s9={useVisualState:J6({scrapeMotionValuesFromProps:Z6,createRenderState:W6,onMount:function(n,e,t){var i=t.renderState,r=t.latestValues;try{i.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{i.dimensions={x:0,y:0,width:0,height:0}}Qx(i,r,{enableHardwareAcceleration:!1},n.transformTemplate),q6(e,i)}})},o9={useVisualState:J6({scrapeMotionValuesFromProps:$x,createRenderState:Jx})};function a9(n,e,t,i,r){var s=e.forwardMotionProps,o=s===void 0?!1:s,a=qx(n)?s9:o9;return be(be({},a),{preloadedFeatures:t,useRender:e9(o),createVisualElement:i,projectionNodeConstructor:r,Component:n})}var qt;(function(n){n.Animate="animate",n.Hover="whileHover",n.Tap="whileTap",n.Drag="whileDrag",n.Focus="whileFocus",n.InView="whileInView",n.Exit="exit"})(qt||(qt={}));function Sm(n,e,t,i){return i===void 0&&(i={passive:!0}),n.addEventListener(e,t,i),function(){return n.removeEventListener(e,t)}}function Vy(n,e,t,i){W.exports.useEffect(function(){var r=n.current;if(t&&r)return Sm(r,e,t,i)},[n,e,t,i])}function l9(n){var e=n.whileFocus,t=n.visualElement,i=function(){var s;(s=t.animationState)===null||s===void 0||s.setActive(qt.Focus,!0)},r=function(){var s;(s=t.animationState)===null||s===void 0||s.setActive(qt.Focus,!1)};Vy(t,"focus",e?i:void 0),Vy(t,"blur",e?r:void 0)}function Q6(n){return typeof PointerEvent!="undefined"&&n instanceof PointerEvent?n.pointerType==="mouse":n instanceof MouseEvent}function $6(n){var e=!!n.touches;return e}function u9(n){return function(e){var t=e instanceof MouseEvent,i=!t||t&&e.button===0;i&&n(e)}}var c9={pageX:0,pageY:0};function f9(n,e){e===void 0&&(e="page");var t=n.touches[0]||n.changedTouches[0],i=t||c9;return{x:i[e+"X"],y:i[e+"Y"]}}function d9(n,e){return e===void 0&&(e="page"),{x:n[e+"X"],y:n[e+"Y"]}}function t_(n,e){return e===void 0&&(e="page"),{point:$6(n)?f9(n,e):d9(n,e)}}var eA=function(n,e){e===void 0&&(e=!1);var t=function(i){return n(i,t_(i))};return e?u9(t):t},h9=function(){return Hu&&window.onpointerdown===null},p9=function(){return Hu&&window.ontouchstart===null},m9=function(){return Hu&&window.onmousedown===null},g9={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},v9={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function tA(n){return h9()?n:p9()?v9[n]:m9()?g9[n]:n}function _u(n,e,t,i){return Sm(n,tA(e),eA(t,e==="pointerdown"),i)}function B0(n,e,t,i){return Vy(n,tA(e),t&&eA(t,e==="pointerdown"),i)}function nA(n){var e=null;return function(){var t=function(){e=null};return e===null?(e=n,t):!1}}var uM=nA("dragHorizontal"),cM=nA("dragVertical");function iA(n){var e=!1;if(n==="y")e=cM();else if(n==="x")e=uM();else{var t=uM(),i=cM();t&&i?e=function(){t(),i()}:(t&&t(),i&&i())}return e}function rA(){var n=iA(!0);return n?(n(),!1):!0}function fM(n,e,t){return function(i,r){var s;!Q6(i)||rA()||((s=n.animationState)===null||s===void 0||s.setActive(qt.Hover,e),t==null||t(i,r))}}function y9(n){var e=n.onHoverStart,t=n.onHoverEnd,i=n.whileHover,r=n.visualElement;B0(r,"pointerenter",e||i?fM(r,!0,e):void 0,{passive:!e}),B0(r,"pointerleave",t||i?fM(r,!1,t):void 0,{passive:!t})}var sA=function(n,e){return e?n===e?!0:sA(n,e.parentElement):!1};function n_(n){return W.exports.useEffect(function(){return function(){return n()}},[])}const V0=(n,e,t)=>Math.min(Math.max(t,n),e),Fg=.001,x9=.01,dM=10,_9=.05,S9=1;function M9({duration:n=800,bounce:e=.25,velocity:t=0,mass:i=1}){let r,s;nI(n<=dM*1e3);let o=1-e;o=V0(_9,S9,o),n=V0(x9,dM,n/1e3),o<1?(r=f=>{const d=f*o,h=d*n,p=d-t,m=Hy(f,o),y=Math.exp(-h);return Fg-p/m*y},s=f=>{const h=f*o*n,p=h*t+t,m=Math.pow(o,2)*Math.pow(f,2)*n,y=Math.exp(-h),_=Hy(Math.pow(f,2),o);return(-r(f)+Fg>0?-1:1)*((p-m)*y)/_}):(r=f=>{const d=Math.exp(-f*n),h=(f-t)*n+1;return-Fg+d*h},s=f=>{const d=Math.exp(-f*n),h=(t-f)*(n*n);return d*h});const a=5/n,l=E9(r,s,a);if(n=n*1e3,isNaN(l))return{stiffness:100,damping:10,duration:n};{const f=Math.pow(l,2)*i;return{stiffness:f,damping:o*2*Math.sqrt(i*f),duration:n}}}const w9=12;function E9(n,e,t){let i=t;for(let r=1;r<w9;r++)i=i-n(i)/e(i);return i}function Hy(n,e){return n*Math.sqrt(1-e*e)}const T9=["duration","bounce"],A9=["stiffness","damping","mass"];function hM(n,e){return e.some(t=>n[t]!==void 0)}function C9(n){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},n);if(!hM(n,A9)&&hM(n,T9)){const t=M9(n);e=Object.assign(Object.assign(Object.assign({},e),t),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function i_(n){var{from:e=0,to:t=1,restSpeed:i=2,restDelta:r}=n,s=xr(n,["from","to","restSpeed","restDelta"]);const o={done:!1,value:e};let{stiffness:a,damping:l,mass:f,velocity:d,duration:h,isResolvedFromDuration:p}=C9(s),m=pM,y=pM;function _(){const x=d?-(d/1e3):0,g=t-e,S=l/(2*Math.sqrt(a*f)),w=Math.sqrt(a/f)/1e3;if(r===void 0&&(r=Math.min(Math.abs(t-e)/100,.4)),S<1){const T=Hy(w,S);m=b=>{const C=Math.exp(-S*w*b);return t-C*((x+S*w*g)/T*Math.sin(T*b)+g*Math.cos(T*b))},y=b=>{const C=Math.exp(-S*w*b);return S*w*C*(Math.sin(T*b)*(x+S*w*g)/T+g*Math.cos(T*b))-C*(Math.cos(T*b)*(x+S*w*g)-T*g*Math.sin(T*b))}}else if(S===1)m=T=>t-Math.exp(-w*T)*(g+(x+w*g)*T);else{const T=w*Math.sqrt(S*S-1);m=b=>{const C=Math.exp(-S*w*b),L=Math.min(T*b,300);return t-C*((x+S*w*g)*Math.sinh(L)+T*g*Math.cosh(L))/T}}}return _(),{next:x=>{const g=m(x);if(p)o.done=x>=h;else{const S=y(x)*1e3,w=Math.abs(S)<=i,T=Math.abs(t-g)<=r;o.done=w&&T}return o.value=o.done?t:g,o},flipTarget:()=>{d=-d,[e,t]=[t,e],_()}}}i_.needsInterpolation=(n,e)=>typeof n=="string"||typeof e=="string";const pM=n=>0,Nf=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i},mn=(n,e,t)=>-t*n+t*e+n;function zg(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function mM({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,o=0;if(!e)r=s=o=t;else{const a=t<.5?t*(1+e):t+e-t*e,l=2*t-a;r=zg(l,a,n+1/3),s=zg(l,a,n),o=zg(l,a,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}const b9=(n,e,t)=>{const i=n*n,r=e*e;return Math.sqrt(Math.max(0,t*(r-i)+i))},P9=[ky,Eo,Pa],gM=n=>P9.find(e=>e.test(n)),oA=(n,e)=>{let t=gM(n),i=gM(e),r=t.parse(n),s=i.parse(e);t===Pa&&(r=mM(r),t=Eo),i===Pa&&(s=mM(s),i=Eo);const o=Object.assign({},r);return a=>{for(const l in o)l!=="alpha"&&(o[l]=b9(r[l],s[l],a));return o.alpha=mn(r.alpha,s.alpha,a),t.transform(o)}},Gy=n=>typeof n=="number",R9=(n,e)=>t=>e(n(t)),Mm=(...n)=>n.reduce(R9);function aA(n,e){return Gy(n)?t=>mn(n,e,t):xi.test(n)?oA(n,e):uA(n,e)}const lA=(n,e)=>{const t=[...n],i=t.length,r=n.map((s,o)=>aA(s,e[o]));return s=>{for(let o=0;o<i;o++)t[o]=r[o](s);return t}},L9=(n,e)=>{const t=Object.assign(Object.assign({},n),e),i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=aA(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}};function vM(n){const e=Vs.parse(n),t=e.length;let i=0,r=0,s=0;for(let o=0;o<t;o++)i||typeof e[o]=="number"?i++:e[o].hue!==void 0?s++:r++;return{parsed:e,numNumbers:i,numRGB:r,numHSL:s}}const uA=(n,e)=>{const t=Vs.createTransformer(e),i=vM(n),r=vM(e);return i.numHSL===r.numHSL&&i.numRGB===r.numRGB&&i.numNumbers>=r.numNumbers?Mm(lA(i.parsed,r.parsed),t):o=>`${o>0?e:n}`},I9=(n,e)=>t=>mn(n,e,t);function D9(n){if(typeof n=="number")return I9;if(typeof n=="string")return xi.test(n)?oA:uA;if(Array.isArray(n))return lA;if(typeof n=="object")return L9}function N9(n,e,t){const i=[],r=t||D9(n[0]),s=n.length-1;for(let o=0;o<s;o++){let a=r(n[o],n[o+1]);if(e){const l=Array.isArray(e)?e[o]:e;a=Mm(l,a)}i.push(a)}return i}function U9([n,e],[t]){return i=>t(Nf(n,e,i))}function O9(n,e){const t=n.length,i=t-1;return r=>{let s=0,o=!1;if(r<=n[0]?o=!0:r>=n[i]&&(s=i-1,o=!0),!o){let l=1;for(;l<t&&!(n[l]>r||l===i);l++);s=l-1}const a=Nf(n[s],n[s+1],r);return e[s](a)}}function cA(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;O0(s===e.length),O0(!i||!Array.isArray(i)||i.length===s-1),n[0]>n[s-1]&&(n=[].concat(n),e=[].concat(e),n.reverse(),e.reverse());const o=N9(e,i,r),a=s===2?U9(n,o):O9(n,o);return t?l=>a(V0(n[0],n[s-1],l)):a}const wm=n=>e=>1-n(1-e),r_=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,F9=n=>e=>Math.pow(e,n),fA=n=>e=>e*e*((n+1)*e-n),z9=n=>{const e=fA(n);return t=>(t*=2)<1?.5*e(t):.5*(2-Math.pow(2,-10*(t-1)))},dA=1.525,k9=4/11,B9=8/11,V9=9/10,s_=n=>n,o_=F9(2),H9=wm(o_),hA=r_(o_),pA=n=>1-Math.sin(Math.acos(n)),a_=wm(pA),G9=r_(a_),l_=fA(dA),W9=wm(l_),X9=r_(l_),j9=z9(dA),Y9=4356/361,q9=35442/1805,Z9=16061/1805,H0=n=>{if(n===1||n===0)return n;const e=n*n;return n<k9?7.5625*e:n<B9?9.075*e-9.9*n+3.4:n<V9?Y9*e-q9*n+Z9:10.8*n*n-20.52*n+10.72},K9=wm(H0),J9=n=>n<.5?.5*(1-H0(1-n*2)):.5*H0(n*2-1)+.5;function Q9(n,e){return n.map(()=>e||hA).splice(0,n.length-1)}function $9(n){const e=n.length;return n.map((t,i)=>i!==0?i/(e-1):0)}function eD(n,e){return n.map(t=>t*e)}function e0({from:n=0,to:e=1,ease:t,offset:i,duration:r=300}){const s={done:!1,value:n},o=Array.isArray(e)?e:[n,e],a=eD(i&&i.length===o.length?i:$9(o),r);function l(){return cA(a,o,{ease:Array.isArray(t)?t:Q9(o,t)})}let f=l();return{next:d=>(s.value=f(d),s.done=d>=r,s),flipTarget:()=>{o.reverse(),f=l()}}}function tD({velocity:n=0,from:e=0,power:t=.8,timeConstant:i=350,restDelta:r=.5,modifyTarget:s}){const o={done:!1,value:e};let a=t*n;const l=e+a,f=s===void 0?l:s(l);return f!==l&&(a=f-e),{next:d=>{const h=-a*Math.exp(-d/i);return o.done=!(h>r||h<-r),o.value=o.done?f:f+h,o},flipTarget:()=>{}}}const yM={keyframes:e0,spring:i_,decay:tD};function nD(n){if(Array.isArray(n.to))return e0;if(yM[n.type])return yM[n.type];const e=new Set(Object.keys(n));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?e0:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?i_:e0}const mA=1/60*1e3,iD=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),gA=typeof window!="undefined"?n=>window.requestAnimationFrame(n):n=>setTimeout(()=>n(iD()),mA);function rD(n){let e=[],t=[],i=0,r=!1,s=!1;const o=new WeakSet,a={schedule:(l,f=!1,d=!1)=>{const h=d&&r,p=h?e:t;return f&&o.add(l),p.indexOf(l)===-1&&(p.push(l),h&&r&&(i=e.length)),l},cancel:l=>{const f=t.indexOf(l);f!==-1&&t.splice(f,1),o.delete(l)},process:l=>{if(r){s=!0;return}if(r=!0,[e,t]=[t,e],t.length=0,i=e.length,i)for(let f=0;f<i;f++){const d=e[f];d(l),o.has(d)&&(a.schedule(d),n())}r=!1,s&&(s=!1,a.process(l))}};return a}const sD=40;let Wy=!0,Uf=!1,Xy=!1;const Su={delta:0,timestamp:0},md=["read","update","preRender","render","postRender"],Em=md.reduce((n,e)=>(n[e]=rD(()=>Uf=!0),n),{}),kr=md.reduce((n,e)=>{const t=Em[e];return n[e]=(i,r=!1,s=!1)=>(Uf||aD(),t.schedule(i,r,s)),n},{}),Ru=md.reduce((n,e)=>(n[e]=Em[e].cancel,n),{}),kg=md.reduce((n,e)=>(n[e]=()=>Em[e].process(Su),n),{}),oD=n=>Em[n].process(Su),vA=n=>{Uf=!1,Su.delta=Wy?mA:Math.max(Math.min(n-Su.timestamp,sD),1),Su.timestamp=n,Xy=!0,md.forEach(oD),Xy=!1,Uf&&(Wy=!1,gA(vA))},aD=()=>{Uf=!0,Wy=!0,Xy||gA(vA)},G0=()=>Su;function yA(n,e,t=0){return n-e-t}function lD(n,e,t=0,i=!0){return i?yA(e+-n,e,t):e-(n-e)+t}function uD(n,e,t,i){return i?n>=e+t:n<=-t}const cD=n=>{const e=({delta:t})=>n(t);return{start:()=>kr.update(e,!0),stop:()=>Ru.update(e)}};function xA(n){var e,t,{from:i,autoplay:r=!0,driver:s=cD,elapsed:o=0,repeat:a=0,repeatType:l="loop",repeatDelay:f=0,onPlay:d,onStop:h,onComplete:p,onRepeat:m,onUpdate:y}=n,_=xr(n,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:x}=_,g,S=0,w=_.duration,T,b=!1,C=!0,L;const D=nD(_);!((t=(e=D).needsInterpolation)===null||t===void 0)&&t.call(e,i,x)&&(L=cA([0,100],[i,x],{clamp:!1}),i=0,x=100);const P=D(Object.assign(Object.assign({},_),{from:i,to:x}));function R(){S++,l==="reverse"?(C=S%2===0,o=lD(o,w,f,C)):(o=yA(o,w,f),l==="mirror"&&P.flipTarget()),b=!1,m&&m()}function V(){g.stop(),p&&p()}function K(H){if(C||(H=-H),o+=H,!b){const $=P.next(Math.max(0,o));T=$.value,L&&(T=L(T)),b=C?$.done:o<=0}y==null||y(T),b&&(S===0&&(w!=null||(w=o)),S<a?uD(o,w,f,C)&&R():V())}function oe(){d==null||d(),g=s(K),g.start()}return r&&oe(),{stop:()=>{h==null||h(),g.stop()}}}function _A(n,e){return e?n*(1e3/e):0}function fD({from:n=0,velocity:e=0,min:t,max:i,power:r=.8,timeConstant:s=750,bounceStiffness:o=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:f,driver:d,onUpdate:h,onComplete:p,onStop:m}){let y;function _(w){return t!==void 0&&w<t||i!==void 0&&w>i}function x(w){return t===void 0?i:i===void 0||Math.abs(t-w)<Math.abs(i-w)?t:i}function g(w){y==null||y.stop(),y=xA(Object.assign(Object.assign({},w),{driver:d,onUpdate:T=>{var b;h==null||h(T),(b=w.onUpdate)===null||b===void 0||b.call(w,T)},onComplete:p,onStop:m}))}function S(w){g(Object.assign({type:"spring",stiffness:o,damping:a,restDelta:l},w))}if(_(n))S({from:n,velocity:e,to:x(n)});else{let w=r*e+n;typeof f!="undefined"&&(w=f(w));const T=x(w),b=T===t?-1:1;let C,L;const D=P=>{C=L,L=P,e=_A(P-C,G0().delta),(b===1&&P>T||b===-1&&P<T)&&S({from:P,to:T,velocity:e})};g({type:"decay",from:n,velocity:e,timeConstant:s,power:r,restDelta:l,modifyTarget:f,onUpdate:_(w)?D:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const jy=n=>n.hasOwnProperty("x")&&n.hasOwnProperty("y"),xM=n=>jy(n)&&n.hasOwnProperty("z"),Vh=(n,e)=>Math.abs(n-e);function SA(n,e){if(Gy(n)&&Gy(e))return Vh(n,e);if(jy(n)&&jy(e)){const t=Vh(n.x,e.x),i=Vh(n.y,e.y),r=xM(n)&&xM(e)?Vh(n.z,e.z):0;return Math.sqrt(Math.pow(t,2)+Math.pow(i,2)+Math.pow(r,2))}}const MA=(n,e)=>1-3*e+3*n,wA=(n,e)=>3*e-6*n,EA=n=>3*n,W0=(n,e,t)=>((MA(e,t)*n+wA(e,t))*n+EA(e))*n,TA=(n,e,t)=>3*MA(e,t)*n*n+2*wA(e,t)*n+EA(e),dD=1e-7,hD=10;function pD(n,e,t,i,r){let s,o,a=0;do o=e+(t-e)/2,s=W0(o,i,r)-n,s>0?t=o:e=o;while(Math.abs(s)>dD&&++a<hD);return o}const mD=8,gD=.001;function vD(n,e,t,i){for(let r=0;r<mD;++r){const s=TA(e,t,i);if(s===0)return e;e-=(W0(e,t,i)-n)/s}return e}const t0=11,Hh=1/(t0-1);function yD(n,e,t,i){if(n===e&&t===i)return s_;const r=new Float32Array(t0);for(let o=0;o<t0;++o)r[o]=W0(o*Hh,n,t);function s(o){let a=0,l=1;const f=t0-1;for(;l!==f&&r[l]<=o;++l)a+=Hh;--l;const d=(o-r[l])/(r[l+1]-r[l]),h=a+d*Hh,p=TA(h,n,t);return p>=gD?vD(o,h,n,t):p===0?h:pD(o,a,a+Hh,n,t)}return o=>o===0||o===1?o:W0(s(o),e,i)}function xD(n){var e=n.onTap,t=n.onTapStart,i=n.onTapCancel,r=n.whileTap,s=n.visualElement,o=e||t||i||r,a=W.exports.useRef(!1),l=W.exports.useRef(null),f={passive:!(t||e||i||y)};function d(){var _;(_=l.current)===null||_===void 0||_.call(l),l.current=null}function h(){var _;return d(),a.current=!1,(_=s.animationState)===null||_===void 0||_.setActive(qt.Tap,!1),!rA()}function p(_,x){!h()||(sA(s.getInstance(),_.target)?e==null||e(_,x):i==null||i(_,x))}function m(_,x){!h()||i==null||i(_,x)}function y(_,x){var g;d(),!a.current&&(a.current=!0,l.current=Mm(_u(window,"pointerup",p,f),_u(window,"pointercancel",m,f)),(g=s.animationState)===null||g===void 0||g.setActive(qt.Tap,!0),t==null||t(_,x))}B0(s,"pointerdown",o?y:void 0,f),n_(d)}var _M=new Set;function _D(n,e,t){n||_M.has(e)||(console.warn(e),t&&console.warn(t),_M.add(e))}var Yy=new WeakMap,Bg=new WeakMap,SD=function(n){var e;(e=Yy.get(n.target))===null||e===void 0||e(n)},MD=function(n){n.forEach(SD)};function wD(n){var e=n.root,t=xr(n,["root"]),i=e||document;Bg.has(i)||Bg.set(i,{});var r=Bg.get(i),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(MD,be({root:e},t))),r[s]}function ED(n,e,t){var i=wD(e);return Yy.set(n,t),i.observe(n),function(){Yy.delete(n),i.unobserve(n)}}function TD(n){var e=n.visualElement,t=n.whileInView,i=n.onViewportEnter,r=n.onViewportLeave,s=n.viewport,o=s===void 0?{}:s,a=W.exports.useRef({hasEnteredView:!1,isInView:!1}),l=Boolean(t||i||r);o.once&&a.current.hasEnteredView&&(l=!1);var f=typeof IntersectionObserver=="undefined"?bD:CD;f(l,a.current,e,o)}var AD={some:0,all:1};function CD(n,e,t,i){var r=i.root,s=i.margin,o=i.amount,a=o===void 0?"some":o,l=i.once;W.exports.useEffect(function(){if(!!n){var f={root:r==null?void 0:r.current,rootMargin:s,threshold:typeof a=="number"?a:AD[a]},d=function(h){var p,m=h.isIntersecting;if(e.isInView!==m&&(e.isInView=m,!(l&&!m&&e.hasEnteredView))){m&&(e.hasEnteredView=!0),(p=t.animationState)===null||p===void 0||p.setActive(qt.InView,m);var y=t.getProps(),_=m?y.onViewportEnter:y.onViewportLeave;_==null||_(h)}};return ED(t.getInstance(),f,d)}},[n,r,s,a])}function bD(n,e,t,i){var r=i.fallback,s=r===void 0?!0:r;W.exports.useEffect(function(){!n||!s||(Xx!=="production"&&_D(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(function(){var o;e.hasEnteredView=!0;var a=t.getProps().onViewportEnter;a==null||a(null),(o=t.animationState)===null||o===void 0||o.setActive(qt.InView,!0)}))},[n])}var To=function(n){return function(e){return n(e),null}},PD={inView:To(TD),tap:To(xD),focus:To(l9),hover:To(y9)},RD=0,LD=function(){return RD++},AA=function(){return fd(LD)};function CA(){var n=W.exports.useContext(cd);if(n===null)return[!0,null];var e=n.isPresent,t=n.onExitComplete,i=n.register,r=AA();W.exports.useEffect(function(){return i(r)},[]);var s=function(){return t==null?void 0:t(r)};return!e&&t?[!1,s]:[!0]}function bA(n,e){if(!Array.isArray(e))return!1;var t=e.length;if(t!==n.length)return!1;for(var i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}var X0=function(n){return n*1e3},ID={linear:s_,easeIn:o_,easeInOut:hA,easeOut:H9,circIn:pA,circInOut:G9,circOut:a_,backIn:l_,backInOut:X9,backOut:W9,anticipate:j9,bounceIn:K9,bounceInOut:J9,bounceOut:H0},SM=function(n){if(Array.isArray(n)){O0(n.length===4);var e=gn(n,4),t=e[0],i=e[1],r=e[2],s=e[3];return yD(t,i,r,s)}else if(typeof n=="string")return ID[n];return n},DD=function(n){return Array.isArray(n)&&typeof n[0]!="number"},MM=function(n,e){return n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Vs.test(e)&&!e.startsWith("url("))},aa=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Gh=function(n){return{type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}},Vg=function(){return{type:"keyframes",ease:"linear",duration:.3}},ND=function(n){return{type:"keyframes",duration:.8,values:n}},wM={x:aa,y:aa,z:aa,rotate:aa,rotateX:aa,rotateY:aa,rotateZ:aa,scaleX:Gh,scaleY:Gh,scale:Gh,opacity:Vg,backgroundColor:Vg,color:Vg,default:Gh},UD=function(n,e){var t;return Df(e)?t=ND:t=wM[n]||wM.default,be({to:e},t(e))},OD=be(be({},V6),{color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,filter:By,WebkitFilter:By}),u_=function(n){return OD[n]};function c_(n,e){var t,i=u_(n);return i!==By&&(i=Vs),(t=i.getAnimatableNone)===null||t===void 0?void 0:t.call(i,e)}var FD={current:!1};function zD(n){n.when,n.delay,n.delayChildren,n.staggerChildren,n.staggerDirection,n.repeat,n.repeatType,n.repeatDelay,n.from;var e=xr(n,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(e).length}function kD(n){var e=n.ease,t=n.times,i=n.yoyo,r=n.flip,s=n.loop,o=xr(n,["ease","times","yoyo","flip","loop"]),a=be({},o);return t&&(a.offset=t),o.duration&&(a.duration=X0(o.duration)),o.repeatDelay&&(a.repeatDelay=X0(o.repeatDelay)),e&&(a.ease=DD(e)?e.map(SM):SM(e)),o.type==="tween"&&(a.type="keyframes"),(i||s||r)&&(i?a.repeatType="reverse":s?a.repeatType="loop":r&&(a.repeatType="mirror"),a.repeat=s||i||r||o.repeat),o.type!=="spring"&&(a.type="keyframes"),a}function BD(n,e){var t,i,r=f_(n,e)||{};return(i=(t=r.delay)!==null&&t!==void 0?t:n.delay)!==null&&i!==void 0?i:0}function VD(n){return Array.isArray(n.to)&&n.to[0]===null&&(n.to=zr([],gn(n.to),!1),n.to[0]=n.from),n}function HD(n,e,t){var i;return Array.isArray(e.to)&&((i=n.duration)!==null&&i!==void 0||(n.duration=.8)),VD(e),zD(n)||(n=be(be({},n),UD(t,e.to))),be(be({},e),kD(n))}function GD(n,e,t,i,r){var s,o=f_(i,n),a=(s=o.from)!==null&&s!==void 0?s:e.get(),l=MM(n,t);a==="none"&&l&&typeof t=="string"?a=c_(n,t):EM(a)&&typeof t=="string"?a=TM(t):!Array.isArray(t)&&EM(t)&&typeof a=="string"&&(t=TM(a));var f=MM(n,a);function d(){var p={from:a,to:t,velocity:e.getVelocity(),onComplete:r,onUpdate:function(m){return e.set(m)}};return o.type==="inertia"||o.type==="decay"?fD(be(be({},p),o)):xA(be(be({},HD(o,p,n)),{onUpdate:function(m){var y;p.onUpdate(m),(y=o.onUpdate)===null||y===void 0||y.call(o,m)},onComplete:function(){var m;p.onComplete(),(m=o.onComplete)===null||m===void 0||m.call(o)}}))}function h(){var p,m,y=K6(t);return e.set(y),r(),(p=o==null?void 0:o.onUpdate)===null||p===void 0||p.call(o,y),(m=o==null?void 0:o.onComplete)===null||m===void 0||m.call(o),{stop:function(){}}}return!f||!l||o.type===!1?h:d}function EM(n){return n===0||typeof n=="string"&&parseFloat(n)===0&&n.indexOf(" ")===-1}function TM(n){return typeof n=="number"?0:c_("",n)}function f_(n,e){return n[e]||n.default||n}function d_(n,e,t,i){return i===void 0&&(i={}),FD.current&&(i={type:!1}),e.start(function(r){var s,o,a=GD(n,e,t,i,r),l=BD(i,n),f=function(){return o=a()};return l?s=window.setTimeout(f,X0(l)):f(),function(){clearTimeout(s),o==null||o.stop()}})}var WD=function(n){return/^\-?\d*\.?\d+$/.test(n)},XD=function(n){return/^0[^.\s]+$/.test(n)};function h_(n,e){n.indexOf(e)===-1&&n.push(e)}function p_(n,e){var t=n.indexOf(e);t>-1&&n.splice(t,1)}var ef=function(){function n(){this.subscriptions=[]}return n.prototype.add=function(e){var t=this;return h_(this.subscriptions,e),function(){return p_(t.subscriptions,e)}},n.prototype.notify=function(e,t,i){var r=this.subscriptions.length;if(!!r)if(r===1)this.subscriptions[0](e,t,i);else for(var s=0;s<r;s++){var o=this.subscriptions[s];o&&o(e,t,i)}},n.prototype.getSize=function(){return this.subscriptions.length},n.prototype.clear=function(){this.subscriptions.length=0},n}(),jD=function(n){return!isNaN(parseFloat(n))},YD=function(){function n(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ef,this.velocityUpdateSubscribers=new ef,this.renderSubscribers=new ef,this.canTrackVelocity=!1,this.updateAndNotify=function(i,r){r===void 0&&(r=!0),t.prev=t.current,t.current=i;var s=G0(),o=s.delta,a=s.timestamp;t.lastUpdated!==a&&(t.timeDelta=o,t.lastUpdated=a,kr.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),r&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return kr.postRender(t.velocityCheck)},this.velocityCheck=function(i){var r=i.timestamp;r!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=jD(this.current)}return n.prototype.onChange=function(e){return this.updateSubscribers.add(e)},n.prototype.clearListeners=function(){this.updateSubscribers.clear()},n.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},n.prototype.attach=function(e){this.passiveEffect=e},n.prototype.set=function(e,t){t===void 0&&(t=!0),!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)},n.prototype.get=function(){return this.current},n.prototype.getPrevious=function(){return this.prev},n.prototype.getVelocity=function(){return this.canTrackVelocity?_A(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},n.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(i){t.hasAnimated=!0,t.stopAnimation=e(i)}).then(function(){return t.clearAnimation()})},n.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},n.prototype.isAnimating=function(){return!!this.stopAnimation},n.prototype.clearAnimation=function(){this.stopAnimation=null},n.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},n}();function Lu(n){return new YD(n)}var PA=function(n){return function(e){return e.test(n)}},qD={test:function(n){return n==="auto"},parse:function(n){return n}},RA=[el,dt,os,ho,NI,DI,qD],Mc=function(n){return RA.find(PA(n))},ZD=zr(zr([],gn(RA),!1),[xi,Vs],!1),KD=function(n){return ZD.find(PA(n))};function JD(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Lu(t))}function QD(n,e){var t=xm(n,e),i=t?n.makeTargetAnimatable(t,!1):{},r=i.transitionEnd,s=r===void 0?{}:r;i.transition;var o=xr(i,["transitionEnd","transition"]);o=be(be({},o),s);for(var a in o){var l=K6(o[a]);JD(n,a,l)}}function $D(n,e,t){var i,r,s,o,a=Object.keys(e).filter(function(m){return!n.hasValue(m)}),l=a.length;if(!!l)for(var f=0;f<l;f++){var d=a[f],h=e[d],p=null;Array.isArray(h)&&(p=h[0]),p===null&&(p=(r=(i=t[d])!==null&&i!==void 0?i:n.readValue(d))!==null&&r!==void 0?r:e[d]),p!=null&&(typeof p=="string"&&(WD(p)||XD(p))?p=parseFloat(p):!KD(p)&&Vs.test(h)&&(p=c_(d,h)),n.addValue(d,Lu(p)),(s=(o=t)[d])!==null&&s!==void 0||(o[d]=p),n.setBaseTarget(d,p))}}function eN(n,e){if(!!e){var t=e[n]||e.default||e;return t.from}}function tN(n,e,t){var i,r,s={};for(var o in n)s[o]=(i=eN(o,e))!==null&&i!==void 0?i:(r=t.getValue(o))===null||r===void 0?void 0:r.get();return s}function nN(n,e,t){t===void 0&&(t={}),n.notifyAnimationStart(e);var i;if(Array.isArray(e)){var r=e.map(function(o){return qy(n,o,t)});i=Promise.all(r)}else if(typeof e=="string")i=qy(n,e,t);else{var s=typeof e=="function"?xm(n,e,t.custom):e;i=LA(n,s,t)}return i.then(function(){return n.notifyAnimationComplete(e)})}function qy(n,e,t){var i;t===void 0&&(t={});var r=xm(n,e,t.custom),s=(r||{}).transition,o=s===void 0?n.getDefaultTransition()||{}:s;t.transitionOverride&&(o=t.transitionOverride);var a=r?function(){return LA(n,r,t)}:function(){return Promise.resolve()},l=!((i=n.variantChildren)===null||i===void 0)&&i.size?function(m){m===void 0&&(m=0);var y=o.delayChildren,_=y===void 0?0:y,x=o.staggerChildren,g=o.staggerDirection;return iN(n,e,_+m,x,g,t)}:function(){return Promise.resolve()},f=o.when;if(f){var d=gn(f==="beforeChildren"?[a,l]:[l,a],2),h=d[0],p=d[1];return h().then(p)}else return Promise.all([a(),l(t.delay)])}function LA(n,e,t){var i,r=t===void 0?{}:t,s=r.delay,o=s===void 0?0:s,a=r.transitionOverride,l=r.type,f=n.makeTargetAnimatable(e),d=f.transition,h=d===void 0?n.getDefaultTransition():d,p=f.transitionEnd,m=xr(f,["transition","transitionEnd"]);a&&(h=a);var y=[],_=l&&((i=n.animationState)===null||i===void 0?void 0:i.getState()[l]);for(var x in m){var g=n.getValue(x),S=m[x];if(!(!g||S===void 0||_&&sN(_,x))){var w=be({delay:o},h);n.shouldReduceMotion&&dd(x)&&(w=be(be({},w),{type:!1,delay:0}));var T=d_(x,g,S,w);y.push(T)}}return Promise.all(y).then(function(){p&&QD(n,p)})}function iN(n,e,t,i,r,s){t===void 0&&(t=0),i===void 0&&(i=0),r===void 0&&(r=1);var o=[],a=(n.variantChildren.size-1)*i,l=r===1?function(f){return f===void 0&&(f=0),f*i}:function(f){return f===void 0&&(f=0),a-f*i};return Array.from(n.variantChildren).sort(rN).forEach(function(f,d){o.push(qy(f,e,be(be({},s),{delay:t+l(d)})).then(function(){return f.notifyAnimationComplete(e)}))}),Promise.all(o)}function rN(n,e){return n.sortNodePosition(e)}function sN(n,e){var t=n.protectedKeys,i=n.needsAnimating,r=t.hasOwnProperty(e)&&i[e]!==!0;return i[e]=!1,r}var m_=[qt.Animate,qt.InView,qt.Focus,qt.Hover,qt.Tap,qt.Drag,qt.Exit],oN=zr([],gn(m_),!1).reverse(),aN=m_.length;function lN(n){return function(e){return Promise.all(e.map(function(t){var i=t.animation,r=t.options;return nN(n,i,r)}))}}function uN(n){var e=lN(n),t=fN(),i={},r=!0,s=function(d,h){var p=xm(n,h);if(p){p.transition;var m=p.transitionEnd,y=xr(p,["transition","transitionEnd"]);d=be(be(be({},d),y),m)}return d};function o(d){return i[d]!==void 0}function a(d){e=d(n)}function l(d,h){for(var p,m=n.getProps(),y=n.getVariantContext(!0)||{},_=[],x=new Set,g={},S=1/0,w=function(L){var D=oN[L],P=t[D],R=(p=m[D])!==null&&p!==void 0?p:y[D],V=Rr(R),K=D===h?P.isActive:null;K===!1&&(S=L);var oe=R===y[D]&&R!==m[D]&&V;if(oe&&r&&n.manuallyAnimateOnMount&&(oe=!1),P.protectedKeys=be({},g),!P.isActive&&K===null||!R&&!P.prevProp||e_(R)||typeof R=="boolean")return"continue";var H=cN(P.prevProp,R),$=H||D===h&&P.isActive&&!oe&&V||L>S&&V,te=Array.isArray(R)?R:[R],ce=te.reduce(s,{});K===!1&&(ce={});var N=P.prevResolvedValues,k=N===void 0?{}:N,B=be(be({},k),ce),Z=function(ae){$=!0,x.delete(ae),P.needsAnimating[ae]=!0};for(var ee in B){var Y=ce[ee],q=k[ee];g.hasOwnProperty(ee)||(Y!==q?Df(Y)&&Df(q)?!bA(Y,q)||H?Z(ee):P.protectedKeys[ee]=!0:Y!==void 0?Z(ee):x.add(ee):Y!==void 0&&x.has(ee)?Z(ee):P.protectedKeys[ee]=!0)}P.prevProp=R,P.prevResolvedValues=ce,P.isActive&&(g=be(be({},g),ce)),r&&n.blockInitialAnimation&&($=!1),$&&!oe&&_.push.apply(_,zr([],gn(te.map(function(ae){return{animation:ae,options:be({type:D},d)}})),!1))},T=0;T<aN;T++)w(T);if(i=be({},g),x.size){var b={};x.forEach(function(L){var D=n.getBaseTarget(L);D!==void 0&&(b[L]=D)}),_.push({animation:b})}var C=Boolean(_.length);return r&&m.initial===!1&&!n.manuallyAnimateOnMount&&(C=!1),r=!1,C?e(_):Promise.resolve()}function f(d,h,p){var m;if(t[d].isActive===h)return Promise.resolve();(m=n.variantChildren)===null||m===void 0||m.forEach(function(x){var g;return(g=x.animationState)===null||g===void 0?void 0:g.setActive(d,h)}),t[d].isActive=h;var y=l(p,d);for(var _ in t)t[_].protectedKeys={};return y}return{isAnimated:o,animateChanges:l,setActive:f,setAnimateFunction:a,getState:function(){return t}}}function cN(n,e){return typeof e=="string"?e!==n:C6(e)?!bA(e,n):!1}function la(n){return n===void 0&&(n=!1),{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fN(){var n;return n={},n[qt.Animate]=la(!0),n[qt.InView]=la(),n[qt.Hover]=la(),n[qt.Tap]=la(),n[qt.Drag]=la(),n[qt.Focus]=la(),n[qt.Exit]=la(),n}var dN={animation:To(function(n){var e=n.visualElement,t=n.animate;e.animationState||(e.animationState=uN(e)),e_(t)&&W.exports.useEffect(function(){return t.subscribe(e)},[t])}),exit:To(function(n){var e=n.custom,t=n.visualElement,i=gn(CA(),2),r=i[0],s=i[1],o=W.exports.useContext(cd);W.exports.useEffect(function(){var a,l;t.isPresent=r;var f=(a=t.animationState)===null||a===void 0?void 0:a.setActive(qt.Exit,!r,{custom:(l=o==null?void 0:o.custom)!==null&&l!==void 0?l:e});!r&&(f==null||f.then(s))},[r])})},IA=function(){function n(e,t,i){var r=this,s=i===void 0?{}:i,o=s.transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(!!(r.lastMoveEvent&&r.lastMoveEventInfo)){var p=Gg(r.lastMoveEventInfo,r.history),m=r.startEvent!==null,y=SA(p.offset,{x:0,y:0})>=3;if(!(!m&&!y)){var _=p.point,x=G0().timestamp;r.history.push(be(be({},_),{timestamp:x}));var g=r.handlers,S=g.onStart,w=g.onMove;m||(S&&S(r.lastMoveEvent,p),r.startEvent=r.lastMoveEvent),w&&w(r.lastMoveEvent,p)}}},this.handlePointerMove=function(p,m){if(r.lastMoveEvent=p,r.lastMoveEventInfo=Hg(m,r.transformPagePoint),Q6(p)&&p.buttons===0){r.handlePointerUp(p,m);return}kr.update(r.updatePoint,!0)},this.handlePointerUp=function(p,m){r.end();var y=r.handlers,_=y.onEnd,x=y.onSessionEnd,g=Gg(Hg(m,r.transformPagePoint),r.history);r.startEvent&&_&&_(p,g),x&&x(p,g)},!($6(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var a=t_(e),l=Hg(a,this.transformPagePoint),f=l.point,d=G0().timestamp;this.history=[be(be({},f),{timestamp:d})];var h=t.onSessionStart;h&&h(e,Gg(l,this.history)),this.removeListeners=Mm(_u(window,"pointermove",this.handlePointerMove),_u(window,"pointerup",this.handlePointerUp),_u(window,"pointercancel",this.handlePointerUp))}}return n.prototype.updateHandlers=function(e){this.handlers=e},n.prototype.end=function(){this.removeListeners&&this.removeListeners(),Ru.update(this.updatePoint)},n}();function Hg(n,e){return e?{point:e(n.point)}:n}function AM(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Gg(n,e){var t=n.point;return{point:t,delta:AM(t,DA(e)),offset:AM(t,hN(e)),velocity:pN(e,.1)}}function hN(n){return n[0]}function DA(n){return n[n.length-1]}function pN(n,e){if(n.length<2)return{x:0,y:0};for(var t=n.length-1,i=null,r=DA(n);t>=0&&(i=n[t],!(r.timestamp-i.timestamp>X0(e)));)t--;if(!i)return{x:0,y:0};var s=(r.timestamp-i.timestamp)/1e3;if(s===0)return{x:0,y:0};var o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Hs(n){return n.max-n.min}function CM(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=.01),SA(n,e)<t}function bM(n,e,t,i){i===void 0&&(i=.5),n.origin=i,n.originPoint=mn(e.min,e.max,n.origin),n.scale=Hs(t)/Hs(e),(CM(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=mn(t.min,t.max,n.origin)-n.originPoint,(CM(n.translate)||isNaN(n.translate))&&(n.translate=0)}function tf(n,e,t,i){bM(n.x,e.x,t.x,i==null?void 0:i.originX),bM(n.y,e.y,t.y,i==null?void 0:i.originY)}function PM(n,e,t){n.min=t.min+e.min,n.max=n.min+Hs(e)}function mN(n,e,t){PM(n.x,e.x,t.x),PM(n.y,e.y,t.y)}function RM(n,e,t){n.min=e.min-t.min,n.max=n.min+Hs(e)}function nf(n,e,t){RM(n.x,e.x,t.x),RM(n.y,e.y,t.y)}function gN(n,e,t){var i=e.min,r=e.max;return i!==void 0&&n<i?n=t?mn(i,n,t.min):Math.max(n,i):r!==void 0&&n>r&&(n=t?mn(r,n,t.max):Math.min(n,r)),n}function LM(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function vN(n,e){var t=e.top,i=e.left,r=e.bottom,s=e.right;return{x:LM(n.x,i,s),y:LM(n.y,t,r)}}function IM(n,e){var t,i=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&(t=gn([r,i],2),i=t[0],r=t[1]),{min:i,max:r}}function yN(n,e){return{x:IM(n.x,e.x),y:IM(n.y,e.y)}}function xN(n,e){var t=.5,i=Hs(n),r=Hs(e);return r>i?t=Nf(e.min,e.max-i,n.min):i>r&&(t=Nf(n.min,n.max-r,e.min)),V0(0,1,t)}function _N(n,e){var t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}var Zy=.35;function SN(n){return n===void 0&&(n=Zy),n===!1?n=0:n===!0&&(n=Zy),{x:DM(n,"left","right"),y:DM(n,"top","bottom")}}function DM(n,e,t){return{min:NM(n,e),max:NM(n,t)}}function NM(n,e){var t;return typeof n=="number"?n:(t=n[e])!==null&&t!==void 0?t:0}var UM=function(){return{translate:0,scale:1,origin:0,originPoint:0}},rf=function(){return{x:UM(),y:UM()}},OM=function(){return{min:0,max:0}},li=function(){return{x:OM(),y:OM()}};function ts(n){return[n("x"),n("y")]}function NA(n){var e=n.top,t=n.left,i=n.right,r=n.bottom;return{x:{min:t,max:i},y:{min:e,max:r}}}function MN(n){var e=n.x,t=n.y;return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wN(n,e){if(!e)return n;var t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Wg(n){return n===void 0||n===1}function UA(n){var e=n.scale,t=n.scaleX,i=n.scaleY;return!Wg(e)||!Wg(t)||!Wg(i)}function po(n){return UA(n)||FM(n.x)||FM(n.y)||n.z||n.rotate||n.rotateX||n.rotateY}function FM(n){return n&&n!=="0%"}function j0(n,e,t){var i=n-t,r=e*i;return t+r}function zM(n,e,t,i,r){return r!==void 0&&(n=j0(n,r,i)),j0(n,t,i)+e}function Ky(n,e,t,i,r){e===void 0&&(e=0),t===void 0&&(t=1),n.min=zM(n.min,e,t,i,r),n.max=zM(n.max,e,t,i,r)}function OA(n,e){var t=e.x,i=e.y;Ky(n.x,t.translate,t.scale,t.originPoint),Ky(n.y,i.translate,i.scale,i.originPoint)}function EN(n,e,t,i){var r,s;i===void 0&&(i=!1);var o=t.length;if(!!o){e.x=e.y=1;for(var a,l,f=0;f<o;f++)a=t[f],l=a.projectionDelta,((s=(r=a.instance)===null||r===void 0?void 0:r.style)===null||s===void 0?void 0:s.display)!=="contents"&&(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&lu(n,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,OA(n,l)),i&&po(a.latestValues)&&lu(n,a.latestValues))}}function vo(n,e){n.min=n.min+e,n.max=n.max+e}function kM(n,e,t){var i=gn(t,3),r=i[0],s=i[1],o=i[2],a=e[o]!==void 0?e[o]:.5,l=mn(n.min,n.max,a);Ky(n,e[r],e[s],l,e.scale)}var TN=["x","scaleX","originX"],AN=["y","scaleY","originY"];function lu(n,e){kM(n.x,e,TN),kM(n.y,e,AN)}function FA(n,e){return NA(wN(n.getBoundingClientRect(),e))}function CN(n,e,t){var i=FA(n,t),r=e.scroll;return r&&(vo(i.x,r.x),vo(i.y,r.y)),i}var bN=new WeakMap,PN=function(){function n(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=li(),this.visualElement=e}return n.prototype.start=function(e,t){var i=this,r=t===void 0?{}:t,s=r.snapToCursor,o=s===void 0?!1:s;if(this.visualElement.isPresent!==!1){var a=function(h){i.stopAnimation(),o&&i.snapToCursor(t_(h,"page").point)},l=function(h,p){var m,y=i.getProps(),_=y.drag,x=y.dragPropagation,g=y.onDragStart;_&&!x&&(i.openGlobalLock&&i.openGlobalLock(),i.openGlobalLock=iA(_),!i.openGlobalLock)||(i.isDragging=!0,i.currentDirection=null,i.resolveConstraints(),i.visualElement.projection&&(i.visualElement.projection.isAnimationBlocked=!0,i.visualElement.projection.target=void 0),ts(function(S){var w,T,b=i.getAxisMotionValue(S).get()||0;if(os.test(b)){var C=(T=(w=i.visualElement.projection)===null||w===void 0?void 0:w.layout)===null||T===void 0?void 0:T.actual[S];if(C){var L=Hs(C);b=L*(parseFloat(b)/100)}}i.originPoint[S]=b}),g==null||g(h,p),(m=i.visualElement.animationState)===null||m===void 0||m.setActive(qt.Drag,!0))},f=function(h,p){var m=i.getProps(),y=m.dragPropagation,_=m.dragDirectionLock,x=m.onDirectionLock,g=m.onDrag;if(!(!y&&!i.openGlobalLock)){var S=p.offset;if(_&&i.currentDirection===null){i.currentDirection=RN(S),i.currentDirection!==null&&(x==null||x(i.currentDirection));return}i.updateAxis("x",p.point,S),i.updateAxis("y",p.point,S),i.visualElement.syncRender(),g==null||g(h,p)}},d=function(h,p){return i.stop(h,p)};this.panSession=new IA(e,{onSessionStart:a,onStart:l,onMove:f,onSessionEnd:d},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},n.prototype.stop=function(e,t){var i=this.isDragging;if(this.cancel(),!!i){var r=t.velocity;this.startAnimation(r);var s=this.getProps().onDragEnd;s==null||s(e,t)}},n.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;var i=this.getProps().dragPropagation;!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(t=this.visualElement.animationState)===null||t===void 0||t.setActive(qt.Drag,!1)},n.prototype.updateAxis=function(e,t,i){var r=this.getProps().drag;if(!(!i||!Wh(e,r,this.currentDirection))){var s=this.getAxisMotionValue(e),o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=gN(o,this.constraints[e],this.elastic[e])),s.set(o)}},n.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),i=t.dragConstraints,r=t.dragElastic,s=(this.visualElement.projection||{}).layout,o=this.constraints;i&&au(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&s?this.constraints=vN(s.actual,i):this.constraints=!1,this.elastic=SN(r),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ts(function(a){e.getAxisMotionValue(a)&&(e.constraints[a]=_N(s.actual[a],e.constraints[a]))})},n.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,i=e.onMeasureDragConstraints;if(!t||!au(t))return!1;var r=t.current,s=this.visualElement.projection;if(!s||!s.layout)return!1;var o=CN(r,s.root,this.visualElement.getTransformPagePoint()),a=yN(s.layout.actual,o);if(i){var l=i(MN(a));this.hasMutatedConstraints=!!l,l&&(a=NA(l))}return a},n.prototype.startAnimation=function(e){var t=this,i=this.getProps(),r=i.drag,s=i.dragMomentum,o=i.dragElastic,a=i.dragTransition,l=i.dragSnapToOrigin,f=i.onDragTransitionEnd,d=this.constraints||{},h=ts(function(p){var m;if(!!Wh(p,r,t.currentDirection)){var y=(m=d==null?void 0:d[p])!==null&&m!==void 0?m:{};l&&(y={min:0,max:0});var _=o?200:1e6,x=o?40:1e7,g=be(be({type:"inertia",velocity:s?e[p]:0,bounceStiffness:_,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10},a),y);return t.startAxisValueAnimation(p,g)}});return Promise.all(h).then(f)},n.prototype.startAxisValueAnimation=function(e,t){var i=this.getAxisMotionValue(e);return d_(e,i,0,t)},n.prototype.stopAnimation=function(){var e=this;ts(function(t){return e.getAxisMotionValue(t).stop()})},n.prototype.getAxisMotionValue=function(e){var t,i,r="_drag"+e.toUpperCase(),s=this.visualElement.getProps()[r];return s||this.visualElement.getValue(e,(i=(t=this.visualElement.getProps().initial)===null||t===void 0?void 0:t[e])!==null&&i!==void 0?i:0)},n.prototype.snapToCursor=function(e){var t=this;ts(function(i){var r=t.getProps().drag;if(!!Wh(i,r,t.currentDirection)){var s=t.visualElement.projection,o=t.getAxisMotionValue(i);if(s&&s.layout){var a=s.layout.actual[i],l=a.min,f=a.max;o.set(e[i]-mn(l,f,.5))}}})},n.prototype.scalePositionWithinConstraints=function(){var e=this,t,i=this.getProps(),r=i.drag,s=i.dragConstraints,o=this.visualElement.projection;if(!(!au(s)||!o||!this.constraints)){this.stopAnimation();var a={x:0,y:0};ts(function(f){var d=e.getAxisMotionValue(f);if(d){var h=d.get();a[f]=xN({min:h,max:h},e.constraints[f])}});var l=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=l?l({},""):"none",(t=o.root)===null||t===void 0||t.updateScroll(),o.updateLayout(),this.resolveConstraints(),ts(function(f){if(!!Wh(f,r,null)){var d=e.getAxisMotionValue(f),h=e.constraints[f],p=h.min,m=h.max;d.set(mn(p,m,a[f]))}})}},n.prototype.addListeners=function(){var e=this,t;bN.set(this.visualElement,this);var i=this.visualElement.getInstance(),r=_u(i,"pointerdown",function(f){var d=e.getProps(),h=d.drag,p=d.dragListener,m=p===void 0?!0:p;h&&m&&e.start(f)}),s=function(){var f=e.getProps().dragConstraints;au(f)&&(e.constraints=e.resolveRefConstraints())},o=this.visualElement.projection,a=o.addEventListener("measure",s);o&&!o.layout&&((t=o.root)===null||t===void 0||t.updateScroll(),o.updateLayout()),s();var l=Sm(window,"resize",function(){return e.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(f){var d=f.delta,h=f.hasLayoutChanged;e.isDragging&&h&&(ts(function(p){var m=e.getAxisMotionValue(p);!m||(e.originPoint[p]+=d[p].translate,m.set(m.get()+d[p].translate))}),e.visualElement.syncRender())}),function(){l(),r(),a()}},n.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,i=t===void 0?!1:t,r=e.dragDirectionLock,s=r===void 0?!1:r,o=e.dragPropagation,a=o===void 0?!1:o,l=e.dragConstraints,f=l===void 0?!1:l,d=e.dragElastic,h=d===void 0?Zy:d,p=e.dragMomentum,m=p===void 0?!0:p;return be(be({},e),{drag:i,dragDirectionLock:s,dragPropagation:a,dragConstraints:f,dragElastic:h,dragMomentum:m})},n}();function Wh(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function RN(n,e){e===void 0&&(e=10);var t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}function LN(n){var e=n.dragControls,t=n.visualElement,i=fd(function(){return new PN(t)});W.exports.useEffect(function(){return e&&e.subscribe(i)},[i,e]),W.exports.useEffect(function(){return i.addListeners()},[i])}function IN(n){var e=n.onPan,t=n.onPanStart,i=n.onPanEnd,r=n.onPanSessionStart,s=n.visualElement,o=e||t||i||r,a=W.exports.useRef(null),l=W.exports.useContext(jx).transformPagePoint,f={onSessionStart:r,onStart:t,onMove:e,onEnd:function(h,p){a.current=null,i&&i(h,p)}};W.exports.useEffect(function(){a.current!==null&&a.current.updateHandlers(f)});function d(h){a.current=new IA(h,f,{transformPagePoint:l})}B0(s,"pointerdown",o&&d),n_(function(){return a.current&&a.current.end()})}var DN={pan:To(IN),drag:To(LN)},Xh=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function NN(){var n=Xh.map(function(){return new ef}),e={},t={clearAllListeners:function(){return n.forEach(function(i){return i.clear()})},updatePropListeners:function(i){Xh.forEach(function(r){var s,o="on"+r,a=i[o];(s=e[r])===null||s===void 0||s.call(e),a&&(e[r]=t[o](a))})}};return n.forEach(function(i,r){t["on"+Xh[r]]=function(s){return i.add(s)},t["notify"+Xh[r]]=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return i.notify.apply(i,zr([],gn(s),!1))}}),t}function UN(n,e,t){var i;for(var r in e){var s=e[r],o=t[r];if(Bs(s))n.addValue(r,s);else if(Bs(o))n.addValue(r,Lu(s));else if(o!==s)if(n.hasValue(r)){var a=n.getValue(r);!a.hasAnimated&&a.set(s)}else n.addValue(r,Lu((i=n.getStaticValue(r))!==null&&i!==void 0?i:s))}for(var r in t)e[r]===void 0&&n.removeValue(r);return e}var zA=function(n){var e=n.treeType,t=e===void 0?"":e,i=n.build,r=n.getBaseTarget,s=n.makeTargetAnimatable,o=n.measureViewportBox,a=n.render,l=n.readValueFromInstance,f=n.removeValueFromRenderState,d=n.sortNodePosition,h=n.scrapeMotionValuesFromProps;return function(p,m){var y=p.parent,_=p.props,x=p.presenceId,g=p.blockInitialAnimation,S=p.visualState,w=p.shouldReduceMotion;m===void 0&&(m={});var T=!1,b=S.latestValues,C=S.renderState,L,D=NN(),P=new Map,R=new Map,V={},K=be({},b),oe;function H(){!L||!T||($(),a(L,C,_.style,Y.projection))}function $(){i(Y,C,b,m,_)}function te(){D.notifyUpdate(b)}function ce(q,ae){var _e=ae.onChange(function(nt){b[q]=nt,_.onUpdate&&kr.update(te,!1,!0)}),Ce=ae.onRenderRequest(Y.scheduleRender);R.set(q,function(){_e(),Ce()})}var N=h(_);for(var k in N){var B=N[k];b[k]!==void 0&&Bs(B)&&B.set(b[k],!1)}var Z=_m(_),ee=P6(_),Y=be(be({treeType:t,current:null,depth:y?y.depth+1:0,parent:y,children:new Set,presenceId:x,shouldReduceMotion:w,variantChildren:ee?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(y==null?void 0:y.isMounted()),blockInitialAnimation:g,isMounted:function(){return Boolean(L)},mount:function(q){T=!0,L=Y.current=q,Y.projection&&Y.projection.mount(q),ee&&y&&!Z&&(oe=y==null?void 0:y.addVariantChild(Y)),P.forEach(function(ae,_e){return ce(_e,ae)}),y==null||y.children.add(Y),Y.setProps(_)},unmount:function(){var q;(q=Y.projection)===null||q===void 0||q.unmount(),Ru.update(te),Ru.render(H),R.forEach(function(ae){return ae()}),oe==null||oe(),y==null||y.children.delete(Y),D.clearAllListeners(),L=void 0,T=!1},addVariantChild:function(q){var ae,_e=Y.getClosestVariantNode();if(_e)return(ae=_e.variantChildren)===null||ae===void 0||ae.add(q),function(){return _e.variantChildren.delete(q)}},sortNodePosition:function(q){return!d||t!==q.treeType?0:d(Y.getInstance(),q.getInstance())},getClosestVariantNode:function(){return ee?Y:y==null?void 0:y.getClosestVariantNode()},getLayoutId:function(){return _.layoutId},getInstance:function(){return L},getStaticValue:function(q){return b[q]},setStaticValue:function(q,ae){return b[q]=ae},getLatestValues:function(){return b},setVisibility:function(q){Y.isVisible!==q&&(Y.isVisible=q,Y.scheduleRender())},makeTargetAnimatable:function(q,ae){return ae===void 0&&(ae=!0),s(Y,q,_,ae)},measureViewportBox:function(){return o(L,_)},addValue:function(q,ae){Y.hasValue(q)&&Y.removeValue(q),P.set(q,ae),b[q]=ae.get(),ce(q,ae)},removeValue:function(q){var ae;P.delete(q),(ae=R.get(q))===null||ae===void 0||ae(),R.delete(q),delete b[q],f(q,C)},hasValue:function(q){return P.has(q)},getValue:function(q,ae){var _e=P.get(q);return _e===void 0&&ae!==void 0&&(_e=Lu(ae),Y.addValue(q,_e)),_e},forEachValue:function(q){return P.forEach(q)},readValue:function(q){var ae;return(ae=b[q])!==null&&ae!==void 0?ae:l(L,q,m)},setBaseTarget:function(q,ae){K[q]=ae},getBaseTarget:function(q){if(r){var ae=r(_,q);if(ae!==void 0&&!Bs(ae))return ae}return K[q]}},D),{build:function(){return $(),C},scheduleRender:function(){kr.render(H,!1,!0)},syncRender:H,setProps:function(q){(q.transformTemplate||_.transformTemplate)&&Y.scheduleRender(),_=q,D.updatePropListeners(q),V=UN(Y,h(_),V)},getProps:function(){return _},getVariant:function(q){var ae;return(ae=_.variants)===null||ae===void 0?void 0:ae[q]},getDefaultTransition:function(){return _.transition},getTransformPagePoint:function(){return _.transformPagePoint},getVariantContext:function(q){if(q===void 0&&(q=!1),q)return y==null?void 0:y.getVariantContext();if(!Z){var ae=(y==null?void 0:y.getVariantContext())||{};return _.initial!==void 0&&(ae.initial=_.initial),ae}for(var _e={},Ce=0;Ce<ON;Ce++){var nt=kA[Ce],st=_[nt];(Rr(st)||st===!1)&&(_e[nt]=st)}return _e}});return Y}},kA=zr(["initial"],gn(m_),!1),ON=kA.length;function Jy(n){return typeof n=="string"&&n.startsWith("var(--")}var BA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function FN(n){var e=BA.exec(n);if(!e)return[,];var t=gn(e,3),i=t[1],r=t[2];return[i,r]}function Qy(n,e,t){var i=gn(FN(n),2),r=i[0],s=i[1];if(!!r){var o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():Jy(s)?Qy(s,e):s}}function zN(n,e,t){var i,r=xr(e,[]),s=n.getInstance();if(!(s instanceof Element))return{target:r,transitionEnd:t};t&&(t=be({},t)),n.forEachValue(function(f){var d=f.get();if(!!Jy(d)){var h=Qy(d,s);h&&f.set(h)}});for(var o in r){var a=r[o];if(!!Jy(a)){var l=Qy(a,s);!l||(r[o]=l,t&&((i=t[o])!==null&&i!==void 0||(t[o]=a)))}}return{target:r,transitionEnd:t}}var kN=new Set(["width","height","top","left","right","bottom","x","y"]),VA=function(n){return kN.has(n)},BN=function(n){return Object.keys(n).some(VA)},HA=function(n,e){n.set(e,!1),n.set(e)},BM=function(n){return n===el||n===dt},VM;(function(n){n.width="width",n.height="height",n.left="left",n.right="right",n.top="top",n.bottom="bottom"})(VM||(VM={}));var HM=function(n,e){return parseFloat(n.split(", ")[e])},GM=function(n,e){return function(t,i){var r=i.transform;if(r==="none"||!r)return 0;var s=r.match(/^matrix3d\((.+)\)$/);if(s)return HM(s[1],e);var o=r.match(/^matrix\((.+)\)$/);return o?HM(o[1],n):0}},VN=new Set(["x","y","z"]),HN=Lf.filter(function(n){return!VN.has(n)});function GN(n){var e=[];return HN.forEach(function(t){var i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e.length&&n.syncRender(),e}var WM={width:function(n,e){var t=n.x,i=e.paddingLeft,r=i===void 0?"0":i,s=e.paddingRight,o=s===void 0?"0":s;return t.max-t.min-parseFloat(r)-parseFloat(o)},height:function(n,e){var t=n.y,i=e.paddingTop,r=i===void 0?"0":i,s=e.paddingBottom,o=s===void 0?"0":s;return t.max-t.min-parseFloat(r)-parseFloat(o)},top:function(n,e){var t=e.top;return parseFloat(t)},left:function(n,e){var t=e.left;return parseFloat(t)},bottom:function(n,e){var t=n.y,i=e.top;return parseFloat(i)+(t.max-t.min)},right:function(n,e){var t=n.x,i=e.left;return parseFloat(i)+(t.max-t.min)},x:GM(4,13),y:GM(5,14)},WN=function(n,e,t){var i=e.measureViewportBox(),r=e.getInstance(),s=getComputedStyle(r),o=s.display,a={};o==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(function(f){a[f]=WM[f](i,s)}),e.syncRender();var l=e.measureViewportBox();return t.forEach(function(f){var d=e.getValue(f);HA(d,a[f]),n[f]=WM[f](l,s)}),n},XN=function(n,e,t,i){t===void 0&&(t={}),i===void 0&&(i={}),e=be({},e),i=be({},i);var r=Object.keys(e).filter(VA),s=[],o=!1,a=[];if(r.forEach(function(d){var h=n.getValue(d);if(!!n.hasValue(d)){var p=t[d],m=Mc(p),y=e[d],_;if(Df(y)){var x=y.length,g=y[0]===null?1:0;p=y[g],m=Mc(p);for(var S=g;S<x;S++)_?O0(Mc(y[S])===_):_=Mc(y[S])}else _=Mc(y);if(m!==_)if(BM(m)&&BM(_)){var w=h.get();typeof w=="string"&&h.set(parseFloat(w)),typeof y=="string"?e[d]=parseFloat(y):Array.isArray(y)&&_===dt&&(e[d]=y.map(parseFloat))}else(m==null?void 0:m.transform)&&(_==null?void 0:_.transform)&&(p===0||y===0)?p===0?h.set(_.transform(p)):e[d]=m.transform(y):(o||(s=GN(n),o=!0),a.push(d),i[d]=i[d]!==void 0?i[d]:e[d],HA(h,y))}}),a.length){var l=a.indexOf("height")>=0?window.pageYOffset:null,f=WN(e,n,a);return s.length&&s.forEach(function(d){var h=gn(d,2),p=h[0],m=h[1];n.getValue(p).set(m)}),n.syncRender(),l!==null&&window.scrollTo({top:l}),{target:f,transitionEnd:i}}else return{target:e,transitionEnd:i}};function jN(n,e,t,i){return BN(e)?XN(n,e,t,i):{target:e,transitionEnd:i}}var YN=function(n,e,t,i){var r=zN(n,e,i);return e=r.target,i=r.transitionEnd,jN(n,e,t,i)};function qN(n){return window.getComputedStyle(n)}var GA={treeType:"dom",readValueFromInstance:function(n,e){if(dd(e)){var t=u_(e);return t&&t.default||0}else{var i=qN(n);return(D6(e)?i.getPropertyValue(e):i[e])||0}},sortNodePosition:function(n,e){return n.compareDocumentPosition(e)&2?1:-1},getBaseTarget:function(n,e){var t;return(t=n.style)===null||t===void 0?void 0:t[e]},measureViewportBox:function(n,e){var t=e.transformPagePoint;return FA(n,t)},resetTransform:function(n,e,t){var i=t.transformTemplate;e.style.transform=i?i({},""):"none",n.scheduleRender()},restoreTransform:function(n,e){n.style.transform=e.style.transform},removeValueFromRenderState:function(n,e){var t=e.vars,i=e.style;delete t[n],delete i[n]},makeTargetAnimatable:function(n,e,t,i){var r=t.transformValues;i===void 0&&(i=!0);var s=e.transition,o=e.transitionEnd,a=xr(e,["transition","transitionEnd"]),l=tN(a,s||{},n);if(r&&(o&&(o=r(o)),a&&(a=r(a)),l&&(l=r(l))),i){$D(n,a,l);var f=YN(n,a,l,o);o=f.transitionEnd,a=f.target}return be({transition:s,transitionEnd:o},a)},scrapeMotionValuesFromProps:$x,build:function(n,e,t,i,r){n.isVisible!==void 0&&(e.style.visibility=n.isVisible?"visible":"hidden"),Kx(e,t,i,r.transformTemplate)},render:j6},ZN=zA(GA),KN=zA(be(be({},GA),{getBaseTarget:function(n,e){return n[e]},readValueFromInstance:function(n,e){var t;return dd(e)?((t=u_(e))===null||t===void 0?void 0:t.default)||0:(e=Y6.has(e)?e:X6(e),n.getAttribute(e))},scrapeMotionValuesFromProps:Z6,build:function(n,e,t,i,r){Qx(e,t,i,r.transformTemplate)},render:q6})),JN=function(n,e){return qx(n)?KN(e,{enableHardwareAcceleration:!1}):ZN(e,{enableHardwareAcceleration:!0})};function XM(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}var wc={correct:function(n,e){if(!e.target)return n;if(typeof n=="string")if(dt.test(n))n=parseFloat(n);else return n;var t=XM(n,e.target.x),i=XM(n,e.target.y);return"".concat(t,"% ").concat(i,"%")}},jM="_$css",QN={correct:function(n,e){var t=e.treeScale,i=e.projectionDelta,r=n,s=n.includes("var("),o=[];s&&(n=n.replace(BA,function(_){return o.push(_),jM}));var a=Vs.parse(n);if(a.length>5)return r;var l=Vs.createTransformer(n),f=typeof a[0]!="number"?1:0,d=i.x.scale*t.x,h=i.y.scale*t.y;a[0+f]/=d,a[1+f]/=h;var p=mn(d,h,.5);typeof a[2+f]=="number"&&(a[2+f]/=p),typeof a[3+f]=="number"&&(a[3+f]/=p);var m=l(a);if(s){var y=0;m=m.replace(jM,function(){var _=o[y];return y++,_})}return m}},Tm={exports:{}},Am={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N=W.exports,eU=Symbol.for("react.element"),tU=Symbol.for("react.fragment"),nU=Object.prototype.hasOwnProperty,iU=$N.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rU={key:!0,ref:!0,__self:!0,__source:!0};function WA(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)nU.call(e,i)&&!rU.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:eU,type:n,key:s,ref:o,props:r,_owner:iU.current}}Am.Fragment=tU;Am.jsx=WA;Am.jsxs=WA;Tm.exports=Am;const ne=Tm.exports.jsx,rt=Tm.exports.jsxs,XA=Tm.exports.Fragment;var sU=function(n){w6(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.componentDidMount=function(){var t=this,i=this.props,r=i.visualElement,s=i.layoutGroup,o=i.switchLayoutGroup,a=i.layoutId,l=r.projection;wI(aU),l&&(s!=null&&s.group&&s.group.add(l),(o==null?void 0:o.register)&&a&&o.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",function(){t.safeToRemove()}),l.setOptions(be(be({},l.options),{onExitComplete:function(){return t.safeToRemove()}}))),Jc.hasEverUpdated=!0},e.prototype.getSnapshotBeforeUpdate=function(t){var i=this,r=this.props,s=r.layoutDependency,o=r.visualElement,a=r.drag,l=r.isPresent,f=o.projection;return f&&(f.isPresent=l,a||t.layoutDependency!==s||s===void 0?f.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?f.promote():f.relegate()||kr.postRender(function(){var d;!((d=f.getStack())===null||d===void 0)&&d.members.length||i.safeToRemove()}))),null},e.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},e.prototype.componentWillUnmount=function(){var t=this.props,i=t.visualElement,r=t.layoutGroup,s=t.switchLayoutGroup,o=i.projection;o&&(o.scheduleCheckAfterUnmount(),r!=null&&r.group&&r.group.remove(o),s!=null&&s.deregister&&s.deregister(o))},e.prototype.safeToRemove=function(){var t=this.props.safeToRemove;t==null||t()},e.prototype.render=function(){return null},e}(Ur.Component);function oU(n){var e=gn(CA(),2),t=e[0],i=e[1],r=W.exports.useContext(Yx);return ne(sU,{...be({},n,{layoutGroup:r,switchLayoutGroup:W.exports.useContext(R6),isPresent:t,safeToRemove:i})})}var aU={borderRadius:be(be({},wc),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:wc,borderTopRightRadius:wc,borderBottomLeftRadius:wc,borderBottomRightRadius:wc,boxShadow:QN},lU={measureLayout:oU};function uU(n,e,t){t===void 0&&(t={});var i=Bs(n)?n:Lu(n);return d_("",i,e,t),{stop:function(){return i.stop()},isAnimating:function(){return i.isAnimating()}}}var jA=["TopLeft","TopRight","BottomLeft","BottomRight"],cU=jA.length,YM=function(n){return typeof n=="string"?parseFloat(n):n},qM=function(n){return typeof n=="number"||dt.test(n)};function fU(n,e,t,i,r,s){var o,a,l,f;r?(n.opacity=mn(0,(o=t.opacity)!==null&&o!==void 0?o:1,dU(i)),n.opacityExit=mn((a=e.opacity)!==null&&a!==void 0?a:1,0,hU(i))):s&&(n.opacity=mn((l=e.opacity)!==null&&l!==void 0?l:1,(f=t.opacity)!==null&&f!==void 0?f:1,i));for(var d=0;d<cU;d++){var h="border".concat(jA[d],"Radius"),p=ZM(e,h),m=ZM(t,h);if(!(p===void 0&&m===void 0)){p||(p=0),m||(m=0);var y=p===0||m===0||qM(p)===qM(m);y?(n[h]=Math.max(mn(YM(p),YM(m),i),0),(os.test(m)||os.test(p))&&(n[h]+="%")):n[h]=m}}(e.rotate||t.rotate)&&(n.rotate=mn(e.rotate||0,t.rotate||0,i))}function ZM(n,e){var t;return(t=n[e])!==null&&t!==void 0?t:n.borderRadius}var dU=YA(0,.5,a_),hU=YA(.5,.95,s_);function YA(n,e,t){return function(i){return i<n?0:i>e?1:t(Nf(n,e,i))}}function KM(n,e){n.min=e.min,n.max=e.max}function wr(n,e){KM(n.x,e.x),KM(n.y,e.y)}function JM(n,e,t,i,r){return n-=e,n=j0(n,1/t,i),r!==void 0&&(n=j0(n,1/r,i)),n}function pU(n,e,t,i,r,s,o){if(e===void 0&&(e=0),t===void 0&&(t=1),i===void 0&&(i=.5),s===void 0&&(s=n),o===void 0&&(o=n),os.test(e)){e=parseFloat(e);var a=mn(o.min,o.max,e/100);e=a-o.min}if(typeof e=="number"){var l=mn(s.min,s.max,i);n===s&&(l-=e),n.min=JM(n.min,e,t,l,r),n.max=JM(n.max,e,t,l,r)}}function QM(n,e,t,i,r){var s=gn(t,3),o=s[0],a=s[1],l=s[2];pU(n,e[o],e[a],e[l],e.scale,i,r)}var mU=["x","scaleX","originX"],gU=["y","scaleY","originY"];function $M(n,e,t,i){QM(n.x,e,mU,t==null?void 0:t.x,i==null?void 0:i.x),QM(n.y,e,gU,t==null?void 0:t.y,i==null?void 0:i.y)}function ew(n){return n.translate===0&&n.scale===1}function qA(n){return ew(n.x)&&ew(n.y)}function ZA(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}var vU=function(){function n(){this.members=[]}return n.prototype.add=function(e){h_(this.members,e),e.scheduleRender()},n.prototype.remove=function(e){if(p_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},n.prototype.relegate=function(e){var t=this.members.findIndex(function(o){return e===o});if(t===0)return!1;for(var i,r=t;r>=0;r--){var s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1},n.prototype.promote=function(e,t){var i,r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),!((i=e.root)===null||i===void 0)&&i.isUpdating&&(e.isLayoutDirty=!0);var s=e.options.crossfade;s===!1&&r.hide()}},n.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,i,r,s,o;(i=(t=e.options).onExitComplete)===null||i===void 0||i.call(t),(o=(r=e.resumingFrom)===null||r===void 0?void 0:(s=r.options).onExitComplete)===null||o===void 0||o.call(s)})},n.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},n.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},n}(),yU="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function tw(n,e,t){var i=n.x.translate/e.x,r=n.y.translate/e.y,s="translate3d(".concat(i,"px, ").concat(r,"px, 0) ");if(s+="scale(".concat(1/e.x,", ").concat(1/e.y,") "),t){var o=t.rotate,a=t.rotateX,l=t.rotateY;o&&(s+="rotate(".concat(o,"deg) ")),a&&(s+="rotateX(".concat(a,"deg) ")),l&&(s+="rotateY(".concat(l,"deg) "))}var f=n.x.scale*e.x,d=n.y.scale*e.y;return s+="scale(".concat(f,", ").concat(d,")"),s===yU?"none":s}var xU=function(n,e){return n.depth-e.depth},_U=function(){function n(){this.children=[],this.isDirty=!1}return n.prototype.add=function(e){h_(this.children,e),this.isDirty=!0},n.prototype.remove=function(e){p_(this.children,e),this.isDirty=!0},n.prototype.forEach=function(e){this.isDirty&&this.children.sort(xU),this.isDirty=!1,this.children.forEach(e)},n}(),nw=1e3;function KA(n){var e=n.attachResizeListener,t=n.defaultParent,i=n.measureScroll,r=n.checkIsScrollRoot,s=n.resetTransform;return function(){function o(a,l,f){var d=this;l===void 0&&(l={}),f===void 0&&(f=t==null?void 0:t()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){d.isUpdating&&(d.isUpdating=!1,d.clearAllSnapshots())},this.updateProjection=function(){d.nodes.forEach(AU),d.nodes.forEach(CU)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=a,this.latestValues=l,this.root=f?f.root||f:this,this.path=f?zr(zr([],gn(f.path),!1),[f],!1):[],this.parent=f,this.depth=f?f.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(var h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new _U)}return o.prototype.addEventListener=function(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ef),this.eventHandlers.get(a).add(l)},o.prototype.notifyListeners=function(a){for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];var d=this.eventHandlers.get(a);d==null||d.notify.apply(d,zr([],gn(l),!1))},o.prototype.hasListeners=function(a){return this.eventHandlers.has(a)},o.prototype.registerPotentialNode=function(a,l){this.potentialNodes.set(a,l)},o.prototype.mount=function(a,l){var f=this,d;if(l===void 0&&(l=!1),!this.instance){this.isSVG=a instanceof SVGElement&&a.tagName!=="svg",this.instance=a;var h=this.options,p=h.layoutId,m=h.layout,y=h.visualElement;if(y&&!y.getInstance()&&y.mount(a),this.root.nodes.add(this),(d=this.parent)===null||d===void 0||d.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),l&&(m||p)&&(this.isLayoutDirty=!0),e){var _,x=function(){return f.root.updateBlockedByResize=!1};e(a,function(){f.root.updateBlockedByResize=!0,clearTimeout(_),_=window.setTimeout(x,250),Jc.hasAnimatedSinceResize&&(Jc.hasAnimatedSinceResize=!1,f.nodes.forEach(TU))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",function(g){var S,w,T,b,C,L=g.delta,D=g.hasLayoutChanged,P=g.hasRelativeTargetChanged,R=g.layout;if(f.isTreeAnimationBlocked()){f.target=void 0,f.relativeTarget=void 0;return}var V=(w=(S=f.options.transition)!==null&&S!==void 0?S:y.getDefaultTransition())!==null&&w!==void 0?w:IU,K=y.getProps(),oe=K.onLayoutAnimationStart,H=K.onLayoutAnimationComplete,$=!f.targetLayout||!ZA(f.targetLayout,R)||P,te=!D&&P;if(((T=f.resumeFrom)===null||T===void 0?void 0:T.instance)||te||D&&($||!f.currentAnimation)){f.resumeFrom&&(f.resumingFrom=f.resumeFrom,f.resumingFrom.resumingFrom=void 0),f.setAnimationOrigin(L,te);var ce=be(be({},f_(V,"layout")),{onPlay:oe,onComplete:H});y.shouldReduceMotion&&(ce.delay=0,ce.type=!1),f.startAnimation(ce)}else!D&&f.animationProgress===0&&f.finishAnimation(),f.isLead()&&((C=(b=f.options).onExitComplete)===null||C===void 0||C.call(b));f.targetLayout=R})}},o.prototype.unmount=function(){var a,l;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(a=this.getStack())===null||a===void 0||a.remove(this),(l=this.parent)===null||l===void 0||l.children.delete(this),this.instance=void 0,Ru.preRender(this.updateProjection)},o.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},o.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},o.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},o.prototype.isTreeAnimationBlocked=function(){var a;return this.isAnimationBlocked||((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimationBlocked())||!1},o.prototype.startUpdate=function(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,(a=this.nodes)===null||a===void 0||a.forEach(bU))},o.prototype.willUpdate=function(a){var l,f,d;if(a===void 0&&(a=!0),this.root.isUpdateBlocked()){(f=(l=this.options).onExitComplete)===null||f===void 0||f.call(l);return}if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var h=0;h<this.path.length;h++){var p=this.path[h];p.shouldResetTransform=!0,p.updateScroll()}var m=this.options,y=m.layoutId,_=m.layout;if(!(y===void 0&&!_)){var x=(d=this.options.visualElement)===null||d===void 0?void 0:d.getProps().transformTemplate;this.prevTransformTemplateValue=x==null?void 0:x(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}}},o.prototype.didUpdate=function(){var a=this.isUpdateBlocked();if(a){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iw);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(DU),this.potentialNodes.clear()),this.nodes.forEach(EU),this.nodes.forEach(SU),this.nodes.forEach(MU),this.clearAllSnapshots(),kg.update(),kg.preRender(),kg.render())},o.prototype.clearAllSnapshots=function(){this.nodes.forEach(wU),this.sharedNodes.forEach(PU)},o.prototype.scheduleUpdateProjection=function(){kr.preRender(this.updateProjection,!1,!0)},o.prototype.scheduleCheckAfterUnmount=function(){var a=this;kr.postRender(function(){a.isLayoutDirty?a.root.didUpdate():a.root.checkUpdateFailed()})},o.prototype.updateSnapshot=function(){if(!(this.snapshot||!this.instance)){var a=this.measure(),l=this.removeTransform(this.removeElementScroll(a));aw(l),this.snapshot={measured:a,layout:l,latestValues:{}}}},o.prototype.updateLayout=function(){var a;if(!!this.instance&&(this.updateScroll(),!(!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))){if(this.resumeFrom&&!this.resumeFrom.instance)for(var l=0;l<this.path.length;l++){var f=this.path[l];f.updateScroll()}var d=this.measure();aw(d);var h=this.layout;this.layout={measured:d,actual:this.removeElementScroll(d)},this.layoutCorrected=li(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(a=this.options.visualElement)===null||a===void 0||a.notifyLayoutMeasure(this.layout.actual,h==null?void 0:h.actual)}},o.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=r(this.instance),this.scroll=i(this.instance))},o.prototype.resetTransform=function(){var a;if(!!s){var l=this.isLayoutDirty||this.shouldResetTransform,f=this.projectionDelta&&!qA(this.projectionDelta),d=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate,h=d==null?void 0:d(this.latestValues,""),p=h!==this.prevTransformTemplateValue;l&&(f||po(this.latestValues)||p)&&(s(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}},o.prototype.measure=function(){var a=this.options.visualElement;if(!a)return li();var l=a.measureViewportBox(),f=this.root.scroll;return f&&(vo(l.x,f.x),vo(l.y,f.y)),l},o.prototype.removeElementScroll=function(a){var l=li();wr(l,a);for(var f=0;f<this.path.length;f++){var d=this.path[f],h=d.scroll,p=d.options,m=d.isScrollRoot;if(d!==this.root&&h&&p.layoutScroll){if(m){wr(l,a);var y=this.root.scroll;y&&(vo(l.x,-y.x),vo(l.y,-y.y))}vo(l.x,h.x),vo(l.y,h.y)}}return l},o.prototype.applyTransform=function(a,l){l===void 0&&(l=!1);var f=li();wr(f,a);for(var d=0;d<this.path.length;d++){var h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&lu(f,{x:-h.scroll.x,y:-h.scroll.y}),po(h.latestValues)&&lu(f,h.latestValues)}return po(this.latestValues)&&lu(f,this.latestValues),f},o.prototype.removeTransform=function(a){var l,f=li();wr(f,a);for(var d=0;d<this.path.length;d++){var h=this.path[d];if(!!h.instance&&!!po(h.latestValues)){UA(h.latestValues)&&h.updateSnapshot();var p=li(),m=h.measure();wr(p,m),$M(f,h.latestValues,(l=h.snapshot)===null||l===void 0?void 0:l.layout,p)}}return po(this.latestValues)&&$M(f,this.latestValues),f},o.prototype.setTargetDelta=function(a){this.targetDelta=a,this.root.scheduleUpdateProjection()},o.prototype.setOptions=function(a){var l;this.options=be(be(be({},this.options),a),{crossfade:(l=a.crossfade)!==null&&l!==void 0?l:!0})},o.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},o.prototype.resolveTargetDelta=function(){var a,l=this.options,f=l.layout,d=l.layoutId;!this.layout||!(f||d)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=li(),this.relativeTargetOrigin=li(),nf(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),wr(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=li(),this.targetWithTransforms=li()),this.relativeTarget&&this.relativeTargetOrigin&&((a=this.relativeParent)===null||a===void 0?void 0:a.target)?mN(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):wr(this.target,this.layout.actual),OA(this.target,this.targetDelta)):wr(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=li(),this.relativeTargetOrigin=li(),nf(this.relativeTargetOrigin,this.target,this.relativeParent.target),wr(this.relativeTarget,this.relativeTargetOrigin)))))},o.prototype.getClosestProjectingParent=function(){if(!(!this.parent||po(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},o.prototype.calcProjection=function(){var a,l=this.options,f=l.layout,d=l.layoutId;if(this.isTreeAnimating=Boolean(((a=this.parent)===null||a===void 0?void 0:a.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!(!this.layout||!(f||d))){var h=this.getLead();wr(this.layoutCorrected,this.layout.actual),EN(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==h);var p=h.target;if(!!p){this.projectionDelta||(this.projectionDelta=rf(),this.projectionDeltaWithTransform=rf());var m=this.treeScale.x,y=this.treeScale.y,_=this.projectionTransform;tf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=tw(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}}},o.prototype.hide=function(){this.isVisible=!1},o.prototype.show=function(){this.isVisible=!0},o.prototype.scheduleRender=function(a){var l,f,d;a===void 0&&(a=!0),(f=(l=this.options).scheduleRender)===null||f===void 0||f.call(l),a&&((d=this.getStack())===null||d===void 0||d.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},o.prototype.setAnimationOrigin=function(a,l){var f=this,d;l===void 0&&(l=!1);var h=this.snapshot,p=(h==null?void 0:h.latestValues)||{},m=be({},this.latestValues),y=rf();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!l;var _=li(),x=h==null?void 0:h.isShared,g=(((d=this.getStack())===null||d===void 0?void 0:d.members.length)||0)<=1,S=Boolean(x&&!g&&this.options.crossfade===!0&&!this.path.some(LU));this.animationProgress=0,this.mixTargetDelta=function(w){var T,b=w/1e3;rw(y.x,a.x,b),rw(y.y,a.y,b),f.setTargetDelta(y),f.relativeTarget&&f.relativeTargetOrigin&&f.layout&&((T=f.relativeParent)===null||T===void 0?void 0:T.layout)&&(nf(_,f.layout.actual,f.relativeParent.layout.actual),RU(f.relativeTarget,f.relativeTargetOrigin,_,b)),x&&(f.animationValues=m,fU(m,p,f.latestValues,b,S,g)),f.root.scheduleUpdateProjection(),f.scheduleRender(),f.animationProgress=b},this.mixTargetDelta(0)},o.prototype.startAnimation=function(a){var l=this,f,d;this.notifyListeners("animationStart"),(f=this.currentAnimation)===null||f===void 0||f.stop(),this.resumingFrom&&((d=this.resumingFrom.currentAnimation)===null||d===void 0||d.stop()),this.pendingAnimation&&(Ru.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=kr.update(function(){Jc.hasAnimatedSinceResize=!0,l.currentAnimation=uU(0,nw,be(be({},a),{onUpdate:function(h){var p;l.mixTargetDelta(h),(p=a.onUpdate)===null||p===void 0||p.call(a,h)},onComplete:function(){var h;(h=a.onComplete)===null||h===void 0||h.call(a),l.completeAnimation()}})),l.resumingFrom&&(l.resumingFrom.currentAnimation=l.currentAnimation),l.pendingAnimation=void 0})},o.prototype.completeAnimation=function(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(a=this.getStack())===null||a===void 0||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},o.prototype.finishAnimation=function(){var a;this.currentAnimation&&((a=this.mixTargetDelta)===null||a===void 0||a.call(this,nw),this.currentAnimation.stop()),this.completeAnimation()},o.prototype.applyTransformsToTarget=function(){var a=this.getLead(),l=a.targetWithTransforms,f=a.target,d=a.layout,h=a.latestValues;!l||!f||!d||(wr(l,f),lu(l,h),tf(this.projectionDeltaWithTransform,this.layoutCorrected,l,h))},o.prototype.registerSharedNode=function(a,l){var f,d,h;this.sharedNodes.has(a)||this.sharedNodes.set(a,new vU);var p=this.sharedNodes.get(a);p.add(l),l.promote({transition:(f=l.options.initialPromotionConfig)===null||f===void 0?void 0:f.transition,preserveFollowOpacity:(h=(d=l.options.initialPromotionConfig)===null||d===void 0?void 0:d.shouldPreserveFollowOpacity)===null||h===void 0?void 0:h.call(d,l)})},o.prototype.isLead=function(){var a=this.getStack();return a?a.lead===this:!0},o.prototype.getLead=function(){var a,l=this.options.layoutId;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this},o.prototype.getPrevLead=function(){var a,l=this.options.layoutId;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0},o.prototype.getStack=function(){var a=this.options.layoutId;if(a)return this.root.sharedNodes.get(a)},o.prototype.promote=function(a){var l=a===void 0?{}:a,f=l.needsReset,d=l.transition,h=l.preserveFollowOpacity,p=this.getStack();p&&p.promote(this,h),f&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})},o.prototype.relegate=function(){var a=this.getStack();return a?a.relegate(this):!1},o.prototype.resetRotation=function(){var a=this.options.visualElement;if(!!a){for(var l=!1,f={},d=0;d<Fy.length;d++){var h=Fy[d],p="rotate"+h;!a.getStaticValue(p)||(l=!0,f[p]=a.getStaticValue(p),a.setStaticValue(p,0))}if(!!l){a==null||a.syncRender();for(var p in f)a.setStaticValue(p,f[p]);a.scheduleRender()}}},o.prototype.getProjectionStyles=function(a){var l,f,d,h,p,m;a===void 0&&(a={});var y={};if(!this.instance||this.isSVG)return y;if(this.isVisible)y.visibility="";else return{visibility:"hidden"};var _=(l=this.options.visualElement)===null||l===void 0?void 0:l.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,y.opacity="",y.pointerEvents=$p(a.pointerEvents)||"",y.transform=_?_(this.latestValues,""):"none",y;var x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){var g={};return this.options.layoutId&&(g.opacity=(f=this.latestValues.opacity)!==null&&f!==void 0?f:1,g.pointerEvents=$p(a.pointerEvents)||""),this.hasProjected&&!po(this.latestValues)&&(g.transform=_?_({},""):"none",this.hasProjected=!1),g}var S=x.animationValues||x.latestValues;this.applyTransformsToTarget(),y.transform=tw(this.projectionDeltaWithTransform,this.treeScale,S),_&&(y.transform=_(S,y.transform));var w=this.projectionDelta,T=w.x,b=w.y;y.transformOrigin="".concat(T.origin*100,"% ").concat(b.origin*100,"% 0"),x.animationValues?y.opacity=x===this?(h=(d=S.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:S.opacityExit:y.opacity=x===this?(p=S.opacity)!==null&&p!==void 0?p:"":(m=S.opacityExit)!==null&&m!==void 0?m:0;for(var C in z0)if(S[C]!==void 0){var L=z0[C],D=L.correct,P=L.applyTo,R=D(S[C],x);if(P)for(var V=P.length,K=0;K<V;K++)y[P[K]]=R;else y[C]=R}return this.options.layoutId&&(y.pointerEvents=x===this?$p(a.pointerEvents)||"":"none"),y},o.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},o.prototype.resetTree=function(){this.root.nodes.forEach(function(a){var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(iw),this.root.sharedNodes.clear()},o}()}function SU(n){n.updateLayout()}function MU(n){var e,t,i,r,s=(t=(e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)!==null&&t!==void 0?t:n.snapshot;if(n.isLead()&&n.layout&&s&&n.hasListeners("didUpdate")){var o=n.layout,a=o.actual,l=o.measured;n.options.animationType==="size"?ts(function(S){var w=s.isShared?s.measured[S]:s.layout[S],T=Hs(w);w.min=a[S].min,w.max=w.min+T}):n.options.animationType==="position"&&ts(function(S){var w=s.isShared?s.measured[S]:s.layout[S],T=Hs(a[S]);w.max=w.min+T});var f=rf();tf(f,a,s.layout);var d=rf();s.isShared?tf(d,n.applyTransform(l,!0),s.measured):tf(d,a,s.layout);var h=!qA(f),p=!1;if(!n.resumeFrom&&(n.relativeParent=n.getClosestProjectingParent(),n.relativeParent&&!n.relativeParent.resumeFrom)){var m=n.relativeParent,y=m.snapshot,_=m.layout;if(y&&_){var x=li();nf(x,s.layout,y.layout);var g=li();nf(g,a,_.actual),ZA(x,g)||(p=!0)}}n.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p})}else n.isLead()&&((r=(i=n.options).onExitComplete)===null||r===void 0||r.call(i));n.options.transition=void 0}function wU(n){n.clearSnapshot()}function iw(n){n.clearMeasurements()}function EU(n){var e=n.options.visualElement;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notifyBeforeLayoutMeasure(),n.resetTransform()}function TU(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0}function AU(n){n.resolveTargetDelta()}function CU(n){n.calcProjection()}function bU(n){n.resetRotation()}function PU(n){n.removeLeadSnapshot()}function rw(n,e,t){n.translate=mn(e.translate,0,t),n.scale=mn(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function sw(n,e,t,i){n.min=mn(e.min,t.min,i),n.max=mn(e.max,t.max,i)}function RU(n,e,t,i){sw(n.x,e.x,t.x,i),sw(n.y,e.y,t.y,i)}function LU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}var IU={duration:.45,ease:[.4,0,.1,1]};function DU(n,e){for(var t=n.root,i=n.path.length-1;i>=0;i--)if(Boolean(n.path[i].instance)){t=n.path[i];break}var r=t&&t!==n.root?t.instance:document,s=r.querySelector('[data-projection-id="'.concat(e,'"]'));s&&n.mount(s,!0)}function ow(n){n.min=Math.round(n.min),n.max=Math.round(n.max)}function aw(n){ow(n.x),ow(n.y)}var NU=KA({attachResizeListener:function(n,e){return Sm(n,"resize",e)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Xg={current:void 0},UU=KA({measureScroll:function(n){return{x:n.scrollLeft,y:n.scrollTop}},defaultParent:function(){if(!Xg.current){var n=new NU(0,{});n.mount(window),n.setOptions({layoutScroll:!0}),Xg.current=n}return Xg.current},resetTransform:function(n,e){n.style.transform=e!=null?e:"none"},checkIsScrollRoot:function(n){return Boolean(window.getComputedStyle(n).position==="fixed")}}),OU=be(be(be(be({},dN),PD),DN),lU),Wn=SI(function(n,e){return a9(n,e,OU,JN,UU)});function JA(){var n=W.exports.useRef(!1);return F0(function(){return n.current=!0,function(){n.current=!1}},[]),n}function FU(){var n=JA(),e=gn(W.exports.useState(0),2),t=e[0],i=e[1],r=W.exports.useCallback(function(){n.current&&i(t+1)},[t]),s=W.exports.useCallback(function(){return kr.postRender(r)},[r]);return[s,t]}var jg=function(n){var e=n.children,t=n.initial,i=n.isPresent,r=n.onExitComplete,s=n.custom,o=n.presenceAffectsLayout,a=fd(zU),l=AA(),f=W.exports.useMemo(function(){return{id:l,initial:t,isPresent:i,custom:s,onExitComplete:function(d){var h,p;a.set(d,!0);try{for(var m=$L(a.values()),y=m.next();!y.done;y=m.next()){var _=y.value;if(!_)return}}catch(x){h={error:x}}finally{try{y&&!y.done&&(p=m.return)&&p.call(m)}finally{if(h)throw h.error}}r==null||r()},register:function(d){return a.set(d,!1),function(){return a.delete(d)}}}},o?void 0:[i]);return W.exports.useMemo(function(){a.forEach(function(d,h){return a.set(h,!1)})},[i]),W.exports.useEffect(function(){!i&&!a.size&&(r==null||r())},[i]),W.exports.createElement(cd.Provider,{value:f},e)};function zU(){return new Map}var jl=function(n){return n.key||""};function kU(n,e){n.forEach(function(t){var i=jl(t);e.set(i,t)})}function BU(n){var e=[];return W.exports.Children.forEach(n,function(t){W.exports.isValidElement(t)&&e.push(t)}),e}var g_=function(n){var e=n.children,t=n.custom,i=n.initial,r=i===void 0?!0:i,s=n.onExitComplete,o=n.exitBeforeEnter,a=n.presenceAffectsLayout,l=a===void 0?!0:a,f=gn(FU(),1),d=f[0],h=W.exports.useContext(Yx).forceRender;h&&(d=h);var p=JA(),m=BU(e),y=m,_=new Set,x=W.exports.useRef(y),g=W.exports.useRef(new Map).current,S=W.exports.useRef(!0);if(F0(function(){S.current=!1,kU(m,g),x.current=y}),n_(function(){S.current=!0,g.clear(),_.clear()}),S.current)return W.exports.createElement(W.exports.Fragment,null,y.map(function(D){return W.exports.createElement(jg,{key:jl(D),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:l},D)}));y=zr([],gn(y),!1);for(var w=x.current.map(jl),T=m.map(jl),b=w.length,C=0;C<b;C++){var L=w[C];T.indexOf(L)===-1&&_.add(L)}return o&&_.size&&(y=[]),_.forEach(function(D){if(T.indexOf(D)===-1){var P=g.get(D);if(!!P){var R=w.indexOf(D),V=function(){g.delete(D),_.delete(D);var K=x.current.findIndex(function(oe){return oe.key===D});if(x.current.splice(K,1),!_.size){if(x.current=m,p.current===!1)return;d(),s&&s()}};y.splice(R,0,W.exports.createElement(jg,{key:jl(P),isPresent:!1,onExitComplete:V,custom:t,presenceAffectsLayout:l},P))}}}),y=y.map(function(D){var P=D.key;return _.has(P)?D:W.exports.createElement(jg,{key:jl(D),isPresent:!0,presenceAffectsLayout:l},D)}),Xx!=="production"&&o&&y.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),W.exports.createElement(W.exports.Fragment,null,_.size?y:y.map(function(D){return W.exports.cloneElement(D)}))},QA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},lw=Ur.createContext&&Ur.createContext(QA),Uo=globalThis&&globalThis.__assign||function(){return Uo=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Uo.apply(this,arguments)},VU=globalThis&&globalThis.__rest||function(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t};function $A(n){return n&&n.map(function(e,t){return Ur.createElement(e.tag,Uo({key:t},e.attr),$A(e.child))})}function It(n){return function(e){return Ur.createElement(HU,Uo({attr:Uo({},n.attr)},e),$A(n.child))}}function HU(n){var e=function(t){var i=n.attr,r=n.size,s=n.title,o=VU(n,["attr","size","title"]),a=r||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ur.createElement("svg",Uo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,o,{className:l,style:Uo(Uo({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ur.createElement("title",null,s),n.children)};return lw!==void 0?Ur.createElement(lw.Consumer,null,function(t){return e(t)}):e(QA)}function GU(n){return It({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(n)}function WU(n){return It({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(n)}function XU(n){return It({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(n)}function jU(n){return It({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(n)}function YU(n){return It({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"}}]})(n)}function qU(n){return It({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4z"}}]})(n)}function uw(n){return It({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"}}]})(n)}function eC(n){return It({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M528 448H112c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h416c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm64-320c-26.5 0-48 21.5-48 48 0 7.1 1.6 13.7 4.4 19.8L476 239.2c-15.4 9.2-35.3 4-44.2-11.6L350.3 85C361 76.2 368 63 368 48c0-26.5-21.5-48-48-48s-48 21.5-48 48c0 15 7 28.2 17.7 37l-81.5 142.6c-8.9 15.6-28.9 20.8-44.2 11.6l-72.3-43.4c2.7-6 4.4-12.7 4.4-19.8 0-26.5-21.5-48-48-48S0 149.5 0 176s21.5 48 48 48c2.6 0 5.2-.4 7.7-.8L128 416h384l72.3-192.8c2.5.4 5.1.8 7.7.8 26.5 0 48-21.5 48-48s-21.5-48-48-48z"}}]})(n)}function ZU(n){return It({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"}}]})(n)}function tC(n){return It({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(n)}function KU(n){return It({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M471.1 96C405 96 353.3 137.3 320 174.6 286.7 137.3 235 96 168.9 96 75.8 96 0 167.8 0 256s75.8 160 168.9 160c66.1 0 117.8-41.3 151.1-78.6 33.3 37.3 85 78.6 151.1 78.6 93.1 0 168.9-71.8 168.9-160S564.2 96 471.1 96zM168.9 320c-40.2 0-72.9-28.7-72.9-64s32.7-64 72.9-64c38.2 0 73.4 36.1 94 64-20.4 27.6-55.9 64-94 64zm302.2 0c-38.2 0-73.4-36.1-94-64 20.4-27.6 55.9-64 94-64 40.2 0 72.9 28.7 72.9 64s-32.7 64-72.9 64z"}}]})(n)}function JU(n){return It({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"}}]})(n)}function nC(n){return It({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"}}]})(n)}function $y(n){return It({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"}}]})(n)}function QU(n){return It({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(n)}function iC(n){return It({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M552 64H448V24c0-13.3-10.7-24-24-24H152c-13.3 0-24 10.7-24 24v40H24C10.7 64 0 74.7 0 88v56c0 35.7 22.5 72.4 61.9 100.7 31.5 22.7 69.8 37.1 110 41.7C203.3 338.5 240 360 240 360v72h-48c-35.3 0-64 20.7-64 56v12c0 6.6 5.4 12 12 12h296c6.6 0 12-5.4 12-12v-12c0-35.3-28.7-56-64-56h-48v-72s36.7-21.5 68.1-73.6c40.3-4.6 78.6-19 110-41.7 39.3-28.3 61.9-65 61.9-100.7V88c0-13.3-10.7-24-24-24zM99.3 192.8C74.9 175.2 64 155.6 64 144v-16h64.2c1 32.6 5.8 61.2 12.8 86.2-15.1-5.2-29.2-12.4-41.7-21.4zM512 144c0 16.1-17.7 36.1-35.3 48.8-12.5 9-26.7 16.2-41.8 21.4 7-25 11.8-53.6 12.8-86.2H512v16z"}}]})(n)}const $U=()=>{const[n,e]=W.exports.useState(!1),[t,i]=W.exports.useState(!1);W.exports.useEffect(()=>{const s=()=>{e(window.scrollY>50)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]);const r=[{title:"In\xEDcio",href:"#"},{title:"Sobre",href:"#sobre"},{title:"Jornada",href:"#experiencia"},{title:"Contato",href:"#contato"}];return rt("nav",{style:{position:"fixed",top:0,left:0,width:"100%",zIndex:100,padding:n?"15px 0":"30px 0",background:n?"rgba(5, 5, 5, 0.8)":"transparent",backdropFilter:n?"blur(10px)":"none",borderBottom:n?"1px solid var(--glass-border)":"none",transition:"all 0.3s ease"},children:[rt("div",{className:"section-padding",style:{padding:"0 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[rt("a",{href:"#",style:{fontSize:"1.5rem",fontWeight:700,color:"var(--text-main)",textDecoration:"none",fontFamily:"var(--font-heading)"},children:[ne("span",{className:"gradient-text",children:"{"}),"Fabiano",ne("span",{className:"gradient-text",children:"FullStack"}),".dev",ne("span",{className:"gradient-text",children:"}"})]}),ne("div",{style:{display:"none",gap:"2rem",alignItems:"center"},className:"desktop-menu",children:r.map((s,o)=>ne("a",{href:s.href,style:{color:"var(--text-main)",textDecoration:"none",fontWeight:500,fontSize:"0.95rem",transition:"color 0.2s"},className:"nav-link",children:s.title},o))}),ne("div",{className:"mobile-toggle",style:{display:"none",fontSize:"1.5rem",cursor:"pointer"},onClick:()=>i(!t),children:t?ne(QU,{}):ne(YU,{})})]}),ne("style",{jsx:!0,children:`
        @media (min-width: 768px) {
            .desktop-menu { display: flex !important; }
        }
        @media (max-width: 768px) {
            .mobile-toggle { display: block !important; }
        }
      `}),ne(g_,{children:t&&ne(Wn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{background:"var(--bg-card)",overflow:"hidden",borderBottom:"1px solid var(--glass-border)"},children:ne("div",{style:{display:"flex",flexDirection:"column",padding:"2rem"},children:r.map((s,o)=>ne("a",{href:s.href,onClick:()=>i(!1),style:{padding:"1rem 0",color:"var(--text-main)",textDecoration:"none",fontSize:"1.2rem",borderBottom:"1px solid var(--glass-border)"},children:s.title},o))})})})]})},eO=()=>ne("section",{className:"section-padding",style:{minHeight:"100vh",display:"flex",alignItems:"center",paddingTop:"100px"},children:ne("div",{style:{width:"100%"},children:rt(Wn.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[rt("h1",{style:{fontSize:"clamp(3rem, 8vw, 6rem)",lineHeight:1.1,marginBottom:"1.5rem",fontWeight:700},children:["Construindo ",ne("span",{className:"gradient-text",children:"Qualidade"}),ne("br",{}),"em ",ne("span",{className:"gradient-text",children:"Software"}),"."]}),ne("p",{style:{maxWidth:"600px",color:"var(--text-muted)",fontSize:"1.2rem",marginBottom:"2.5rem"},children:"Engenheiro Full-Stack especializado em construir aplica\xE7\xF5es robustas, especialista em IA."}),rt("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[ne(Wn.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"mailto:hsofabi05@gmail.com",style:{background:"linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)",color:"white",padding:"16px 40px",borderRadius:"50px",textDecoration:"none",fontWeight:600,fontSize:"1rem",border:"none",cursor:"pointer",boxShadow:"0 10px 20px -10px var(--primary-dim)"},children:"Iniciar Proposta"}),rt("div",{style:{display:"flex",gap:"1.5rem",fontSize:"1.5rem",marginLeft:"1rem"},children:[ne(Wn.a,{whileHover:{y:-3,color:"var(--primary)"},href:"https://github.com/Fabimhso",target:"_blank",style:{color:"var(--text-main)",transition:"color 0.3s"},children:ne(GU,{})}),ne(Wn.a,{whileHover:{y:-3,color:"var(--primary)"},href:"https://www.linkedin.com/in/fabianooliveiraoficial",target:"_blank",style:{color:"var(--text-main)",transition:"color 0.3s"},children:ne(WU,{})})]})]})]})})});function tO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M6.763 10.036c0 .296.032.535.088.71.064.176.144.368.256.576.04.063.056.127.056.183 0 .08-.048.16-.152.24l-.503.335a.383.383 0 0 1-.208.072c-.08 0-.16-.04-.239-.112a2.47 2.47 0 0 1-.287-.375 6.18 6.18 0 0 1-.248-.471c-.622.734-1.405 1.101-2.347 1.101-.67 0-1.205-.191-1.596-.574-.391-.384-.59-.894-.59-1.533 0-.678.239-1.23.726-1.644.487-.415 1.133-.623 1.955-.623.272 0 .551.024.846.064.296.04.6.104.918.176v-.583c0-.607-.127-1.03-.375-1.277-.255-.248-.686-.367-1.3-.367-.28 0-.568.031-.863.103-.295.072-.583.16-.862.272a2.287 2.287 0 0 1-.28.104.488.488 0 0 1-.127.023c-.112 0-.168-.08-.168-.247v-.391c0-.128.016-.224.056-.28a.597.597 0 0 1 .224-.167c.279-.144.614-.264 1.005-.36a4.84 4.84 0 0 1 1.246-.151c.95 0 1.644.216 2.091.647.439.43.662 1.085.662 1.963v2.586zm-3.24 1.214c.263 0 .534-.048.822-.144.287-.096.543-.271.758-.51.128-.152.224-.32.272-.512.047-.191.08-.423.08-.694v-.335a6.66 6.66 0 0 0-.735-.136 6.02 6.02 0 0 0-.75-.048c-.535 0-.926.104-1.19.32-.263.215-.39.518-.39.917 0 .375.095.655.295.846.191.2.47.296.838.296zm6.41.862c-.144 0-.24-.024-.304-.08-.064-.048-.12-.16-.168-.311L7.586 5.55a1.398 1.398 0 0 1-.072-.32c0-.128.064-.2.191-.2h.783c.151 0 .255.025.31.08.065.048.113.16.16.312l1.342 5.284 1.245-5.284c.04-.16.088-.264.151-.312a.549.549 0 0 1 .32-.08h.638c.152 0 .256.025.32.08.063.048.12.16.151.312l1.261 5.348 1.381-5.348c.048-.16.104-.264.16-.312a.52.52 0 0 1 .311-.08h.743c.127 0 .2.065.2.2 0 .04-.009.08-.017.128a1.137 1.137 0 0 1-.056.2l-1.923 6.17c-.048.16-.104.263-.168.311a.51.51 0 0 1-.303.08h-.687c-.151 0-.255-.024-.32-.08-.063-.056-.119-.16-.15-.32l-1.238-5.148-1.23 5.14c-.04.16-.087.264-.15.32-.065.056-.177.08-.32.08zm10.256.215c-.415 0-.83-.048-1.229-.143-.399-.096-.71-.2-.918-.32-.128-.071-.215-.151-.247-.223a.563.563 0 0 1-.048-.224v-.407c0-.167.064-.247.183-.247.048 0 .096.008.144.024.048.016.12.048.2.08.271.12.566.215.878.279.319.064.63.096.95.096.502 0 .894-.088 1.165-.264a.86.86 0 0 0 .415-.758.777.777 0 0 0-.215-.559c-.144-.151-.416-.287-.807-.415l-1.157-.36c-.583-.183-1.014-.454-1.277-.813a1.902 1.902 0 0 1-.4-1.158c0-.335.073-.63.216-.886.144-.255.335-.479.575-.654.24-.184.51-.32.83-.415.32-.096.655-.136 1.006-.136.175 0 .359.008.535.032.183.024.35.056.518.088.16.04.312.08.455.127.144.048.256.096.336.144a.69.69 0 0 1 .24.2.43.43 0 0 1 .071.263v.375c0 .168-.064.256-.184.256a.83.83 0 0 1-.303-.096 3.652 3.652 0 0 0-1.532-.311c-.455 0-.815.071-1.062.223-.248.152-.375.383-.375.71 0 .224.08.416.24.567.159.152.454.304.877.44l1.134.358c.574.184.99.44 1.237.767.247.327.367.702.367 1.117 0 .343-.072.655-.207.926-.144.272-.336.511-.583.703-.248.2-.543.343-.886.447-.36.111-.734.167-1.142.167zM21.698 16.207c-2.626 1.94-6.442 2.969-9.722 2.969-4.598 0-8.74-1.7-11.87-4.526-.247-.223-.024-.527.272-.351 3.384 1.963 7.559 3.153 11.877 3.153 2.914 0 6.114-.607 9.06-1.852.439-.2.814.287.383.607zM22.792 14.961c-.336-.43-2.22-.207-3.074-.103-.255.032-.295-.192-.063-.36 1.5-1.053 3.967-.75 4.254-.399.287.36-.08 2.826-1.485 4.007-.215.184-.423.088-.327-.151.32-.79 1.03-2.57.695-2.994z"}}]})(n)}function nO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.146 0h3.924v18.166c-2.013.382-3.491.535-5.096.535-4.791 0-7.288-2.166-7.288-6.32 0-4.002 2.65-6.6 6.753-6.6.637 0 1.121.05 1.707.203zm0 9.143a3.894 3.894 0 00-1.325-.204c-1.988 0-3.134 1.223-3.134 3.365 0 2.09 1.096 3.236 3.109 3.236.433 0 .79-.025 1.35-.102V9.142zM21.314 6.06v9.098c0 3.134-.229 4.638-.917 5.937-.637 1.249-1.478 2.039-3.211 2.905l-3.644-1.733c1.733-.815 2.574-1.53 3.109-2.625.561-1.121.739-2.421.739-5.835V6.059h3.924zM17.39.021h3.924v4.026H17.39z"}}]})(n)}function iO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"}}]})(n)}function rO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M7.172 20.36c-.914-.72-1.89-1.41-2.556-2.38-1.402-1.712-2.482-3.694-3.22-5.777-.446-1.355-.6-2.808-1.174-4.11-.602-.944.103-1.978 1.138-2.28.46-.087 1.272-.522.293-.211-.878.644-.963-.585-.063-.662.615-.082.84-.585.63-1.037-.66-.43 1.6-.903.463-1.544C1.5 1.08 4.34.835 3.64 2.285 3.473 3.4 5.624 2.08 5.125 3.368c.507.619 1.9.14 1.865 1.009.74.05.993.672 1.687.72.72.325 2.022.58 2.266 1.39-.713.566-2.364-1.165-2.443.398.215 2.31.16 4.689 1.004 6.888.4 1.332 1.37 2.38 2.244 3.418.837 1.016 1.971 1.73 3.127 2.333 1.014.478 2.107.795 3.213.994.448-.343 1.24-1.617 1.938-1.08.033.604-1.388 1.263-.067 1.196.776-.234 1.314.6 1.953-.152.588.697 2.446-.446 2.027.98-.566.364-1.392.144-1.959.646-.935-.467-1.68.418-2.715.306a19.86 19.86 0 01-3.484.29c-1.912-.15-3.865-.214-5.684-.88-1.024-.297-2.023-.881-2.924-1.464zm1.615.7c1 .432 1.978.888 3.074 1.026 1.74.24 3.537.614 5.283.274-.79-.357-1.608.14-2.395-.255-.944.203-1.957-.052-2.917-.177-1.092-.486-2.27-.82-3.291-1.452-1.277-.466.66.598 1.005.685.798.453-.877-.233-1.114-.421-.668-.375-.754-.297-.066.084.139.08.276.166.42.235zm-1.904-1.346c.97.359-.004-.682-.45-.622-.196-.341-.751-.557-.36-.74-.704.244-.737-.93-1.07-.763-.744-.235-.29-1.07-1.176-1.58-.081-.54-.882-1.008-1.138-1.822-.113-.416-.905-1.613-.418-.5.414 1.072 1.143 1.99 1.75 2.907.47.873 1.027 1.786 1.885 2.33.29.278.568.703.977.79zM4.09 16.647c.033-.146.177.317 0 0zm3.954 3.497c.215-.096-.31-.12 0 0zm.526.192c-.054-.265-.24.148 0 0zm.66.275c.312-.3-.484-.188 0 0zm1.127.63c.191-.282-.61-.107 0 0zM8.19 19.728c.487-.315-.63-.004 0 0zm.494.246c-.014-.166-.176.075 0 0zm2.47 1.542c.397.25 2.32.55 1.115.103-.2.042-2.23-.574-1.116-.103zm-3.921-3.054c-.04-.167-.616-.185 0 0zm1.15.67c.3-.21-.621-.16 0 0zm.966.593c.43-.162-.696-.163 0 0zm-2.584-1.773c.466.358 1.88.046.714-.213-.53-.283-1.727-.476-.912.17zm3.24 1.978c.193-.33-.815-.19 0 0zm-.984-.783c1.14.323-.958-.72-.281-.118l.15.068.13.05zm1.973 1.14c1.08.01-.975-.147 0 0zm-4.644-2.96c-.042-.2-.266.018 0 0zm6.47 3.985c.028-.363-.353.27 0 0zm-4.63-2.856c-.064-.191-.336-.008 0 0zm-1.738-1.254c.62-.037-.848-.273 0 0zm-2.06-1.332c-.077-.297-.674-.534 0 0zm5.407 3.435c-.114-.13-.054.028 0 0zm3.366 2.065c-.01-.197-.183.075 0 0zm-3.664-2.373c.06-.255-.528-.077 0 0zm-2.506-1.592c.46-.05-.74-.311 0 0zm4.241 2.637c.718-.285-.7-.14 0 0zM9.03 18.545c.827.106-.985-.563-.181-.06zm2.876 1.768c.773-.462.518 1.082 1.311.13.782-.57-.675.707.29.103.696-.467 1.726.22 2.376.445.468-.023.923.405 1.403.145.923-.25-1.806-.37-1.09-.81-.845.245-1.47-.294-1.885-.835-.948-.22-2.044-.703-2.517-1.542-.192-.315.28.044-.166-.47-.57-.508-.856-1.085-1.24-1.702-.457-.244-.51-.963-.557-.024.004-.593-.553-.992-.688-.826-.002-.571.595-.285.176-.707-.09-.592-.386-1.21-.475-1.877-.138-.322-.02-1.011-.473-.282-.165.77-.055-.947.202-.38.337-.58-.12-.51-.14-.43.22-.488.14-1.18-.057-.916.117-.517.185-1.902-.175-1.656.218-.54.414-2.473-.534-1.736-.384.005-1.048.14-1.363.296.986.543-.1.196-.5.11-.052.502-.45.285-.946.29.793.098-.386.81-.841.534-.59.282.51.987.012 1.205.06.328-.905-.12-.83.64-.573-.241-.078.9.209.514.975.264.686.866.71 1.437-.158.333-.784-.783-.14-.731-.507-.827-.561-.3-.984.085-.1.028 1.079.547.34.803.65.1.668.67.8 1.03.39.407.31-.45.779.04-.296-.436-1.567-1.228-.544-.974-.005-.44-.185-.793.129-.784.31-.562-.325 1.387.375.672.193-.085.24-.563.59.045.505.498.182.858-.531.403.127.433.954.587.799 1.265.165.595.395.376.596.342.158.578.247.153.255-.123.72.155.552.58.778.88.497.224-.712-1.522.142-.526.898.81.337 1.15-.47 1.02.51-.041.675.69 1.313.664.582.277.975 1.34-.027.897-.348-.313-1.58-.7-.573-.104.929.43 1.665.688 2.561 1.227.64.458.918.982 1.16 1.086-.538.257-1.623-.206-.817-.348-.503-.091-1.068-.345-.587.28.41.343 1.45.306 1.637.345-.159.348-.43.376.006.403-.486.26.156.3.201.448zm-.994-2.808c-.296-.31-.373-.89-.053-.385.164.066.525.947.053.385zm3.238 2.057c.185-.011.006.14 0 0zm-3.706-2.816c-.01-.468.107.36 0 0zm-.322-.433c-.372-.72.47.204 0 0zm-3.9-2.692c.219-.06.108.374 0 0zm3.104 1.682c.134-.504.158.424 0 0zm-2.192-1.525c-.155-.278.323.26 0 0zm1.882.604c-.352-.79.25-.432.078.13zM5.77 12.217c-.158-.26-.418-1.02-.334-1.252.076.378.804 1.627.357.518-.494-.93.59.302.702.534.05.23-.305-.063-.064.478-.44-.617-.26.34-.661-.278zm-1.003-.691c.04-.603.23.413 0 0zm.45.155c.216-.455.366.634 0 0zm-1.084-.84c-.374-.37-.644-.713.017-.23.255.01-.566-.778.06-.25.66.12.327 1.082-.077.48zm.57-.015c.217-.215.115.212 0 0zm.35.113c-.328-.617.4.258 0 0zm-.697-.667c-1.086-.966 1.365.506.177.18zm3.11 1.808c-.47-.282-.123-1.984.037-.82.457-.148-.025.6.315.594-.053.473-.206.643-.35.226zm1.15.68c.048-.513.099.35 0 0zm-.2-.198c.054-.22.007.258 0 0zM4.57 9.955c-.697-.963 2.027.973.447.244-.165-.043-.364-.06-.447-.244zm2.216 1.175c-.066-.81.147.134 0 0zm1.682 1.079c.13-.462.01.305 0 0zM4.676 9.587c.415-.088 1.718.729.52.234-.132-.148-.416-.08-.52-.234zm3.56 1.775c.044-.83.248-.495.002.118zM4.985 9.299c.169-.248-.45-1.12.089-.313.232.185.672.31.283.387.61.539-.15.146-.372-.074zm3.075 1.804c.117-.944.103.553 0 0zM4.632 8.427c.129-.055.068.172 0 0zm.802.478c.206-.434.38.483 0 0zm2.263 1.259c-.002-.167.043.242 0 0zm-.131-.29c-.314-.776.292.41 0 0zm-.193-.51c-.053-.32.18.404 0 0zm.314-.51c-.216-.38.272-1.673.326-.87-.227.625-.065.975.093.136.293-.66-.063 1.303-.42.735zm.322-1.923c.094-.115.02.139 0 0zM7.47 17.544c-.128-.111.016.07 0 0zm1.11.56c.615.16.612-.095.055-.17-.3-.28-1.246-.575-.4-.035.057.142.235.139.344.206zM6.389 16.65c.34.253 1.28.719.484.096.269-.312-.514-.478-.254-.686-.66-.404-.52-.368-.058-.356-.794-.354.114-.328.07-.51-.305-.06-1.52-.54-.804.04-.726-.37-.173.138-.392.084-.743-.202.66.565-.118.375.425.337 1.146.864.18.357-.128.183.69.46.892.6zm1.16.667c1.41.454-.691-.556 0 0zm5.94 3.598c.02-.28-.193.24 0 0zm.611.257c.325-.315.013.503.54-.077.005-.415-.017-.66-.606-.156-.162.09-.234.473.066.233zm-9.692-6.087c-.1-.393-.7-.39 0 0zm.652.428c-.242-.402-.864-.364 0 0zm3.71 2.237c.362.32 1.662.236.44.04-.182-.27-1.151-.204-.44-.04zm5.097 3.149c.558-.468-.54.208 0 0zm1.16.796c.003-.15-.24.066 0 0zm.001-.21c.617-.654-.598.039 0 0zM2.805 13.743c-.526-.75-.327-1.088-.835-1.7-.096-.47-.87-1.533-.4-.406.43.659.558 1.679 1.235 2.106zm12.03 7.534c1.135-.734-.466-.32 0 0zm.866.34c.57-.488-.36-.102 0 0zM4.215 14.255c.163-.242-.42-.031 0 0zm11.305 7.129c.551-.355-.126-.3-.1.032zm-7.47-4.71c-.02-.24-.291.02 0 0zm.46.267c-.145-.297-.224.047 0 0zm7.894 4.684c.705-.51-.428-.098-.148.096zm-.27-.13c.574-.482-.607.213 0 0zm1.38.918c.386-.258-.469-.083 0 0zM4.57 14.08c.517.116 2.066 1.274 1.152.08-.468-.138-.187-1.283-.665-1.08.32.535.264.763-.41.426-.845-.413-.474.204-.31.374-.224.052.299.196.233.2zm-2.356-1.86c.092-.383-.853-2.107-.446-.864.146.26.13.754.446.864zm4.324 2.666c-.266-.223-.013-.032 0 0zm.656.152c0-.405-.725-.164 0 0zm5.681 3.583c-.108-.278-.428-.006 0 0zm.273.199c-.04-.155-.157.03 0 0zM15.4 20.24c.216-.16-.27-.02 0 0zM3.39 12.52c.62-.24-.664-.17 0 0zm8.984 5.662c-.007-.401-.395.1 0 0zm-9.23-6.231c.399-.135-.367-.09 0 0zm1.156.56c-.007-.133-.122.05 0 0zm14.09 8.64c.512-.104 1.678.26 1.866-.136-.62-.015-2.15-.438-2.222.1l.136.023.22.013zM4.667 12.603c.009-.407-.317-.015 0 0zM1.63 10.495c-.138-.775-.525-.118 0 0zm.724.182c.009-.25-.663-.224 0 0zm.414.203c-.12-.097-.094.122 0 0zm2.605 1.67c.122-.112-.29-.083 0 0zm-2.88-2.128c-.07-.585-.84-.088 0 0zm-1.486-.964c-.02-.27-.144.102 0 0zm.22-.167c-.035-.32-.19.04 0 0zm1.22.729c.518-.203-.94-.42-.104-.04zm16.334 10.089c.33-.303-.42-.094 0 0zm1.974 1.023c.132-.392-.334.05 0 0zM2.573 9.38c.055-.38-.41.075 0 0zM.837 8.218c-.093-.535-.08-1.474.812-1.156-1.191.236.824 1.48.57.498.5.024.98-.296.716.19.987-.11 1.67-.964 2.624-.845.742-.098 1.554-.172 2.354-.471.658-.048 1.29-.756.93-1.175-.896-.076-1.835.036-2.827.233-1.098.228-2.096.662-3.205.849-1.08.145.217.4-.092.456-.564.196.672.328-.073.534-.46-.088-.94-.246-.743-.73-1.035.133-1.945.563-1.127 1.616h.06zm2.494-1.27c.243-.894 1.3.735.398.118-.108-.08-.285-.146-.398-.12zm.047-.434c.35-.26.186.146 0 0zm.445.008c.032-.411 1.018.218.163.148zm.608-.245c.222-.26.064.23 0 0zm.156-.104c.37-.444 2.095-.283.832-.043-.338-.255-.598.15-.832.043zm2.25-.347c-.055-1.214 1.119.432 0 0zm.64-.004c.233-.612.906-.245.108-.123.017.065-.024.316-.108.123zM2.322 9.067c.697-.427-.741-.37 0 0zm.515.144c.245-.26-.531-.106 0 0zm-1.52-1.08c.399-.305-.471-.116 0 0zm20.602 12.89c.012-.355-.304.16 0 0zm-2.093-1.43c.06-.408-.27.037 0 0zm2.67 1.568c.557 0 1.688-.173.475-.173-.19.03-1.109.024-.476.173zM3.29 8.959c.45-.03.706-.497-.087-.47-1.23-.127 1.084.42-.158.264-.167.11.236.237.245.207zm.398.202c-.048-.29-.14.154 0 0zm.47-1.257c.197-.243-.27-.065 0 0zm-1.5-2.508c.806-.274 1.907-.581 2.287.135-.387-.466-.156-.924.21-.243.516.689.775-.313.438-.545.383.476.819.7.257.03.61-.734-1.223.097-1.64.088-.2.09-2.071.477-1.551.535zm.472-.903c.46-.347 1.588.206.864-.345-.07-.062-1.586.418-.864.345zm1.674.069c.538.013-.231-.722.409-.39-.105-.343-.746-.407-1.06-.544-.176.314.36.938.65.934zm-1.38-1.52c.186-.252-.326.128 0 0zm.684.164c.866-.115-.22-.373-.174-.01zm-1.277-1c-.61-.796 1.146.134.527-.7-.522-.415-1.023.468-.527.7zm7.824 4.215c.28-.496-1.155-.668-.188-.175.09.03.07.21.188.175z"}}]})(n)}function cw(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M23.546 10.93L13.067.452c-.604-.603-1.582-.603-2.188 0L8.708 2.627l2.76 2.76c.645-.215 1.379-.07 1.889.441.516.515.658 1.258.438 1.9l2.658 2.66c.645-.223 1.387-.078 1.9.435.721.72.721 1.884 0 2.604-.719.719-1.881.719-2.6 0-.539-.541-.674-1.337-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348.713.721.713 1.883 0 2.6-.719.721-1.889.721-2.609 0-.719-.719-.719-1.879 0-2.598.182-.18.387-.316.605-.406V8.835c-.217-.091-.424-.222-.6-.401-.545-.545-.676-1.342-.396-2.009L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477c.604.604 1.582.604 2.186 0l10.43-10.43c.605-.603.605-1.582 0-2.187"}}]})(n)}function sO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M0 0v24h24V0Zm6.764 3a5.448 5.448 0 0 1 3.892 1.356L9.284 6.012A3.652 3.652 0 0 0 6.696 5c-1.6 0-2.844 1.4-2.844 3.08v.028c0 1.812 1.244 3.14 3 3.14a3.468 3.468 0 0 0 2.048-.596V9.228H6.708v-1.88H11v4.296a6.428 6.428 0 0 1-4.228 1.572c-3.076 0-5.196-2.164-5.196-5.092v-.028A5.08 5.08 0 0 1 6.764 3Zm10.432 0c3.052 0 5.244 2.276 5.244 5.088v.028a5.116 5.116 0 0 1-5.272 5.12c-3.056-.02-5.248-2.296-5.248-5.112v-.028A5.116 5.116 0 0 1 17.196 3Zm-.028 2A2.96 2.96 0 0 0 14.2 8.068v.028a3.008 3.008 0 0 0 3 3.112 2.96 2.96 0 0 0 2.964-3.084v-.028A3.004 3.004 0 0 0 17.168 5ZM2.252 19.5h9V21h-9z"}}]})(n)}function oO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M12.19 2.38a9.344 9.344 0 0 0-9.234 6.893c.053-.02-.055.013 0 0-3.875 2.551-3.922 8.11-.247 10.941l.006-.007-.007.03a6.717 6.717 0 0 0 4.077 1.356h5.173l.03.03h5.192c6.687.053 9.376-8.605 3.835-12.35a9.365 9.365 0 0 0-2.821-4.552l-.043.043.006-.05A9.344 9.344 0 0 0 12.19 2.38zm-.358 4.146c1.244-.04 2.518.368 3.486 1.15a5.186 5.186 0 0 1 1.862 4.078v.518c3.53-.07 3.53 5.262 0 5.193h-5.193l-.008.009v-.04H6.785a2.59 2.59 0 0 1-1.067-.23h.001a2.597 2.597 0 1 1 3.437-3.437l3.013-3.012A6.747 6.747 0 0 0 8.11 8.24c.018-.01.04-.026.054-.023a5.186 5.186 0 0 1 3.67-1.69z"}}]})(n)}function aO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M12.002 0a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm8.54 4.931a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm0 9.862a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm-8.54 4.931a2.138 2.138 0 1 0 0 4.276 2.138 2.138 0 1 0 0-4.276zm-8.542-4.93a2.138 2.138 0 1 0 0 4.276 2.138 2.138 0 1 0 0-4.277zm0-9.863a2.138 2.138 0 1 0 0 4.277 2.138 2.138 0 1 0 0-4.277zm8.542-3.378L2.953 6.777v10.448l9.049 5.224 9.047-5.224V6.777zm0 1.601 7.66 13.27H4.34zm-1.387.371L3.97 15.037V7.363zm2.774 0 6.646 3.838v7.674zM5.355 17.44h13.293l-6.646 3.836z"}}]})(n)}function lO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"}}]})(n)}function uO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M10.204 14.35l.007.01-.999 2.413a5.171 5.171 0 0 1-2.075-2.597l2.578-.437.004.005a.44.44 0 0 1 .484.606zm-.833-2.129a.44.44 0 0 0 .173-.756l.002-.011L7.585 9.7a5.143 5.143 0 0 0-.73 3.255l2.514-.725.002-.009zm1.145-1.98a.44.44 0 0 0 .699-.337l.01-.005.15-2.62a5.144 5.144 0 0 0-3.01 1.442l2.147 1.523.004-.002zm.76 2.75l.723.349.722-.347.18-.78-.5-.623h-.804l-.5.623.179.779zm1.5-3.095a.44.44 0 0 0 .7.336l.008.003 2.134-1.513a5.188 5.188 0 0 0-2.992-1.442l.148 2.615.002.001zm10.876 5.97l-5.773 7.181a1.6 1.6 0 0 1-1.248.594l-9.261.003a1.6 1.6 0 0 1-1.247-.596l-5.776-7.18a1.583 1.583 0 0 1-.307-1.34L2.1 5.573c.108-.47.425-.864.863-1.073L11.305.513a1.606 1.606 0 0 1 1.385 0l8.345 3.985c.438.209.755.604.863 1.073l2.062 8.955c.108.47-.005.963-.308 1.34zm-3.289-2.057c-.042-.01-.103-.026-.145-.034-.174-.033-.315-.025-.479-.038-.35-.037-.638-.067-.895-.148-.105-.04-.18-.165-.216-.216l-.201-.059a6.45 6.45 0 0 0-.105-2.332 6.465 6.465 0 0 0-.936-2.163c.052-.047.15-.133.177-.159.008-.09.001-.183.094-.282.197-.185.444-.338.743-.522.142-.084.273-.137.415-.242.032-.024.076-.062.11-.089.24-.191.295-.52.123-.736-.172-.216-.506-.236-.745-.045-.034.027-.08.062-.111.088-.134.116-.217.23-.33.35-.246.25-.45.458-.673.609-.097.056-.239.037-.303.033l-.19.135a6.545 6.545 0 0 0-4.146-2.003l-.012-.223c-.065-.062-.143-.115-.163-.25-.022-.268.015-.557.057-.905.023-.163.061-.298.068-.475.001-.04-.001-.099-.001-.142 0-.306-.224-.555-.5-.555-.275 0-.499.249-.499.555l.001.014c0 .041-.002.092 0 .128.006.177.044.312.067.475.042.348.078.637.056.906a.545.545 0 0 1-.162.258l-.012.211a6.424 6.424 0 0 0-4.166 2.003 8.373 8.373 0 0 1-.18-.128c-.09.012-.18.04-.297-.029-.223-.15-.427-.358-.673-.608-.113-.12-.195-.234-.329-.349-.03-.026-.077-.062-.111-.088a.594.594 0 0 0-.348-.132.481.481 0 0 0-.398.176c-.172.216-.117.546.123.737l.007.005.104.083c.142.105.272.159.414.242.299.185.546.338.743.522.076.082.09.226.1.288l.16.143a6.462 6.462 0 0 0-1.02 4.506l-.208.06c-.055.072-.133.184-.215.217-.257.081-.546.11-.895.147-.164.014-.305.006-.48.039-.037.007-.09.02-.133.03l-.004.002-.007.002c-.295.071-.484.342-.423.608.061.267.349.429.645.365l.007-.001.01-.003.129-.029c.17-.046.294-.113.448-.172.33-.118.604-.217.87-.256.112-.009.23.069.288.101l.217-.037a6.5 6.5 0 0 0 2.88 3.596l-.09.218c.033.084.069.199.044.282-.097.252-.263.517-.452.813-.091.136-.185.242-.268.399-.02.037-.045.095-.064.134-.128.275-.034.591.213.71.248.12.556-.007.69-.282v-.002c.02-.039.046-.09.062-.127.07-.162.094-.301.144-.458.132-.332.205-.68.387-.897.05-.06.13-.082.215-.105l.113-.205a6.453 6.453 0 0 0 4.609.012l.106.192c.086.028.18.042.256.155.136.232.229.507.342.84.05.156.074.295.145.457.016.037.043.09.062.129.133.276.442.402.69.282.247-.118.341-.435.213-.71-.02-.039-.045-.096-.065-.134-.083-.156-.177-.261-.268-.398-.19-.296-.346-.541-.443-.793-.04-.13.007-.21.038-.294-.018-.022-.059-.144-.083-.202a6.499 6.499 0 0 0 2.88-3.622c.064.01.176.03.213.038.075-.05.144-.114.28-.104.266.039.54.138.87.256.154.06.277.128.448.173.036.01.088.019.13.028l.009.003.007.001c.297.064.584-.098.645-.365.06-.266-.128-.537-.423-.608zM16.4 9.701l-1.95 1.746v.005a.44.44 0 0 0 .173.757l.003.01 2.526.728a5.199 5.199 0 0 0-.108-1.674A5.208 5.208 0 0 0 16.4 9.7zm-4.013 5.325a.437.437 0 0 0-.404-.232.44.44 0 0 0-.372.233h-.002l-1.268 2.292a5.164 5.164 0 0 0 3.326.003l-1.27-2.296h-.01zm1.888-1.293a.44.44 0 0 0-.27.036.44.44 0 0 0-.214.572l-.003.004 1.01 2.438a5.15 5.15 0 0 0 2.081-2.615l-2.6-.44-.004.005z"}}]})(n)}function cO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071.771-.06 1.592-.536 2.257-1.306.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.357.357 0 00-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139zm.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105a.086.086 0 01-.004-.021l-.004-.024a1.807 1.807 0 01-.15.706.953.953 0 01-.213.335.71.71 0 00-.088-.042c-.104-.045-.198-.064-.284-.133a1.312 1.312 0 00-.22-.066c.05-.06.146-.133.183-.198.053-.128.082-.264.088-.402v-.02a1.21 1.21 0 00-.061-.4c-.045-.134-.101-.2-.183-.333-.084-.066-.167-.132-.267-.132h-.016c-.093 0-.176.03-.262.132a.8.8 0 00-.205.334 1.18 1.18 0 00-.09.4v.019c.002.089.008.179.02.267-.193-.067-.438-.135-.607-.202a1.635 1.635 0 01-.018-.2v-.02a1.772 1.772 0 01.15-.768c.082-.22.232-.406.43-.533a.985.985 0 01.594-.2zm-2.962.059h.036c.142 0 .27.048.399.135.146.129.264.288.344.465.09.199.14.4.153.667v.004c.007.134.006.2-.002.266v.08c-.03.007-.056.018-.083.024-.152.055-.274.135-.393.2.012-.09.013-.18.003-.267v-.015c-.012-.133-.04-.2-.082-.333a.613.613 0 00-.166-.267.248.248 0 00-.183-.064h-.021c-.071.006-.13.04-.186.132a.552.552 0 00-.12.27.944.944 0 00-.023.33v.015c.012.135.037.2.08.334.046.134.098.2.166.268.01.009.02.018.034.024-.07.057-.117.07-.176.136a.304.304 0 01-.131.068 2.62 2.62 0 01-.275-.402 1.772 1.772 0 01-.155-.667 1.759 1.759 0 01.08-.668 1.43 1.43 0 01.283-.535c.128-.133.26-.2.418-.2zm1.37 1.706c.332 0 .733.065 1.216.399.293.2.523.269 1.052.468h.003c.255.136.405.266.478.399v-.131a.571.571 0 01.016.47c-.123.31-.516.643-1.063.842v.002c-.268.135-.501.333-.775.465-.276.135-.588.292-1.012.267a1.139 1.139 0 01-.448-.067 3.566 3.566 0 01-.322-.198c-.195-.135-.363-.332-.612-.465v-.005h-.005c-.4-.246-.616-.512-.686-.71-.07-.268-.005-.47.193-.6.224-.135.38-.271.483-.336.104-.074.143-.102.176-.131h.002v-.003c.169-.202.436-.47.839-.601.139-.036.294-.065.466-.065zm2.8 2.142c.358 1.417 1.196 3.475 1.735 4.473.286.534.855 1.659 1.102 3.024.156-.005.33.018.513.064.646-1.671-.546-3.467-1.089-3.966-.22-.2-.232-.335-.123-.335.59.534 1.365 1.572 1.646 2.757.13.535.16 1.104.021 1.67.067.028.135.06.205.067 1.032.534 1.413.938 1.23 1.537v-.043c-.06-.003-.12 0-.18 0h-.016c.151-.467-.182-.825-1.065-1.224-.915-.4-1.646-.336-1.77.465-.008.043-.013.066-.018.135-.068.023-.139.053-.209.064-.43.268-.662.669-.793 1.187-.13.533-.17 1.156-.205 1.869v.003c-.02.334-.17.838-.319 1.35-1.5 1.072-3.58 1.538-5.348.334a2.645 2.645 0 00-.402-.533 1.45 1.45 0 00-.275-.333c.182 0 .338-.03.465-.067a.615.615 0 00.314-.334c.108-.267 0-.697-.345-1.163-.345-.467-.931-.995-1.788-1.521-.63-.4-.986-.87-1.15-1.396-.165-.534-.143-1.085-.015-1.645.245-1.07.873-2.11 1.274-2.763.107-.065.037.135-.408.974-.396.751-1.14 2.497-.122 3.854a8.123 8.123 0 01.647-2.876c.564-1.278 1.743-3.504 1.836-5.268.048.036.217.135.289.202.218.133.38.333.59.465.21.201.477.335.876.335.039.003.075.006.11.006.412 0 .73-.134.997-.268.29-.134.52-.334.74-.4h.005c.467-.135.835-.402 1.044-.7zm2.185 8.958c.037.6.343 1.245.882 1.377.588.134 1.434-.333 1.791-.765l.211-.01c.315-.007.577.01.847.268l.003.003c.208.199.305.53.391.876.085.4.154.78.409 1.066.486.527.645.906.636 1.14l.003-.007v.018l-.003-.012c-.015.262-.185.396-.498.595-.63.401-1.746.712-2.457 1.57-.618.737-1.37 1.14-2.036 1.191-.664.053-1.237-.2-1.574-.898l-.005-.003c-.21-.4-.12-1.025.056-1.69.176-.668.428-1.344.463-1.897.037-.714.076-1.335.195-1.814.12-.465.308-.797.641-.984l.045-.022zm-10.814.049h.01c.053 0 .105.005.157.014.376.055.706.333 1.023.752l.91 1.664.003.003c.243.533.754 1.064 1.189 1.637.434.598.77 1.131.729 1.57v.006c-.057.744-.48 1.148-1.125 1.294-.645.135-1.52.002-2.395-.464-.968-.536-2.118-.469-2.857-.602-.369-.066-.61-.2-.723-.4-.11-.2-.113-.602.123-1.23v-.004l.002-.003c.117-.334.03-.752-.027-1.118-.055-.401-.083-.71.043-.94.16-.334.396-.4.69-.533.294-.135.64-.202.915-.47h.002v-.002c.256-.268.445-.601.668-.838.19-.201.38-.336.663-.336zm7.159-9.074c-.435.201-.945.535-1.488.535-.542 0-.97-.267-1.28-.466-.154-.134-.28-.268-.373-.335-.164-.134-.144-.333-.074-.333.109.016.129.134.199.2.096.066.215.2.36.333.292.2.68.467 1.167.467.485 0 1.053-.267 1.398-.466.195-.135.445-.334.648-.467.156-.136.149-.267.279-.267.128.016.034.134-.147.332a8.097 8.097 0 01-.69.468zm-1.082-1.583V5.64c-.006-.02.013-.042.029-.05.074-.043.18-.027.26.004.063 0 .16.067.15.135-.006.049-.085.066-.135.066-.055 0-.092-.043-.141-.068-.052-.018-.146-.008-.163-.065zm-.551 0c-.02.058-.113.049-.166.066-.047.025-.086.068-.14.068-.05 0-.13-.02-.136-.068-.01-.066.088-.133.15-.133.08-.031.184-.047.259-.005.019.009.036.03.03.05v.02h.003z"}}]})(n)}function fO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M14.131.047c-.173 0-.334.037-.483.087.316.21.49.49.576.806.007.043.019.074.025.117a.681.681 0 0 1 .013.112c.024.545-.143.614-.26.936-.18.415-.13.861.086 1.22a.74.74 0 0 0 .074.137c-.235-1.568 1.073-1.803 1.314-2.293.019-.428-.334-.713-.613-.911a1.37 1.37 0 0 0-.732-.21zM16.102.4c-.024.143-.006.106-.012.18-.006.05-.006.112-.012.161-.013.05-.025.1-.044.149-.012.05-.03.1-.05.149l-.067.142c-.02.025-.031.05-.05.075l-.037.055a2.152 2.152 0 0 1-.093.124c-.037.038-.068.081-.112.112v.006c-.037.031-.074.068-.118.1-.13.099-.278.173-.415.266-.043.03-.087.056-.124.093a.906.906 0 0 0-.118.099c-.043.037-.074.074-.111.118-.031.037-.068.08-.093.124a1.582 1.582 0 0 0-.087.13c-.025.05-.043.093-.068.142-.019.05-.037.093-.05.143a2.007 2.007 0 0 0-.043.155c-.006.025-.006.056-.012.08-.007.025-.007.05-.013.075 0 .05-.006.105-.006.155 0 .037 0 .074.006.111 0 .05.006.1.019.155.006.05.018.1.03.15.02.049.032.098.05.148.013.03.031.062.044.087l-1.426-.552c-.241-.068-.477-.13-.719-.186l-.39-.093c-.372-.074-.75-.13-1.128-.167-.013 0-.019-.006-.031-.006A11.082 11.082 0 0 0 8.9 2.855c-.378.025-.756.074-1.134.136a12.45 12.45 0 0 0-.837.174l-.279.074c-.092.037-.18.08-.266.118l-.205.093c-.012.006-.024.006-.03.012-.063.031-.118.056-.174.087a2.738 2.738 0 0 0-.236.118c-.043.018-.086.043-.124.062a.559.559 0 0 1-.055.03c-.056.032-.112.063-.162.094a1.56 1.56 0 0 0-.148.093c-.044.03-.087.055-.124.086-.006.007-.013.007-.019.013-.037.025-.08.056-.118.087l-.012.012-.093.074c-.012.007-.025.019-.037.025-.031.025-.062.056-.093.08-.006.013-.019.02-.025.025-.037.038-.074.069-.111.106-.007 0-.007.006-.013.012a1.742 1.742 0 0 0-.111.106c-.007.006-.007.012-.013.012a1.454 1.454 0 0 0-.093.1c-.012.012-.03.024-.043.036a1.374 1.374 0 0 1-.106.112c-.006.012-.018.019-.024.03-.05.05-.093.1-.143.15l-.018.018c-.1.106-.205.211-.317.304-.111.1-.229.192-.347.273a3.777 3.777 0 0 1-.762.421c-.13.056-.267.106-.403.149-.26.056-.527.161-.756.18-.05 0-.105.012-.155.018l-.155.037-.149.056c-.05.019-.099.044-.148.068-.044.031-.093.056-.137.087a1.011 1.011 0 0 0-.124.106c-.043.03-.087.074-.124.111-.037.043-.074.08-.105.124-.031.05-.068.093-.093.143a1.092 1.092 0 0 0-.087.142c-.025.056-.05.106-.068.161-.019.05-.037.106-.056.161-.012.05-.025.1-.03.15 0 .005-.007.012-.007.018-.012.056-.012.13-.019.167C.006 7.95 0 7.986 0 8.03a.657.657 0 0 0 .074.31v.006c.019.037.044.075.069.112.024.037.05.074.08.111.031.031.068.069.106.1a.906.906 0 0 0 .117.099c.149.13.186.173.378.272.031.019.062.031.1.05.006 0 .012.006.018.006 0 .013 0 .019.006.031a1.272 1.272 0 0 0 .08.298c.02.037.032.074.05.111.007.013.013.025.02.031.024.05.049.093.073.137l.093.13c.031.037.069.08.106.118.037.037.074.068.118.105 0 0 .006.006.012.006.037.031.074.062.112.087a.986.986 0 0 0 .136.08c.043.025.093.05.142.069a.73.73 0 0 0 .124.043c.007.006.013.006.025.012.025.007.056.013.08.019-.018.335-.024.65.026.762.055.124.328-.254.6-.688-.036.428-.061.93 0 1.079.069.155.44-.329.763-.862 4.395-1.016 8.405 2.02 8.826 6.31-.08-.67-.905-1.041-1.283-.948-.186.458-.502 1.047-1.01 1.413.043-.41.025-.83-.062-1.24a4.009 4.009 0 0 1-.769 1.562c-.588.043-1.177-.242-1.487-.67-.025-.018-.031-.055-.05-.08-.018-.043-.037-.087-.05-.13a.515.515 0 0 1-.037-.13c-.006-.044-.006-.087-.006-.137v-.093a.992.992 0 0 1 .031-.13c.013-.043.025-.086.044-.13.024-.043.043-.087.074-.13.105-.298.105-.54-.087-.682a.706.706 0 0 0-.118-.062c-.024-.006-.055-.018-.08-.025l-.05-.018a.847.847 0 0 0-.13-.031.472.472 0 0 0-.13-.019 1.01 1.01 0 0 0-.136-.012c-.031 0-.062.006-.093.006a.484.484 0 0 0-.137.019c-.043.006-.086.012-.13.024a1.068 1.068 0 0 0-.13.044c-.043.018-.08.037-.124.056-.037.018-.074.043-.118.062-1.444.942-.582 3.148.403 3.787-.372.068-.75.148-.855.229l-.013.012c.267.161.546.298.837.416.397.13.818.247 1.004.297v.006a5.996 5.996 0 0 0 1.562.112c2.746-.192 4.996-2.281 5.405-5.033l.037.161c.019.112.043.23.056.347v.006c.012.056.018.112.025.162v.024c.006.056.012.112.012.162.006.068.012.136.012.204v.1c0 .03.007.067.007.098 0 .038-.007.075-.007.112v.087c0 .043-.006.08-.006.124 0 .025 0 .05-.006.08 0 .044-.006.087-.006.137-.006.018-.006.037-.006.055l-.02.143c0 .019 0 .037-.005.056-.007.062-.019.118-.025.18v.012l-.037.174v.018l-.037.167c0 .007-.007.02-.007.025a1.663 1.663 0 0 1-.043.168v.018c-.019.062-.037.118-.05.174-.006.006-.006.012-.006.012l-.056.186c-.024.062-.043.118-.068.18-.025.062-.043.124-.068.18-.025.062-.05.117-.074.18h-.007c-.024.055-.05.117-.08.173a.302.302 0 0 1-.019.043c-.006.006-.006.013-.012.019a5.867 5.867 0 0 1-1.742 2.082c-.05.031-.099.069-.149.106-.012.012-.03.018-.043.03a2.603 2.603 0 0 1-.136.094l.018.037h.007l.26-.037h.006c.161-.025.322-.056.483-.087.044-.006.093-.019.137-.031l.087-.019c.043-.006.086-.018.13-.024.037-.013.074-.02.111-.031.62-.15 1.221-.354 1.798-.595a9.926 9.926 0 0 1-3.85 3.142c.714-.05 1.426-.167 2.114-.366a9.903 9.903 0 0 0 5.857-4.68 9.893 9.893 0 0 1-1.667 3.986 9.758 9.758 0 0 0 1.655-1.376 9.824 9.824 0 0 0 2.61-5.268c.21.98.272 1.99.18 2.987 4.474-6.241.371-12.712-1.346-14.416-.006-.013-.012-.019-.012-.031-.006.006-.006.006-.006.012 0-.006 0-.006-.007-.012 0 .074-.006.148-.012.223a8.34 8.34 0 0 1-.062.415c-.03.136-.068.273-.105.41-.044.13-.093.266-.15.396a5.322 5.322 0 0 1-.185.378 4.735 4.735 0 0 1-.477.688c-.093.111-.192.21-.292.31a3.994 3.994 0 0 1-.18.155l-.142.124a3.459 3.459 0 0 1-.347.241 4.295 4.295 0 0 1-.366.211c-.13.062-.26.118-.39.174a4.364 4.364 0 0 1-.818.223c-.143.025-.285.037-.422.05a4.914 4.914 0 0 1-.297.012 4.66 4.66 0 0 1-.422-.025 3.137 3.137 0 0 1-.421-.062 3.136 3.136 0 0 1-.415-.105h-.007c.137-.013.273-.025.41-.05a4.493 4.493 0 0 0 .818-.223c.136-.05.266-.112.39-.174.13-.062.248-.13.372-.204.118-.08.235-.161.347-.248.112-.087.217-.18.316-.279.105-.093.198-.198.291-.304.093-.111.18-.223.26-.334.013-.019.026-.044.038-.062.062-.1.124-.199.18-.298a4.272 4.272 0 0 0 .334-.775c.044-.13.075-.266.106-.403.025-.142.05-.278.062-.415.012-.142.025-.285.025-.421 0-.1-.007-.199-.013-.298a6.726 6.726 0 0 0-.05-.415 4.493 4.493 0 0 0-.092-.415c-.044-.13-.087-.267-.137-.397-.05-.13-.111-.26-.173-.384-.069-.124-.137-.248-.211-.366a6.843 6.843 0 0 0-.248-.34c-.093-.106-.186-.212-.285-.317a3.878 3.878 0 0 0-.161-.155c-.28-.217-.57-.421-.862-.607a1.154 1.154 0 0 0-.124-.062 2.415 2.415 0 0 0-.589-.26Z"}}]})(n)}function dO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.5725 0c-.1763 0-.3098.0013-.3584.0067-.0516.0053-.2159.021-.3636.0328-3.4088.3073-6.6017 2.1463-8.624 4.9728C1.1004 6.584.3802 8.3666.1082 10.255c-.0962.659-.108.8537-.108 1.7474s.012 1.0884.108 1.7476c.652 4.506 3.8591 8.2919 8.2087 9.6945.7789.2511 1.6.4223 2.5337.5255.3636.04 1.9354.04 2.299 0 1.6117-.1783 2.9772-.577 4.3237-1.2643.2065-.1056.2464-.1337.2183-.1573-.0188-.0139-.8987-1.1938-1.9543-2.62l-1.919-2.592-2.4047-3.5583c-1.3231-1.9564-2.4117-3.556-2.4211-3.556-.0094-.0026-.0187 1.5787-.0235 3.509-.0067 3.3802-.0093 3.5162-.0516 3.596-.061.115-.108.1618-.2064.2134-.075.0374-.1408.0445-.495.0445h-.406l-.1078-.068a.4383.4383 0 01-.1572-.1712l-.0493-.1056.0053-4.703.0067-4.7054.0726-.0915c.0376-.0493.1174-.1125.1736-.143.0962-.047.1338-.0517.5396-.0517.4787 0 .5584.0187.6827.1547.0353.0377 1.3373 1.9987 2.895 4.3608a10760.433 10760.433 0 004.7344 7.1706l1.9002 2.8782.096-.0633c.8518-.5536 1.7525-1.3418 2.4657-2.1627 1.5179-1.7429 2.4963-3.868 2.8247-6.134.0961-.6591.1078-.854.1078-1.7475 0-.8937-.012-1.0884-.1078-1.7476-.6522-4.506-3.8592-8.2919-8.2087-9.6945-.7672-.2487-1.5836-.42-2.4985-.5232-.169-.0176-1.0835-.0366-1.6123-.037zm4.0685 7.217c.3473 0 .4082.0053.4857.047.1127.0562.204.1642.237.2767.0186.061.0234 1.3653.0186 4.3044l-.0067 4.2175-.7436-1.14-.7461-1.14v-3.066c0-1.982.0093-3.0963.0234-3.1502.0375-.1313.1196-.2346.2323-.2955.0961-.0494.1313-.054.4997-.054z"}}]})(n)}function hO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.998,24c-0.321,0-0.641-0.084-0.922-0.247l-2.936-1.737c-0.438-0.245-0.224-0.332-0.08-0.383 c0.585-0.203,0.703-0.25,1.328-0.604c0.065-0.037,0.151-0.023,0.218,0.017l2.256,1.339c0.082,0.045,0.197,0.045,0.272,0l8.795-5.076 c0.082-0.047,0.134-0.141,0.134-0.238V6.921c0-0.099-0.053-0.192-0.137-0.242l-8.791-5.072c-0.081-0.047-0.189-0.047-0.271,0 L3.075,6.68C2.99,6.729,2.936,6.825,2.936,6.921v10.15c0,0.097,0.054,0.189,0.139,0.235l2.409,1.392 c1.307,0.654,2.108-0.116,2.108-0.89V7.787c0-0.142,0.114-0.253,0.256-0.253h1.115c0.139,0,0.255,0.112,0.255,0.253v10.021 c0,1.745-0.95,2.745-2.604,2.745c-0.508,0-0.909,0-2.026-0.551L2.28,18.675c-0.57-0.329-0.922-0.945-0.922-1.604V6.921 c0-0.659,0.353-1.275,0.922-1.603l8.795-5.082c0.557-0.315,1.296-0.315,1.848,0l8.794,5.082c0.57,0.329,0.924,0.944,0.924,1.603 v10.15c0,0.659-0.354,1.273-0.924,1.604l-8.794,5.078C12.643,23.916,12.324,24,11.998,24z M19.099,13.993 c0-1.9-1.284-2.406-3.987-2.763c-2.731-0.361-3.009-0.548-3.009-1.187c0-0.528,0.235-1.233,2.258-1.233 c1.807,0,2.473,0.389,2.747,1.607c0.024,0.115,0.129,0.199,0.247,0.199h1.141c0.071,0,0.138-0.031,0.186-0.081 c0.048-0.054,0.074-0.123,0.067-0.196c-0.177-2.098-1.571-3.076-4.388-3.076c-2.508,0-4.004,1.058-4.004,2.833 c0,1.925,1.488,2.457,3.895,2.695c2.88,0.282,3.103,0.703,3.103,1.269c0,0.983-0.789,1.402-2.642,1.402 c-2.327,0-2.839-0.584-3.011-1.742c-0.02-0.124-0.126-0.215-0.253-0.215h-1.137c-0.141,0-0.254,0.112-0.254,0.253 c0,1.482,0.806,3.248,4.655,3.248C17.501,17.007,19.099,15.91,19.099,13.993z"}}]})(n)}function pO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.0557 6.0557 0 0 0 5.7718-4.2058 5.9894 5.9894 0 0 0 3.9977-2.9001 6.0557 6.0557 0 0 0-.7475-7.0729zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.4997-2.6067-1.4997Z"}}]})(n)}function mO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M23.5594 14.7228a.5269.5269 0 0 0-.0563-.1191c-.139-.2632-.4768-.3418-1.0074-.2321-1.6533.3411-2.2935.1312-2.5256-.0191 1.342-2.0482 2.445-4.522 3.0411-6.8297.2714-1.0507.7982-3.5237.1222-4.7316a1.5641 1.5641 0 0 0-.1509-.235C21.6931.9086 19.8007.0248 17.5099.0005c-1.4947-.0158-2.7705.3461-3.1161.4794a9.449 9.449 0 0 0-.5159-.0816 8.044 8.044 0 0 0-1.3114-.1278c-1.1822-.0184-2.2038.2642-3.0498.8406-.8573-.3211-4.7888-1.645-7.2219.0788C.9359 2.1526.3086 3.8733.4302 6.3043c.0409.818.5069 3.334 1.2423 5.7436.4598 1.5065.9387 2.7019 1.4334 3.582.553.9942 1.1259 1.5933 1.7143 1.7895.4474.1491 1.1327.1441 1.8581-.7279.8012-.9635 1.5903-1.8258 1.9446-2.2069.4351.2355.9064.3625 1.39.3772a.0569.0569 0 0 0 .0004.0041 11.0312 11.0312 0 0 0-.2472.3054c-.3389.4302-.4094.5197-1.5002.7443-.3102.064-1.1344.2339-1.1464.8115-.0025.1224.0329.2309.0919.3268.2269.4231.9216.6097 1.015.6331 1.3345.3335 2.5044.092 3.3714-.6787-.017 2.231.0775 4.4174.3454 5.0874.2212.5529.7618 1.9045 2.4692 1.9043.2505 0 .5263-.0291.8296-.0941 1.7819-.3821 2.5557-1.1696 2.855-2.9059.1503-.8707.4016-2.8753.5388-4.1012.0169-.0703.0357-.1207.057-.1362.0007-.0005.0697-.0471.4272.0307a.3673.3673 0 0 0 .0443.0068l.2539.0223.0149.001c.8468.0384 1.9114-.1426 2.5312-.4308.6438-.2988 1.8057-1.0323 1.5951-1.6698zM2.371 11.8765c-.7435-2.4358-1.1779-4.8851-1.2123-5.5719-.1086-2.1714.4171-3.6829 1.5623-4.4927 1.8367-1.2986 4.8398-.5408 6.108-.13-.0032.0032-.0066.0061-.0098.0094-2.0238 2.044-1.9758 5.536-1.9708 5.7495-.0002.0823.0066.1989.0162.3593.0348.5873.0996 1.6804-.0735 2.9184-.1609 1.1504.1937 2.2764.9728 3.0892.0806.0841.1648.1631.2518.2374-.3468.3714-1.1004 1.1926-1.9025 2.1576-.5677.6825-.9597.5517-1.0886.5087-.3919-.1307-.813-.5871-1.2381-1.3223-.4796-.839-.9635-2.0317-1.4155-3.5126zm6.0072 5.0871c-.1711-.0428-.3271-.1132-.4322-.1772.0889-.0394.2374-.0902.4833-.1409 1.2833-.2641 1.4815-.4506 1.9143-1.0002.0992-.126.2116-.2687.3673-.4426a.3549.3549 0 0 0 .0737-.1298c.1708-.1513.2724-.1099.4369-.0417.156.0646.3078.26.3695.4752.0291.1016.0619.2945-.0452.4444-.9043 1.2658-2.2216 1.2494-3.1676 1.0128zm2.094-3.988-.0525.141c-.133.3566-.2567.6881-.3334 1.003-.6674-.0021-1.3168-.2872-1.8105-.8024-.6279-.6551-.9131-1.5664-.7825-2.5004.1828-1.3079.1153-2.4468.079-3.0586-.005-.0857-.0095-.1607-.0122-.2199.2957-.2621 1.6659-.9962 2.6429-.7724.4459.1022.7176.4057.8305.928.5846 2.7038.0774 3.8307-.3302 4.7363-.084.1866-.1633.3629-.2311.5454zm7.3637 4.5725c-.0169.1768-.0358.376-.0618.5959l-.146.4383a.3547.3547 0 0 0-.0182.1077c-.0059.4747-.054.6489-.115.8693-.0634.2292-.1353.4891-.1794 1.0575-.11 1.4143-.8782 2.2267-2.4172 2.5565-1.5155.3251-1.7843-.4968-2.0212-1.2217a6.5824 6.5824 0 0 0-.0769-.2266c-.2154-.5858-.1911-1.4119-.1574-2.5551.0165-.5612-.0249-1.9013-.3302-2.6462.0044-.2932.0106-.5909.019-.8918a.3529.3529 0 0 0-.0153-.1126 1.4927 1.4927 0 0 0-.0439-.208c-.1226-.4283-.4213-.7866-.7797-.9351-.1424-.059-.4038-.1672-.7178-.0869.067-.276.1831-.5875.309-.9249l.0529-.142c.0595-.16.134-.3257.213-.5012.4265-.9476 1.0106-2.2453.3766-5.1772-.2374-1.0981-1.0304-1.6343-2.2324-1.5098-.7207.0746-1.3799.3654-1.7088.5321a5.6716 5.6716 0 0 0-.1958.1041c.0918-1.1064.4386-3.1741 1.7357-4.4823a4.0306 4.0306 0 0 1 .3033-.276.3532.3532 0 0 0 .1447-.0644c.7524-.5706 1.6945-.8506 2.802-.8325.4091.0067.8017.0339 1.1742.081 1.939.3544 3.2439 1.4468 4.0359 2.3827.8143.9623 1.2552 1.9315 1.4312 2.4543-1.3232-.1346-2.2234.1268-2.6797.779-.9926 1.4189.543 4.1729 1.2811 5.4964.1353.2426.2522.4522.2889.5413.2403.5825.5515.9713.7787 1.2552.0696.087.1372.1714.1885.245-.4008.1155-1.1208.3825-1.0552 1.717-.0123.1563-.0423.4469-.0834.8148-.0461.2077-.0702.4603-.0994.7662zm.8905-1.6211c-.0405-.8316.2691-.9185.5967-1.0105a2.8566 2.8566 0 0 0 .135-.0406 1.202 1.202 0 0 0 .1342.103c.5703.3765 1.5823.4213 3.0068.1344-.2016.1769-.5189.3994-.9533.6011-.4098.1903-1.0957.333-1.7473.3636-.7197.0336-1.0859-.0807-1.1721-.151zm.5695-9.2712c-.0059.3508-.0542.6692-.1054 1.0017-.055.3576-.112.7274-.1264 1.1762-.0142.4368.0404.8909.0932 1.3301.1066.887.216 1.8003-.2075 2.7014a3.5272 3.5272 0 0 1-.1876-.3856c-.0527-.1276-.1669-.3326-.3251-.6162-.6156-1.1041-2.0574-3.6896-1.3193-4.7446.3795-.5427 1.3408-.5661 2.1781-.463zm.2284 7.0137a12.3762 12.3762 0 0 0-.0853-.1074l-.0355-.0444c.7262-1.1995.5842-2.3862.4578-3.4385-.0519-.4318-.1009-.8396-.0885-1.2226.0129-.4061.0666-.7543.1185-1.0911.0639-.415.1288-.8443.1109-1.3505.0134-.0531.0188-.1158.0118-.1902-.0457-.4855-.5999-1.938-1.7294-3.253-.6076-.7073-1.4896-1.4972-2.6889-2.0395.5251-.1066 1.2328-.2035 2.0244-.1859 2.0515.0456 3.6746.8135 4.8242 2.2824a.908.908 0 0 1 .0667.1002c.7231 1.3556-.2762 6.2751-2.9867 10.5405zm-8.8166-6.1162c-.025.1794-.3089.4225-.6211.4225a.5821.5821 0 0 1-.0809-.0056c-.1873-.026-.3765-.144-.5059-.3156-.0458-.0605-.1203-.178-.1055-.2844.0055-.0401.0261-.0985.0925-.1488.1182-.0894.3518-.1226.6096-.0867.3163.0441.6426.1938.6113.4186zm7.9305-.4114c.0111.0792-.049.201-.1531.3102-.0683.0717-.212.1961-.4079.2232a.5456.5456 0 0 1-.075.0052c-.2935 0-.5414-.2344-.5607-.3717-.024-.1765.2641-.3106.5611-.352.297-.0414.6111.0088.6356.1851z"}}]})(n)}function fw(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"}}]})(n)}function gO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M14.23 12.004a2.236 2.236 0 0 1-2.235 2.236 2.236 2.236 0 0 1-2.236-2.236 2.236 2.236 0 0 1 2.235-2.236 2.236 2.236 0 0 1 2.236 2.236zm2.648-10.69c-1.346 0-3.107.96-4.888 2.622-1.78-1.653-3.542-2.602-4.887-2.602-.41 0-.783.093-1.106.278-1.375.793-1.683 3.264-.973 6.365C1.98 8.917 0 10.42 0 12.004c0 1.59 1.99 3.097 5.043 4.03-.704 3.113-.39 5.588.988 6.38.32.187.69.275 1.102.275 1.345 0 3.107-.96 4.888-2.624 1.78 1.654 3.542 2.603 4.887 2.603.41 0 .783-.09 1.106-.275 1.374-.792 1.683-3.263.973-6.365C22.02 15.096 24 13.59 24 12.004c0-1.59-1.99-3.097-5.043-4.032.704-3.11.39-5.587-.988-6.38-.318-.184-.688-.277-1.092-.278zm-.005 1.09v.006c.225 0 .406.044.558.127.666.382.955 1.835.73 3.704-.054.46-.142.945-.25 1.44-.96-.236-2.006-.417-3.107-.534-.66-.905-1.345-1.727-2.035-2.447 1.592-1.48 3.087-2.292 4.105-2.295zm-9.77.02c1.012 0 2.514.808 4.11 2.28-.686.72-1.37 1.537-2.02 2.442-1.107.117-2.154.298-3.113.538-.112-.49-.195-.964-.254-1.42-.23-1.868.054-3.32.714-3.707.19-.09.4-.127.563-.132zm4.882 3.05c.455.468.91.992 1.36 1.564-.44-.02-.89-.034-1.345-.034-.46 0-.915.01-1.36.034.44-.572.895-1.096 1.345-1.565zM12 8.1c.74 0 1.477.034 2.202.093.406.582.802 1.203 1.183 1.86.372.64.71 1.29 1.018 1.946-.308.655-.646 1.31-1.013 1.95-.38.66-.773 1.288-1.18 1.87-.728.063-1.466.098-2.21.098-.74 0-1.477-.035-2.202-.093-.406-.582-.802-1.204-1.183-1.86-.372-.64-.71-1.29-1.018-1.946.303-.657.646-1.313 1.013-1.954.38-.66.773-1.286 1.18-1.868.728-.064 1.466-.098 2.21-.098zm-3.635.254c-.24.377-.48.763-.704 1.16-.225.39-.435.782-.635 1.174-.265-.656-.49-1.31-.676-1.947.64-.15 1.315-.283 2.015-.386zm7.26 0c.695.103 1.365.23 2.006.387-.18.632-.405 1.282-.66 1.933-.2-.39-.41-.783-.64-1.174-.225-.392-.465-.774-.705-1.146zm3.063.675c.484.15.944.317 1.375.498 1.732.74 2.852 1.708 2.852 2.476-.005.768-1.125 1.74-2.857 2.475-.42.18-.88.342-1.355.493-.28-.958-.646-1.956-1.1-2.98.45-1.017.81-2.01 1.085-2.964zm-13.395.004c.278.96.645 1.957 1.1 2.98-.45 1.017-.812 2.01-1.086 2.964-.484-.15-.944-.318-1.37-.5-1.732-.737-2.852-1.706-2.852-2.474 0-.768 1.12-1.742 2.852-2.476.42-.18.88-.342 1.356-.494zm11.678 4.28c.265.657.49 1.312.676 1.948-.64.157-1.316.29-2.016.39.24-.375.48-.762.705-1.158.225-.39.435-.788.636-1.18zm-9.945.02c.2.392.41.783.64 1.175.23.39.465.772.705 1.143-.695-.102-1.365-.23-2.006-.386.18-.63.406-1.282.66-1.933zM17.92 16.32c.112.493.2.968.254 1.423.23 1.868-.054 3.32-.714 3.708-.147.09-.338.128-.563.128-1.012 0-2.514-.807-4.11-2.28.686-.72 1.37-1.536 2.02-2.44 1.107-.118 2.154-.3 3.113-.54zm-11.83.01c.96.234 2.006.415 3.107.532.66.905 1.345 1.727 2.035 2.446-1.595 1.483-3.092 2.295-4.11 2.295-.22-.005-.406-.05-.553-.132-.666-.38-.955-1.834-.73-3.703.054-.46.142-.944.25-1.438zm4.56.64c.44.02.89.034 1.345.034.46 0 .915-.01 1.36-.034-.44.572-.895 1.095-1.345 1.565-.455-.47-.91-.993-1.36-1.565z"}}]})(n)}function vO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M10.5 2.661l.54.997-1.797.644 2.409.218.748 1.246.467-1.121 2.077-.208-1.61-.613.426-1.017-1.578.519zm6.905 2.077L13.76 6.182l3.292 1.298.353-.146 3.293-1.298zm-10.51.312a2.97 1.153 0 0 0-2.97 1.152 2.97 1.153 0 0 0 2.97 1.153 2.97 1.153 0 0 0 2.97-1.153 2.97 1.153 0 0 0-2.97-1.152zM24 6.805s-8.983 4.278-10.395 4.953c-1.226.561-1.901.561-3.261.094C8.318 11.022 0 7.241 0 7.241v1.038c0 .24.332.499.966.8 1.277.613 8.34 3.677 9.45 4.206 1.112.53 1.9.54 3.313-.197 1.412-.738 8.049-3.905 9.326-4.57.654-.342.945-.602.945-.84zm-10.042.602L8.39 8.26l3.884 1.61zM24 10.637s-8.983 4.279-10.395 4.954c-1.226.56-1.901.56-3.261.093C8.318 14.854 0 11.074 0 11.074v1.038c0 .238.332.498.966.8 1.277.612 8.34 3.676 9.45 4.205 1.112.53 1.9.54 3.313-.197 1.412-.737 8.049-3.905 9.326-4.57.654-.332.945-.602.945-.84zm0 3.842l-10.395 4.954c-1.226.56-1.901.56-3.261.094C8.318 18.696 0 14.916 0 14.916v1.038c0 .239.332.499.966.8 1.277.613 8.34 3.676 9.45 4.206 1.112.53 1.9.54 3.313-.198 1.412-.737 8.049-3.904 9.326-4.569.654-.343.945-.613.945-.841z"}}]})(n)}function yO(n){return It({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M1.125 0C.502 0 0 .502 0 1.125v21.75C0 23.498.502 24 1.125 24h21.75c.623 0 1.125-.502 1.125-1.125V1.125C24 .502 23.498 0 22.875 0zm17.363 9.75c.612 0 1.154.037 1.627.111a6.38 6.38 0 0 1 1.306.34v2.458a3.95 3.95 0 0 0-.643-.361 5.093 5.093 0 0 0-.717-.26 5.453 5.453 0 0 0-1.426-.2c-.3 0-.573.028-.819.086a2.1 2.1 0 0 0-.623.242c-.17.104-.3.229-.393.374a.888.888 0 0 0-.14.49c0 .196.053.373.156.529.104.156.252.304.443.444s.423.276.696.41c.273.135.582.274.926.416.47.197.892.407 1.266.628.374.222.695.473.963.753.268.279.472.598.614.957.142.359.214.776.214 1.253 0 .657-.125 1.21-.373 1.656a3.033 3.033 0 0 1-1.012 1.085 4.38 4.38 0 0 1-1.487.596c-.566.12-1.163.18-1.79.18a9.916 9.916 0 0 1-1.84-.164 5.544 5.544 0 0 1-1.512-.493v-2.63a5.033 5.033 0 0 0 3.237 1.2c.333 0 .624-.03.872-.09.249-.06.456-.144.623-.25.166-.108.29-.234.373-.38a1.023 1.023 0 0 0-.074-1.089 2.12 2.12 0 0 0-.537-.5 5.597 5.597 0 0 0-.807-.444 27.72 27.72 0 0 0-1.007-.436c-.918-.383-1.602-.852-2.053-1.405-.45-.553-.676-1.222-.676-2.005 0-.614.123-1.141.369-1.582.246-.441.58-.804 1.004-1.089a4.494 4.494 0 0 1 1.47-.629 7.536 7.536 0 0 1 1.77-.201zm-15.113.188h9.563v2.166H9.506v9.646H6.789v-9.646H3.375z"}}]})(n)}const xO=[{title:"Back-End & IA",icon:ne($y,{}),desc:"Desenvolvimento de APIs robustas, microsservi\xE7os e integra\xE7\xE3o de modelos de IA.",skills:[{name:"Golang",icon:ne(sO,{style:{color:"#00ADD8"}})},{name:"Node.js",icon:ne(hO,{style:{color:"#339933"}})},{name:"Nest.js",icon:ne(fO,{style:{color:"#E0234E"}})},{name:"Python",icon:ne(fw,{style:{color:"#3776AB"}})},{name:"Django",icon:ne(nO,{style:{color:"#092E20"}})},{name:"Flask",icon:ne(rO,{style:{color:"#000000"}})},{name:"FastAPI",icon:ne(fw,{style:{color:"#009688"}})},{name:"LLM Integration",icon:ne(pO,{style:{color:"#412991"}})},{name:"RPA",icon:ne(nC,{style:{color:"#555555"}})},{name:"gRPC",icon:ne($y,{style:{color:"#244c5a"}})}]},{title:"Front-End",icon:ne(uw,{}),desc:"Interfaces modernas, responsivas e amig\xE1veis com foco em UX/UI.",skills:[{name:"JavaScript",icon:ne(lO,{style:{color:"#F7DF1E"}})},{name:"React.js",icon:ne(gO,{style:{color:"#61DAFB"}})},{name:"Next.js",icon:ne(dO,{style:{color:"white"}})},{name:"TypeScript",icon:ne(yO,{style:{color:"#3178C6"}})},{name:"HTML5/CSS3",icon:ne(uw,{style:{color:"#E34F26"}})}]},{title:"DevOps & Infraestrutura",icon:ne(qU,{}),desc:"Arquitetura escal\xE1vel, containeriza\xE7\xE3o e orquestra\xE7\xE3o em nuvem.",skills:[{name:"Docker",icon:ne(iO,{style:{color:"#2496ED"}})},{name:"Kubernetes",icon:ne(uO,{style:{color:"#326CE5"}})},{name:"GCP",icon:ne(oO,{style:{color:"#4285F4"}})},{name:"AWS",icon:ne(tO,{style:{color:"#FF9900"}})},{name:"Linux",icon:ne(cO,{style:{color:"#FCC624"}})},{name:"CI/CD",icon:ne(KU,{style:{color:"#4caf50"}})},{name:"Git",icon:ne(cw,{style:{color:"#F05032"}})}]},{title:"Dados & Ferramentas",icon:ne(ZU,{}),desc:"Gest\xE3o eficiente de dados e boas pr\xE1ticas de versionamento.",skills:[{name:"PostgreSQL",icon:ne(mO,{style:{color:"#336791"}})},{name:"Redis",icon:ne(vO,{style:{color:"#DC382D"}})},{name:"GraphQL",icon:ne(aO,{style:{color:"#E10098"}})},{name:"Git/GitHub",icon:ne(cw,{style:{color:"#F05032"}})}]}],_O=[{type:"Bacharelado",title:"Ci\xEAncia da Computa\xE7\xE3o",institution:"Funda\xE7\xE3o Educacional Serra dos \xD3rg\xE3os (FESO)",desc:"Melhor universidade da regi\xE3o serrana do Rio de Janeiro."},{type:"Especializa\xE7\xE3o",title:"Engenharia de IA & ML",institution:"Universidade de S\xE3o Paulo (USP)",desc:"Melhor universidade da Am\xE9rica Latina."},{type:"T\xE9cnico",title:"Redes de Computadores",institution:"Universidade Norte do Paran\xE1",desc:"1\xBA lugar no vestibular."}],SO=()=>rt("section",{id:"sobre",className:"section-padding",style:{paddingBottom:"100px",paddingTop:"100px",maxWidth:"1400px"},children:[rt(Wn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},style:{marginBottom:"6rem"},children:[rt("h2",{style:{fontSize:"2.5rem",marginBottom:"3rem",textAlign:"center"},children:["Tecnologias que ",ne("span",{className:"gradient-text",children:"domino"})]}),ne("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"1.5rem"},children:xO.map((n,e)=>rt(Wn.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},whileHover:{y:-5,backgroundColor:"var(--bg-card-hover)"},style:{background:"var(--bg-card)",padding:"2rem",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",transition:"all 0.3s ease"},children:[ne("div",{style:{fontSize:"2rem",color:"var(--primary)",marginBottom:"1.5rem",background:"rgba(255, 31, 31, 0.1)",width:"60px",height:"60px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px"},children:n.icon}),ne("h3",{style:{marginBottom:"1rem",fontSize:"1.4rem"},children:n.title}),ne("p",{style:{color:"var(--text-muted)",marginBottom:"2rem",fontSize:"0.95rem"},children:n.desc}),ne("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.8rem"},children:n.skills.map((t,i)=>rt("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.8rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",fontSize:"0.85rem",border:"1px solid rgba(255,255,255,0.05)"},children:[ne("span",{style:{fontSize:"1.1rem"},children:t.icon}),ne("span",{children:t.name})]},i))})]},e))})]}),rt("div",{children:[rt("h2",{style:{fontSize:"2rem",marginBottom:"3rem",textAlign:"center"},children:["Forma\xE7\xE3o ",ne("span",{className:"gradient-text",children:"Acad\xEAmica"})]}),ne("div",{style:{maxWidth:"800px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"2rem"},children:_O.map((n,e)=>rt("div",{style:{background:"linear-gradient(90deg, var(--bg-card) 0%, transparent 100%)",padding:"1.5rem",borderRadius:"12px",borderLeft:"4px solid var(--primary)",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[rt("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"1rem"},children:[rt("div",{children:[ne("h3",{style:{fontSize:"1.3rem",marginBottom:"0.2rem"},children:n.title}),ne("p",{style:{color:"var(--primary)",fontWeight:600,fontSize:"0.95rem"},children:n.institution})]}),ne("span",{style:{fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px",color:"var(--text-dim)",border:"1px solid var(--glass-border)",padding:"4px 8px",borderRadius:"4px"},children:n.type})]}),ne("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",marginTop:"0.8rem"},children:n.desc})]},e))})]})]}),MO=[{title:"Alnitak Vision AI",subtitle:"Projeto Premiado",tier:"gold",icon:ne(eC,{}),desc:"Inova\xE7\xE3o em vis\xE3o computacional e intelig\xEAncia artificial avan\xE7ada.",link:"#"},{title:"SuaSecret\xE1ria.app",subtitle:"Em uso por +200 escrit\xF3rios",icon:ne(iC,{}),desc:"Automa\xE7\xE3o inteligente para gest\xE3o jur\xEDdica e atendimento.",link:"#"},{title:"Remot3.dev",subtitle:"Vagas remotas web3",tier:"bronze",icon:ne(tC,{}),desc:"Plataforma conectando talentos a oportunidades globais na Web3.",link:"#"}],wO=n=>{switch(n){case"gold":return{border:"2px solid #FFD700",boxShadow:"0 0 15px rgba(255, 215, 0, 0.3)",color:"#FFD700",gradient:"linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, transparent 100%)"};case"silver":return{border:"2px solid #C0C0C0",boxShadow:"0 0 15px rgba(192, 192, 192, 0.3)",color:"#C0C0C0",gradient:"linear-gradient(135deg, rgba(192, 192, 192, 0.1) 0%, transparent 100%)"};case"bronze":return{border:"2px solid #CD7F32",boxShadow:"0 0 15px rgba(205, 127, 50, 0.3)",color:"#CD7F32",gradient:"linear-gradient(135deg, rgba(205, 127, 50, 0.1) 0%, transparent 100%)"};default:return{}}},EO=()=>{const n=x6();return rt("section",{id:"projetos",className:"section-padding",style:{paddingBottom:"100px",paddingTop:"100px"},children:[rt("h2",{style:{fontSize:"2.5rem",marginBottom:"4rem",textAlign:"center"},children:["Projetos em ",ne("span",{className:"gradient-text",children:"Destaque"})]}),ne("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2.5rem",marginBottom:"4rem"},children:MO.map((e,t)=>{const i=wO(e.tier);return rt(Wn.div,{whileHover:{y:-10,scale:1.02},initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:t*.1},style:{background:"var(--bg-card)",borderRadius:"20px",border:i.border,boxShadow:i.boxShadow,padding:"2rem",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[ne("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:i.gradient,zIndex:0,pointerEvents:"none"}}),rt("div",{style:{zIndex:1},children:[ne("div",{style:{fontSize:"2.5rem",color:i.color,marginBottom:"1rem",filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},children:e.icon}),ne("h3",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:e.title}),ne("p",{style:{color:i.color,fontWeight:600,textTransform:"uppercase",letterSpacing:"1px",fontSize:"0.8rem",marginBottom:"1rem"},children:e.subtitle}),ne("p",{style:{color:"var(--text-muted)",fontSize:"1rem",lineHeight:"1.6"},children:e.desc})]})]},t)})}),ne("div",{style:{textAlign:"center"},children:rt(Wn.button,{onClick:()=>n("/projetos"),whileHover:{scale:1.05,boxShadow:"0 0 30px var(--primary-dim)"},whileTap:{scale:.95},style:{position:"relative",background:"linear-gradient(90deg, var(--primary) 0%, var(--secondary) 100%)",color:"white",border:"none",padding:"16px 50px",fontSize:"1.2rem",fontWeight:"bold",borderRadius:"50px",cursor:"pointer",overflow:"hidden",boxShadow:"0 0 20px var(--primary-dim)"},children:[ne("span",{style:{position:"relative",zIndex:2},children:"Ver mais"}),ne(Wn.div,{animate:{x:["-100%","200%"]},transition:{repeat:1/0,duration:2,ease:"linear",repeatDelay:1},style:{position:"absolute",top:0,left:0,width:"50%",height:"100%",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent)",transform:"skewX(-20deg)",zIndex:1}})]})})]})},TO=[{role:"Engenheiro Fundador de Software / IA",company:"Alnitak Vision AI",period:"2025 - Atual",desc:"Liderando inova\xE7\xE3o em IA."},{role:"Engenheiro de Software / IA (Contrato)",company:"Escrit\xF3rio Jur\xEDdico Eduardo Mesquita",period:"2025 - 2025",desc:"Solu\xE7\xF5es de IA para Legal Tech."},{role:"Engenheiro de Software Estagi\xE1rio",company:"FullStore",period:"2025 - Atual",desc:"Desenvolvimento Full-Stack."},{role:"Engenheiro Full-Stack (Freelancer)",company:"FabianoFullStack.dev",period:"2023 - 2024",desc:"Entrega de solu\xE7\xF5es de software personalizadas."},{role:"Engenheiro Full-Stack",company:"Rikz Company",period:"2022 - 2023",desc:"Desenvolvimento de aplica\xE7\xF5es web de ponta a ponta."},{role:"Analista de Banco de Dados",company:"Alterdata Software",period:"2022",desc:"Gest\xE3o e otimiza\xE7\xE3o de bancos de dados."},{role:"Desenvolvedor Pawno",company:"Servidor GTA SAMP",period:"2012 - 2015",desc:"Experi\xEAncia inicial com scripting de jogos."}],AO=()=>rt("section",{id:"experiencia",className:"section-padding",style:{paddingTop:"100px"},children:[rt("h2",{style:{fontSize:"2.5rem",marginBottom:"3rem",textAlign:"center"},children:["Jornada ",ne("span",{className:"gradient-text",children:"Profissional"})]}),ne("div",{style:{maxWidth:"800px",margin:"0 auto",display:"flex",flexDirection:"column",gap:"2rem"},children:TO.map((n,e)=>rt(Wn.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:e*.1},style:{borderLeft:"2px solid var(--glass-border)",paddingLeft:"2rem",position:"relative"},children:[ne("div",{style:{position:"absolute",left:"-6px",top:"0",width:"10px",height:"10px",borderRadius:"50%",background:"var(--primary)",boxShadow:"0 0 10px var(--primary)"}}),rt("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[ne("h3",{style:{fontSize:"1.4rem",color:"var(--text-main)"},children:n.role}),rt("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[ne("span",{style:{color:"var(--primary)",fontWeight:600,fontSize:"1rem"},children:n.company}),ne("span",{style:{fontSize:"0.85rem",color:"var(--text-dim)",background:"var(--bg-card)",border:"1px solid var(--glass-border)",padding:"2px 8px",borderRadius:"4px"},children:n.period})]}),ne("p",{style:{color:"var(--text-muted)",fontSize:"1rem",marginTop:"0.5rem"},children:n.desc})]})]},e))})]}),CO=()=>rt("section",{id:"contato",className:"section-padding",style:{paddingBottom:"120px",paddingTop:"100px",textAlign:"center"},children:[rt("div",{style:{background:"linear-gradient(180deg, rgba(255,255,255,0.03) 0%, rgba(255,255,255,0.01) 100%)",padding:"5rem 2rem",borderRadius:"20px",border:"1px solid var(--glass-border)"},children:[rt("h2",{style:{fontSize:"3rem",marginBottom:"1.5rem"},children:["Vamos trabalhar ",ne("span",{className:"gradient-text",children:"juntos"})]}),ne("p",{style:{fontSize:"1.2rem",color:"var(--text-muted)",maxWidth:"600px",margin:"0 auto 3rem"},children:"Tem um projeto em mente? Estou aceitando novos projetos e demandas."}),rt(Wn.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:"https://wa.me/5521967482533",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"10px",background:"var(--text-main)",color:"var(--bg-dark)",padding:"16px 40px",borderRadius:"50px",textDecoration:"none",fontWeight:700,fontSize:"1.1rem"},children:[ne(XU,{})," Diga Ol\xE1"]})]}),rt("footer",{style:{marginTop:"5rem",color:"var(--text-dim)",fontSize:"0.9rem"},children:[rt("p",{children:["\xA9 ",new Date().getFullYear()," FabianoFullStack.dev. Todos os direitos reservados."]}),ne("p",{children:"Feito com React.js & cafe\xEDna premium."})]})]});function e2(){return e2=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},e2.apply(null,arguments)}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Cm="160",Sa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Ma={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},rC=0,t2=1,sC=2,bO=3,oC=0,bm=1,sf=2,br=3,Gs=0,wi=1,is=2,PO=2,Us=0,Fa=1,Of=2,n2=3,i2=4,aC=5,_o=100,lC=101,uC=102,r2=103,s2=104,cC=200,fC=201,dC=202,hC=203,Y0=204,q0=205,pC=206,mC=207,gC=208,vC=209,yC=210,xC=211,_C=212,SC=213,MC=214,wC=0,EC=1,TC=2,Ff=3,AC=4,CC=5,bC=6,PC=7,gd=0,RC=1,LC=2,as=0,IC=1,DC=2,NC=3,v_=4,UC=5,OC=6,o2="attached",FC="detached",Pm=300,Ws=301,Ho=302,zf=303,kf=304,Gu=306,Bf=1e3,ci=1001,Vf=1002,_n=1003,Z0=1004,RO=1004,of=1005,LO=1005,Mn=1006,y_=1007,IO=1007,Go=1008,DO=1008,ls=1009,zC=1010,kC=1011,Rm=1012,x_=1013,Is=1014,Dr=1015,Iu=1016,__=1017,S_=1018,Oo=1020,BC=1021,Si=1023,VC=1024,HC=1025,Fo=1026,Ya=1027,GC=1028,M_=1029,WC=1030,w_=1031,E_=1033,n0=33776,i0=33777,r0=33778,s0=33779,a2=35840,l2=35841,u2=35842,c2=35843,T_=36196,f2=37492,d2=37496,h2=37808,p2=37809,m2=37810,g2=37811,v2=37812,y2=37813,x2=37814,_2=37815,S2=37816,M2=37817,w2=37818,E2=37819,T2=37820,A2=37821,o0=36492,C2=36494,b2=36495,XC=36283,P2=36284,R2=36285,L2=36286,jC=2200,YC=2201,qC=2202,Hf=2300,Gf=2301,a0=2302,Ra=2400,La=2401,Wf=2402,Lm=2500,A_=2501,NO=0,UO=1,OO=2,C_=3e3,zo=3001,ZC=3200,KC=3201,qo=0,JC=1,qi="",In="srgb",cs="srgb-linear",Im="display-p3",vd="display-p3-linear",Xf="linear",Yt="srgb",jf="rec709",Yf="p3",FO=0,wa=7680,zO=7681,kO=7682,BO=7683,VO=34055,HO=34056,GO=5386,WO=512,XO=513,jO=514,YO=515,qO=516,ZO=517,KO=518,I2=519,QC=512,$C=513,e8=514,b_=515,t8=516,n8=517,i8=518,r8=519,qf=35044,JO=35048,QO=35040,$O=35045,eF=35049,tF=35041,nF=35046,iF=35050,rF=35042,sF="100",D2="300 es",K0=1035,Nr=2e3,Du=2001;class Ys{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const si=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let dw=1234567;const za=Math.PI/180,Nu=180/Math.PI;function Ji(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(si[n&255]+si[n>>8&255]+si[n>>16&255]+si[n>>24&255]+"-"+si[e&255]+si[e>>8&255]+"-"+si[e>>16&15|64]+si[e>>24&255]+"-"+si[t&63|128]+si[t>>8&255]+"-"+si[t>>16&255]+si[t>>24&255]+si[i&255]+si[i>>8&255]+si[i>>16&255]+si[i>>24&255]).toLowerCase()}function pn(n,e,t){return Math.max(e,Math.min(t,n))}function P_(n,e){return(n%e+e)%e}function oF(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function aF(n,e,t){return n!==e?(t-n)/(e-n):0}function af(n,e,t){return(1-t)*n+t*e}function lF(n,e,t,i){return af(n,e,1-Math.exp(-t*i))}function uF(n,e=1){return e-Math.abs(P_(n,e*2)-e)}function cF(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function fF(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function dF(n,e){return n+Math.floor(Math.random()*(e-n+1))}function hF(n,e){return n+Math.random()*(e-n)}function pF(n){return n*(.5-Math.random())}function mF(n){n!==void 0&&(dw=n);let e=dw+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gF(n){return n*za}function vF(n){return n*Nu}function N2(n){return(n&n-1)===0&&n!==0}function yF(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function J0(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function xF(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),f=s((e+i)/2),d=o((e+i)/2),h=s((e-i)/2),p=o((e-i)/2),m=s((i-e)/2),y=o((i-e)/2);switch(r){case"XYX":n.set(a*d,l*h,l*p,a*f);break;case"YZY":n.set(l*p,a*d,l*h,a*f);break;case"ZXZ":n.set(l*h,l*p,a*d,a*f);break;case"XZX":n.set(a*d,l*y,l*m,a*f);break;case"YXY":n.set(l*m,a*d,l*y,a*f);break;case"ZYZ":n.set(l*y,l*m,a*d,a*f);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Ni(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function wt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const s8={DEG2RAD:za,RAD2DEG:Nu,generateUUID:Ji,clamp:pn,euclideanModulo:P_,mapLinear:oF,inverseLerp:aF,lerp:af,damp:lF,pingpong:uF,smoothstep:cF,smootherstep:fF,randInt:dF,randFloat:hF,randFloatSpread:pF,seededRandom:mF,degToRad:gF,radToDeg:vF,isPowerOfTwo:N2,ceilPowerOfTwo:yF,floorPowerOfTwo:J0,setQuaternionFromProperEuler:xF,normalize:wt,denormalize:Ni};class pe{constructor(e=0,t=0){pe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class At{constructor(e,t,i,r,s,o,a,l,f){At.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,f)}set(e,t,i,r,s,o,a,l,f){const d=this.elements;return d[0]=e,d[1]=r,d[2]=a,d[3]=t,d[4]=s,d[5]=l,d[6]=i,d[7]=o,d[8]=f,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],f=i[1],d=i[4],h=i[7],p=i[2],m=i[5],y=i[8],_=r[0],x=r[3],g=r[6],S=r[1],w=r[4],T=r[7],b=r[2],C=r[5],L=r[8];return s[0]=o*_+a*S+l*b,s[3]=o*x+a*w+l*C,s[6]=o*g+a*T+l*L,s[1]=f*_+d*S+h*b,s[4]=f*x+d*w+h*C,s[7]=f*g+d*T+h*L,s[2]=p*_+m*S+y*b,s[5]=p*x+m*w+y*C,s[8]=p*g+m*T+y*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8];return t*o*d-t*a*f-i*s*d+i*a*l+r*s*f-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8],h=d*o-a*f,p=a*l-d*s,m=f*s-o*l,y=t*h+i*p+r*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const _=1/y;return e[0]=h*_,e[1]=(r*f-d*i)*_,e[2]=(a*i-r*o)*_,e[3]=p*_,e[4]=(d*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=m*_,e[7]=(i*l-f*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),f=Math.sin(s);return this.set(i*l,i*f,-i*(l*o+f*a)+o+e,-r*f,r*l,-r*(-f*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Yg.makeScale(e,t)),this}rotate(e){return this.premultiply(Yg.makeRotation(-e)),this}translate(e,t){return this.premultiply(Yg.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Yg=new At;function o8(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const _F={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function uu(n,e){return new _F[n](e)}function Zf(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function a8(){const n=Zf("canvas");return n.style.display="block",n}const hw={};function lf(n){n in hw||(hw[n]=!0,console.warn(n))}const pw=new At().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),mw=new At().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),jh={[cs]:{transfer:Xf,primaries:jf,toReference:n=>n,fromReference:n=>n},[In]:{transfer:Yt,primaries:jf,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[vd]:{transfer:Xf,primaries:Yf,toReference:n=>n.applyMatrix3(mw),fromReference:n=>n.applyMatrix3(pw)},[Im]:{transfer:Yt,primaries:Yf,toReference:n=>n.convertSRGBToLinear().applyMatrix3(mw),fromReference:n=>n.applyMatrix3(pw).convertLinearToSRGB()}},SF=new Set([cs,vd]),Vt={enabled:!0,_workingColorSpace:cs,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!SF.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const i=jh[e].toReference,r=jh[t].fromReference;return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return jh[n].primaries},getTransfer:function(n){return n===qi?Xf:jh[n].transfer}};function Mu(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function qg(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let wl;class R_{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{wl===void 0&&(wl=Zf("canvas")),wl.width=e.width,wl.height=e.height;const i=wl.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=wl}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=Zf("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Mu(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Mu(t[i]/255)*255):t[i]=Mu(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let MF=0;class Ia{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:MF++}),this.uuid=Ji(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(Zg(r[o].image)):s.push(Zg(r[o]))}else s=Zg(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function Zg(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?R_.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let wF=0;class En extends Ys{constructor(e=En.DEFAULT_IMAGE,t=En.DEFAULT_MAPPING,i=ci,r=ci,s=Mn,o=Go,a=Si,l=ls,f=En.DEFAULT_ANISOTROPY,d=qi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:wF++}),this.uuid=Ji(),this.name="",this.source=new Ia(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=f,this.format=a,this.internalFormat=null,this.type=l,this.offset=new pe(0,0),this.repeat=new pe(1,1),this.center=new pe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new At,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof d=="string"?this.colorSpace=d:(lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===zo?In:qi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Pm)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Bf:e.x=e.x-Math.floor(e.x);break;case ci:e.x=e.x<0?0:1;break;case Vf:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Bf:e.y=e.y-Math.floor(e.y);break;case ci:e.y=e.y<0?0:1;break;case Vf:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===In?zo:C_}set encoding(e){lf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===zo?In:qi}}En.DEFAULT_IMAGE=null;En.DEFAULT_MAPPING=Pm;En.DEFAULT_ANISOTROPY=1;class Ht{constructor(e=0,t=0,i=0,r=1){Ht.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,f=l[0],d=l[4],h=l[8],p=l[1],m=l[5],y=l[9],_=l[2],x=l[6],g=l[10];if(Math.abs(d-p)<.01&&Math.abs(h-_)<.01&&Math.abs(y-x)<.01){if(Math.abs(d+p)<.1&&Math.abs(h+_)<.1&&Math.abs(y+x)<.1&&Math.abs(f+m+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const w=(f+1)/2,T=(m+1)/2,b=(g+1)/2,C=(d+p)/4,L=(h+_)/4,D=(y+x)/4;return w>T&&w>b?w<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(w),r=C/i,s=L/i):T>b?T<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(T),i=C/r,s=D/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=L/s,r=D/s),this.set(i,r,s,t),this}let S=Math.sqrt((x-y)*(x-y)+(h-_)*(h-_)+(p-d)*(p-d));return Math.abs(S)<.001&&(S=1),this.x=(x-y)/S,this.y=(h-_)/S,this.z=(p-d)/S,this.w=Math.acos((f+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class l8 extends Ys{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ht(0,0,e,t),this.scissorTest=!1,this.viewport=new Ht(0,0,e,t);const r={width:e,height:t,depth:1};i.encoding!==void 0&&(lf("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===zo?In:qi),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new En(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new Ia(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Vr extends l8{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class Dm extends En{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_n,this.minFilter=_n,this.wrapR=ci,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class EF extends Vr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new Dm(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class L_ extends En{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=_n,this.minFilter=_n,this.wrapR=ci,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TF extends Vr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new L_(null,e,t,i),this.texture.isRenderTargetTexture=!0}}class AF extends Vr{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<i;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.texture.length;r<s;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class fi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],f=i[r+1],d=i[r+2],h=i[r+3];const p=s[o+0],m=s[o+1],y=s[o+2],_=s[o+3];if(a===0){e[t+0]=l,e[t+1]=f,e[t+2]=d,e[t+3]=h;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=y,e[t+3]=_;return}if(h!==_||l!==p||f!==m||d!==y){let x=1-a;const g=l*p+f*m+d*y+h*_,S=g>=0?1:-1,w=1-g*g;if(w>Number.EPSILON){const b=Math.sqrt(w),C=Math.atan2(b,g*S);x=Math.sin(x*C)/b,a=Math.sin(a*C)/b}const T=a*S;if(l=l*x+p*T,f=f*x+m*T,d=d*x+y*T,h=h*x+_*T,x===1-a){const b=1/Math.sqrt(l*l+f*f+d*d+h*h);l*=b,f*=b,d*=b,h*=b}}e[t]=l,e[t+1]=f,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],f=i[r+2],d=i[r+3],h=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[t]=a*y+d*h+l*m-f*p,e[t+1]=l*y+d*p+f*h-a*m,e[t+2]=f*y+d*m+a*p-l*h,e[t+3]=d*y-a*h-l*p-f*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,f=a(i/2),d=a(r/2),h=a(s/2),p=l(i/2),m=l(r/2),y=l(s/2);switch(o){case"XYZ":this._x=p*d*h+f*m*y,this._y=f*m*h-p*d*y,this._z=f*d*y+p*m*h,this._w=f*d*h-p*m*y;break;case"YXZ":this._x=p*d*h+f*m*y,this._y=f*m*h-p*d*y,this._z=f*d*y-p*m*h,this._w=f*d*h+p*m*y;break;case"ZXY":this._x=p*d*h-f*m*y,this._y=f*m*h+p*d*y,this._z=f*d*y+p*m*h,this._w=f*d*h-p*m*y;break;case"ZYX":this._x=p*d*h-f*m*y,this._y=f*m*h+p*d*y,this._z=f*d*y-p*m*h,this._w=f*d*h+p*m*y;break;case"YZX":this._x=p*d*h+f*m*y,this._y=f*m*h+p*d*y,this._z=f*d*y-p*m*h,this._w=f*d*h-p*m*y;break;case"XZY":this._x=p*d*h-f*m*y,this._y=f*m*h-p*d*y,this._z=f*d*y+p*m*h,this._w=f*d*h+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],f=t[2],d=t[6],h=t[10],p=i+a+h;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(d-l)*m,this._y=(s-f)*m,this._z=(o-r)*m}else if(i>a&&i>h){const m=2*Math.sqrt(1+i-a-h);this._w=(d-l)/m,this._x=.25*m,this._y=(r+o)/m,this._z=(s+f)/m}else if(a>h){const m=2*Math.sqrt(1+a-i-h);this._w=(s-f)/m,this._x=(r+o)/m,this._y=.25*m,this._z=(l+d)/m}else{const m=2*Math.sqrt(1+h-i-a);this._w=(o-r)/m,this._x=(s+f)/m,this._y=(l+d)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(pn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,f=t._z,d=t._w;return this._x=i*d+o*a+r*f-s*l,this._y=r*d+o*l+s*a-i*f,this._z=s*d+o*f+i*l-r*a,this._w=o*d-i*a-r*l-s*f,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*i+t*this._x,this._y=m*r+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const f=Math.sqrt(l),d=Math.atan2(f,a),h=Math.sin((1-t)*d)/f,p=Math.sin(t*d)/f;return this._w=o*h+this._w*p,this._x=i*h+this._x*p,this._y=r*h+this._y*p,this._z=s*h+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class F{constructor(e=0,t=0,i=0){F.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(gw.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(gw.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,f=2*(o*r-a*i),d=2*(a*t-s*r),h=2*(s*i-o*t);return this.x=t+l*f+o*h-a*d,this.y=i+l*d+a*f-s*h,this.z=r+l*h+s*d-o*f,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return Kg.copy(this).projectOnVector(e),this.sub(Kg)}reflect(e){return this.sub(Kg.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(pn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Kg=new F,gw=new fi;class Ei{constructor(e=new F(1/0,1/0,1/0),t=new F(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(Er.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(Er.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=Er.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Er):Er.fromBufferAttribute(s,o),Er.applyMatrix4(e.matrixWorld),this.expandByPoint(Er);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Yh.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),Yh.copy(i.boundingBox)),Yh.applyMatrix4(e.matrixWorld),this.union(Yh)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Er),Er.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ec),qh.subVectors(this.max,Ec),El.subVectors(e.a,Ec),Tl.subVectors(e.b,Ec),Al.subVectors(e.c,Ec),ro.subVectors(Tl,El),so.subVectors(Al,Tl),ua.subVectors(El,Al);let t=[0,-ro.z,ro.y,0,-so.z,so.y,0,-ua.z,ua.y,ro.z,0,-ro.x,so.z,0,-so.x,ua.z,0,-ua.x,-ro.y,ro.x,0,-so.y,so.x,0,-ua.y,ua.x,0];return!Jg(t,El,Tl,Al,qh)||(t=[1,0,0,0,1,0,0,0,1],!Jg(t,El,Tl,Al,qh))?!1:(Zh.crossVectors(ro,so),t=[Zh.x,Zh.y,Zh.z],Jg(t,El,Tl,Al,qh))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Er).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Er).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_s[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_s[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_s[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_s[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_s[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_s[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_s[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_s[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_s),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _s=[new F,new F,new F,new F,new F,new F,new F,new F],Er=new F,Yh=new Ei,El=new F,Tl=new F,Al=new F,ro=new F,so=new F,ua=new F,Ec=new F,qh=new F,Zh=new F,ca=new F;function Jg(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){ca.fromArray(n,s);const a=r.x*Math.abs(ca.x)+r.y*Math.abs(ca.y)+r.z*Math.abs(ca.z),l=e.dot(ca),f=t.dot(ca),d=i.dot(ca);if(Math.max(-Math.max(l,f,d),Math.min(l,f,d))>a)return!1}return!0}const CF=new Ei,Tc=new F,Qg=new F;class di{constructor(e=new F,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):CF.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Tc.subVectors(e,this.center);const t=Tc.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Tc,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Qg.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Tc.copy(e.center).add(Qg)),this.expandByPoint(Tc.copy(e.center).sub(Qg))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ss=new F,$g=new F,Kh=new F,oo=new F,ev=new F,Jh=new F,tv=new F;class tl{constructor(e=new F,t=new F(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ss)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ss.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ss.copy(this.origin).addScaledVector(this.direction,t),Ss.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){$g.copy(e).add(t).multiplyScalar(.5),Kh.copy(t).sub(e).normalize(),oo.copy(this.origin).sub($g);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Kh),a=oo.dot(this.direction),l=-oo.dot(Kh),f=oo.lengthSq(),d=Math.abs(1-o*o);let h,p,m,y;if(d>0)if(h=o*l-a,p=o*a-l,y=s*d,h>=0)if(p>=-y)if(p<=y){const _=1/d;h*=_,p*=_,m=h*(h+o*p+2*a)+p*(o*h+p+2*l)+f}else p=s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+f;else p=-s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+f;else p<=-y?(h=Math.max(0,-(-o*s+a)),p=h>0?-s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+f):p<=y?(h=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+f):(h=Math.max(0,-(o*s+a)),p=h>0?s:Math.min(Math.max(-s,-l),s),m=-h*h+p*(p+2*l)+f);else p=o>0?-s:s,h=Math.max(0,-(o*p+a)),m=-h*h+p*(p+2*l)+f;return i&&i.copy(this.origin).addScaledVector(this.direction,h),r&&r.copy($g).addScaledVector(Kh,p),m}intersectSphere(e,t){Ss.subVectors(e.center,this.origin);const i=Ss.dot(this.direction),r=Ss.dot(Ss)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const f=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,p=this.origin;return f>=0?(i=(e.min.x-p.x)*f,r=(e.max.x-p.x)*f):(i=(e.max.x-p.x)*f,r=(e.min.x-p.x)*f),d>=0?(s=(e.min.y-p.y)*d,o=(e.max.y-p.y)*d):(s=(e.max.y-p.y)*d,o=(e.min.y-p.y)*d),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),h>=0?(a=(e.min.z-p.z)*h,l=(e.max.z-p.z)*h):(a=(e.max.z-p.z)*h,l=(e.min.z-p.z)*h),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,Ss)!==null}intersectTriangle(e,t,i,r,s){ev.subVectors(t,e),Jh.subVectors(i,e),tv.crossVectors(ev,Jh);let o=this.direction.dot(tv),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;oo.subVectors(this.origin,e);const l=a*this.direction.dot(Jh.crossVectors(oo,Jh));if(l<0)return null;const f=a*this.direction.dot(ev.cross(oo));if(f<0||l+f>o)return null;const d=-a*oo.dot(tv);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class pt{constructor(e,t,i,r,s,o,a,l,f,d,h,p,m,y,_,x){pt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,f,d,h,p,m,y,_,x)}set(e,t,i,r,s,o,a,l,f,d,h,p,m,y,_,x){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=f,g[6]=d,g[10]=h,g[14]=p,g[3]=m,g[7]=y,g[11]=_,g[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new pt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Cl.setFromMatrixColumn(e,0).length(),s=1/Cl.setFromMatrixColumn(e,1).length(),o=1/Cl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),f=Math.sin(r),d=Math.cos(s),h=Math.sin(s);if(e.order==="XYZ"){const p=o*d,m=o*h,y=a*d,_=a*h;t[0]=l*d,t[4]=-l*h,t[8]=f,t[1]=m+y*f,t[5]=p-_*f,t[9]=-a*l,t[2]=_-p*f,t[6]=y+m*f,t[10]=o*l}else if(e.order==="YXZ"){const p=l*d,m=l*h,y=f*d,_=f*h;t[0]=p+_*a,t[4]=y*a-m,t[8]=o*f,t[1]=o*h,t[5]=o*d,t[9]=-a,t[2]=m*a-y,t[6]=_+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*d,m=l*h,y=f*d,_=f*h;t[0]=p-_*a,t[4]=-o*h,t[8]=y+m*a,t[1]=m+y*a,t[5]=o*d,t[9]=_-p*a,t[2]=-o*f,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*d,m=o*h,y=a*d,_=a*h;t[0]=l*d,t[4]=y*f-m,t[8]=p*f+_,t[1]=l*h,t[5]=_*f+p,t[9]=m*f-y,t[2]=-f,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*f,y=a*l,_=a*f;t[0]=l*d,t[4]=_-p*h,t[8]=y*h+m,t[1]=h,t[5]=o*d,t[9]=-a*d,t[2]=-f*d,t[6]=m*h+y,t[10]=p-_*h}else if(e.order==="XZY"){const p=o*l,m=o*f,y=a*l,_=a*f;t[0]=l*d,t[4]=-h,t[8]=f*d,t[1]=p*h+_,t[5]=o*d,t[9]=m*h-y,t[2]=y*h-m,t[6]=a*d,t[10]=_*h+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(bF,e,PF)}lookAt(e,t,i){const r=this.elements;return Xi.subVectors(e,t),Xi.lengthSq()===0&&(Xi.z=1),Xi.normalize(),ao.crossVectors(i,Xi),ao.lengthSq()===0&&(Math.abs(i.z)===1?Xi.x+=1e-4:Xi.z+=1e-4,Xi.normalize(),ao.crossVectors(i,Xi)),ao.normalize(),Qh.crossVectors(Xi,ao),r[0]=ao.x,r[4]=Qh.x,r[8]=Xi.x,r[1]=ao.y,r[5]=Qh.y,r[9]=Xi.y,r[2]=ao.z,r[6]=Qh.z,r[10]=Xi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],f=i[12],d=i[1],h=i[5],p=i[9],m=i[13],y=i[2],_=i[6],x=i[10],g=i[14],S=i[3],w=i[7],T=i[11],b=i[15],C=r[0],L=r[4],D=r[8],P=r[12],R=r[1],V=r[5],K=r[9],oe=r[13],H=r[2],$=r[6],te=r[10],ce=r[14],N=r[3],k=r[7],B=r[11],Z=r[15];return s[0]=o*C+a*R+l*H+f*N,s[4]=o*L+a*V+l*$+f*k,s[8]=o*D+a*K+l*te+f*B,s[12]=o*P+a*oe+l*ce+f*Z,s[1]=d*C+h*R+p*H+m*N,s[5]=d*L+h*V+p*$+m*k,s[9]=d*D+h*K+p*te+m*B,s[13]=d*P+h*oe+p*ce+m*Z,s[2]=y*C+_*R+x*H+g*N,s[6]=y*L+_*V+x*$+g*k,s[10]=y*D+_*K+x*te+g*B,s[14]=y*P+_*oe+x*ce+g*Z,s[3]=S*C+w*R+T*H+b*N,s[7]=S*L+w*V+T*$+b*k,s[11]=S*D+w*K+T*te+b*B,s[15]=S*P+w*oe+T*ce+b*Z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],f=e[13],d=e[2],h=e[6],p=e[10],m=e[14],y=e[3],_=e[7],x=e[11],g=e[15];return y*(+s*l*h-r*f*h-s*a*p+i*f*p+r*a*m-i*l*m)+_*(+t*l*m-t*f*p+s*o*p-r*o*m+r*f*d-s*l*d)+x*(+t*f*h-t*a*m-s*o*h+i*o*m+s*a*d-i*f*d)+g*(-r*a*d-t*l*h+t*a*p+r*o*h-i*o*p+i*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],f=e[7],d=e[8],h=e[9],p=e[10],m=e[11],y=e[12],_=e[13],x=e[14],g=e[15],S=h*x*f-_*p*f+_*l*m-a*x*m-h*l*g+a*p*g,w=y*p*f-d*x*f-y*l*m+o*x*m+d*l*g-o*p*g,T=d*_*f-y*h*f+y*a*m-o*_*m-d*a*g+o*h*g,b=y*h*l-d*_*l-y*a*p+o*_*p+d*a*x-o*h*x,C=t*S+i*w+r*T+s*b;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const L=1/C;return e[0]=S*L,e[1]=(_*p*s-h*x*s-_*r*m+i*x*m+h*r*g-i*p*g)*L,e[2]=(a*x*s-_*l*s+_*r*f-i*x*f-a*r*g+i*l*g)*L,e[3]=(h*l*s-a*p*s-h*r*f+i*p*f+a*r*m-i*l*m)*L,e[4]=w*L,e[5]=(d*x*s-y*p*s+y*r*m-t*x*m-d*r*g+t*p*g)*L,e[6]=(y*l*s-o*x*s-y*r*f+t*x*f+o*r*g-t*l*g)*L,e[7]=(o*p*s-d*l*s+d*r*f-t*p*f-o*r*m+t*l*m)*L,e[8]=T*L,e[9]=(y*h*s-d*_*s-y*i*m+t*_*m+d*i*g-t*h*g)*L,e[10]=(o*_*s-y*a*s+y*i*f-t*_*f-o*i*g+t*a*g)*L,e[11]=(d*a*s-o*h*s-d*i*f+t*h*f+o*i*m-t*a*m)*L,e[12]=b*L,e[13]=(d*_*r-y*h*r+y*i*p-t*_*p-d*i*x+t*h*x)*L,e[14]=(y*a*r-o*_*r-y*i*l+t*_*l+o*i*x-t*a*x)*L,e[15]=(o*h*r-d*a*r+d*i*l-t*h*l-o*i*p+t*a*p)*L,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,f=s*o,d=s*a;return this.set(f*o+i,f*a-r*l,f*l+r*a,0,f*a+r*l,d*a+i,d*l-r*o,0,f*l-r*a,d*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,f=s+s,d=o+o,h=a+a,p=s*f,m=s*d,y=s*h,_=o*d,x=o*h,g=a*h,S=l*f,w=l*d,T=l*h,b=i.x,C=i.y,L=i.z;return r[0]=(1-(_+g))*b,r[1]=(m+T)*b,r[2]=(y-w)*b,r[3]=0,r[4]=(m-T)*C,r[5]=(1-(p+g))*C,r[6]=(x+S)*C,r[7]=0,r[8]=(y+w)*L,r[9]=(x-S)*L,r[10]=(1-(p+_))*L,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Cl.set(r[0],r[1],r[2]).length();const o=Cl.set(r[4],r[5],r[6]).length(),a=Cl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Tr.copy(this);const f=1/s,d=1/o,h=1/a;return Tr.elements[0]*=f,Tr.elements[1]*=f,Tr.elements[2]*=f,Tr.elements[4]*=d,Tr.elements[5]*=d,Tr.elements[6]*=d,Tr.elements[8]*=h,Tr.elements[9]*=h,Tr.elements[10]*=h,t.setFromRotationMatrix(Tr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Nr){const l=this.elements,f=2*s/(t-e),d=2*s/(i-r),h=(t+e)/(t-e),p=(i+r)/(i-r);let m,y;if(a===Nr)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===Du)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=f,l[4]=0,l[8]=h,l[12]=0,l[1]=0,l[5]=d,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Nr){const l=this.elements,f=1/(t-e),d=1/(i-r),h=1/(o-s),p=(t+e)*f,m=(i+r)*d;let y,_;if(a===Nr)y=(o+s)*h,_=-2*h;else if(a===Du)y=s*h,_=-1*h;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*f,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*d,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=_,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Cl=new F,Tr=new pt,bF=new F(0,0,0),PF=new F(1,1,1),ao=new F,Qh=new F,Xi=new F,vw=new pt,yw=new fi;class yd{constructor(e=0,t=0,i=0,r=yd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],f=r[5],d=r[9],h=r[2],p=r[6],m=r[10];switch(t){case"XYZ":this._y=Math.asin(pn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,f),this._z=0);break;case"YXZ":this._x=Math.asin(-pn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,f)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(pn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,m),this._z=Math.atan2(-o,f)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-pn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,f));break;case"YZX":this._z=Math.asin(pn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,f),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-pn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,f),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return vw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(vw,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return yw.setFromEuler(this),this.setFromQuaternion(yw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}yd.DEFAULT_ORDER="XYZ";class ka{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let RF=0;const xw=new F,bl=new fi,Ms=new pt,$h=new F,Ac=new F,LF=new F,IF=new fi,_w=new F(1,0,0),Sw=new F(0,1,0),Mw=new F(0,0,1),DF={type:"added"},NF={type:"removed"};class Ft extends Ys{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:RF++}),this.uuid=Ji(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ft.DEFAULT_UP.clone();const e=new F,t=new yd,i=new fi,r=new F(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new pt},normalMatrix:{value:new At}}),this.matrix=new pt,this.matrixWorld=new pt,this.matrixAutoUpdate=Ft.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ka,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return bl.setFromAxisAngle(e,t),this.quaternion.multiply(bl),this}rotateOnWorldAxis(e,t){return bl.setFromAxisAngle(e,t),this.quaternion.premultiply(bl),this}rotateX(e){return this.rotateOnAxis(_w,e)}rotateY(e){return this.rotateOnAxis(Sw,e)}rotateZ(e){return this.rotateOnAxis(Mw,e)}translateOnAxis(e,t){return xw.copy(e).applyQuaternion(this.quaternion),this.position.add(xw.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(_w,e)}translateY(e){return this.translateOnAxis(Sw,e)}translateZ(e){return this.translateOnAxis(Mw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ms.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?$h.copy(e):$h.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Ac.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ms.lookAt(Ac,$h,this.up):Ms.lookAt($h,Ac,this.up),this.quaternion.setFromRotationMatrix(Ms),r&&(Ms.extractRotation(r.matrixWorld),bl.setFromRotationMatrix(Ms),this.quaternion.premultiply(bl.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(DF)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(NF)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Ms.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ms.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ms),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ac,e,LF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ac,IF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++){const s=t[i];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++){const a=r[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let f=0,d=l.length;f<d;f++){const h=l[f];s(e.shapes,h)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,f=this.material.length;l<f;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),f=o(e.textures),d=o(e.images),h=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),f.length>0&&(i.textures=f),d.length>0&&(i.images=d),h.length>0&&(i.shapes=h),p.length>0&&(i.skeletons=p),m.length>0&&(i.animations=m),y.length>0&&(i.nodes=y)}return i.object=r,i;function o(a){const l=[];for(const f in a){const d=a[f];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Ft.DEFAULT_UP=new F(0,1,0);Ft.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ft.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ar=new F,ws=new F,nv=new F,Es=new F,Pl=new F,Rl=new F,ww=new F,iv=new F,rv=new F,sv=new F;let ep=!1;class Di{constructor(e=new F,t=new F,i=new F){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Ar.subVectors(e,t),r.cross(Ar);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Ar.subVectors(r,t),ws.subVectors(i,t),nv.subVectors(e,t);const o=Ar.dot(Ar),a=Ar.dot(ws),l=Ar.dot(nv),f=ws.dot(ws),d=ws.dot(nv),h=o*f-a*a;if(h===0)return s.set(0,0,0),null;const p=1/h,m=(f*l-a*d)*p,y=(o*d-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Es)===null?!1:Es.x>=0&&Es.y>=0&&Es.x+Es.y<=1}static getUV(e,t,i,r,s,o,a,l){return ep===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ep=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Es)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Es.x),l.addScaledVector(o,Es.y),l.addScaledVector(a,Es.z),l)}static isFrontFacing(e,t,i,r){return Ar.subVectors(i,t),ws.subVectors(e,t),Ar.cross(ws).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ar.subVectors(this.c,this.b),ws.subVectors(this.a,this.b),Ar.cross(ws).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Di.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Di.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return ep===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),ep=!0),Di.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Di.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Di.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Di.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Pl.subVectors(r,i),Rl.subVectors(s,i),iv.subVectors(e,i);const l=Pl.dot(iv),f=Rl.dot(iv);if(l<=0&&f<=0)return t.copy(i);rv.subVectors(e,r);const d=Pl.dot(rv),h=Rl.dot(rv);if(d>=0&&h<=d)return t.copy(r);const p=l*h-d*f;if(p<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(i).addScaledVector(Pl,o);sv.subVectors(e,s);const m=Pl.dot(sv),y=Rl.dot(sv);if(y>=0&&m<=y)return t.copy(s);const _=m*f-l*y;if(_<=0&&f>=0&&y<=0)return a=f/(f-y),t.copy(i).addScaledVector(Rl,a);const x=d*y-m*h;if(x<=0&&h-d>=0&&m-y>=0)return ww.subVectors(s,r),a=(h-d)/(h-d+(m-y)),t.copy(r).addScaledVector(ww,a);const g=1/(x+_+p);return o=_*g,a=p*g,t.copy(i).addScaledVector(Pl,o).addScaledVector(Rl,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const u8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},lo={h:0,s:0,l:0},tp={h:0,s:0,l:0};function ov(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ze{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=In){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Vt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Vt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Vt.workingColorSpace){if(e=P_(e,1),t=pn(t,0,1),i=pn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=ov(o,s,e+1/3),this.g=ov(o,s,e),this.b=ov(o,s,e-1/3)}return Vt.toWorkingColorSpace(this,r),this}setStyle(e,t=In){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=In){const i=u8[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mu(e.r),this.g=Mu(e.g),this.b=Mu(e.b),this}copyLinearToSRGB(e){return this.r=qg(e.r),this.g=qg(e.g),this.b=qg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=In){return Vt.fromWorkingColorSpace(oi.copy(this),e),Math.round(pn(oi.r*255,0,255))*65536+Math.round(pn(oi.g*255,0,255))*256+Math.round(pn(oi.b*255,0,255))}getHexString(e=In){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vt.workingColorSpace){Vt.fromWorkingColorSpace(oi.copy(this),t);const i=oi.r,r=oi.g,s=oi.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,f;const d=(a+o)/2;if(a===o)l=0,f=0;else{const h=o-a;switch(f=d<=.5?h/(o+a):h/(2-o-a),o){case i:l=(r-s)/h+(r<s?6:0);break;case r:l=(s-i)/h+2;break;case s:l=(i-r)/h+4;break}l/=6}return e.h=l,e.s=f,e.l=d,e}getRGB(e,t=Vt.workingColorSpace){return Vt.fromWorkingColorSpace(oi.copy(this),t),e.r=oi.r,e.g=oi.g,e.b=oi.b,e}getStyle(e=In){Vt.fromWorkingColorSpace(oi.copy(this),e);const t=oi.r,i=oi.g,r=oi.b;return e!==In?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(lo),this.setHSL(lo.h+e,lo.s+t,lo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(lo),e.getHSL(tp);const i=af(lo.h,tp.h,t),r=af(lo.s,tp.s,t),s=af(lo.l,tp.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const oi=new ze;ze.NAMES=u8;let UF=0;class pi extends Ys{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:UF++}),this.uuid=Ji(),this.name="",this.type="Material",this.blending=Fa,this.side=Gs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Y0,this.blendDst=q0,this.blendEquation=_o,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ze(0,0,0),this.blendAlpha=0,this.depthFunc=Ff,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=I2,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wa,this.stencilZFail=wa,this.stencilZPass=wa,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Fa&&(i.blending=this.blending),this.side!==Gs&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Y0&&(i.blendSrc=this.blendSrc),this.blendDst!==q0&&(i.blendDst=this.blendDst),this.blendEquation!==_o&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Ff&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==I2&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==wa&&(i.stencilFail=this.stencilFail),this.stencilZFail!==wa&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==wa&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Zo extends pi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ps=OF();function OF(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const f=l-127;f<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):f<-14?(i[l]=1024>>-f-14,i[l|256]=1024>>-f-14|32768,r[l]=-f-1,r[l|256]=-f-1):f<=15?(i[l]=f+15<<10,i[l|256]=f+15<<10|32768,r[l]=13,r[l|256]=13):f<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let f=l<<13,d=0;for(;(f&8388608)===0;)f<<=1,d-=8388608;f&=-8388609,d+=947912704,s[l]=f|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function Li(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=pn(n,-65504,65504),Ps.floatView[0]=n;const e=Ps.uint32View[0],t=e>>23&511;return Ps.baseTable[t]+((e&8388607)>>Ps.shiftTable[t])}function Vc(n){const e=n>>10;return Ps.uint32View[0]=Ps.mantissaTable[Ps.offsetTable[e]+(n&1023)]+Ps.exponentTable[e],Ps.floatView[0]}const FF={toHalfFloat:Li,fromHalfFloat:Vc},Cn=new F,np=new pe;class Wt{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=qf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Dr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)np.fromBufferAttribute(this,t),np.applyMatrix3(e),this.setXY(t,np.x,np.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix3(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyMatrix4(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.applyNormalMatrix(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Cn.fromBufferAttribute(this,t),Cn.transformDirection(e),this.setXYZ(t,Cn.x,Cn.y,Cn.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Ni(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=wt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array),r=wt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array),r=wt(r,this.array),s=wt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==qf&&(e.usage=this.usage),e}}class zF extends Wt{constructor(e,t,i){super(new Int8Array(e),t,i)}}class kF extends Wt{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class BF extends Wt{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class VF extends Wt{constructor(e,t,i){super(new Int16Array(e),t,i)}}class I_ extends Wt{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class HF extends Wt{constructor(e,t,i){super(new Int32Array(e),t,i)}}class D_ extends Wt{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class GF extends Wt{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=Vc(this.array[e*this.itemSize]);return this.normalized&&(t=Ni(t,this.array)),t}setX(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize]=Li(t),this}getY(e){let t=Vc(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ni(t,this.array)),t}setY(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize+1]=Li(t),this}getZ(e){let t=Vc(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ni(t,this.array)),t}setZ(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize+2]=Li(t),this}getW(e){let t=Vc(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ni(t,this.array)),t}setW(e,t){return this.normalized&&(t=wt(t,this.array)),this.array[e*this.itemSize+3]=Li(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array)),this.array[e+0]=Li(t),this.array[e+1]=Li(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array),r=wt(r,this.array)),this.array[e+0]=Li(t),this.array[e+1]=Li(i),this.array[e+2]=Li(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array),r=wt(r,this.array),s=wt(s,this.array)),this.array[e+0]=Li(t),this.array[e+1]=Li(i),this.array[e+2]=Li(r),this.array[e+3]=Li(s),this}}class Ze extends Wt{constructor(e,t,i){super(new Float32Array(e),t,i)}}class WF extends Wt{constructor(e,t,i){super(new Float64Array(e),t,i)}}let XF=0;const dr=new pt,av=new Ft,Ll=new F,ji=new Ei,Cc=new Ei,Hn=new F;class Et extends Ys{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:XF++}),this.uuid=Ji(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(o8(e)?D_:I_)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new At().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return dr.makeRotationFromQuaternion(e),this.applyMatrix4(dr),this}rotateX(e){return dr.makeRotationX(e),this.applyMatrix4(dr),this}rotateY(e){return dr.makeRotationY(e),this.applyMatrix4(dr),this}rotateZ(e){return dr.makeRotationZ(e),this.applyMatrix4(dr),this}translate(e,t,i){return dr.makeTranslation(e,t,i),this.applyMatrix4(dr),this}scale(e,t,i){return dr.makeScale(e,t,i),this.applyMatrix4(dr),this}lookAt(e){return av.lookAt(e),av.updateMatrix(),this.applyMatrix4(av.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ll).negate(),this.translate(Ll.x,Ll.y,Ll.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Ze(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ei);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new F(-1/0,-1/0,-1/0),new F(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];ji.setFromBufferAttribute(s),this.morphTargetsRelative?(Hn.addVectors(this.boundingBox.min,ji.min),this.boundingBox.expandByPoint(Hn),Hn.addVectors(this.boundingBox.max,ji.max),this.boundingBox.expandByPoint(Hn)):(this.boundingBox.expandByPoint(ji.min),this.boundingBox.expandByPoint(ji.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new di);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new F,1/0);return}if(e){const i=this.boundingSphere.center;if(ji.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Cc.setFromBufferAttribute(a),this.morphTargetsRelative?(Hn.addVectors(ji.min,Cc.min),ji.expandByPoint(Hn),Hn.addVectors(ji.max,Cc.max),ji.expandByPoint(Hn)):(ji.expandByPoint(Cc.min),ji.expandByPoint(Cc.max))}ji.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Hn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Hn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let f=0,d=a.count;f<d;f++)Hn.fromBufferAttribute(a,f),l&&(Ll.fromBufferAttribute(e,f),Hn.add(Ll)),r=Math.max(r,i.distanceToSquared(Hn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,f=[],d=[];for(let R=0;R<a;R++)f[R]=new F,d[R]=new F;const h=new F,p=new F,m=new F,y=new pe,_=new pe,x=new pe,g=new F,S=new F;function w(R,V,K){h.fromArray(r,R*3),p.fromArray(r,V*3),m.fromArray(r,K*3),y.fromArray(o,R*2),_.fromArray(o,V*2),x.fromArray(o,K*2),p.sub(h),m.sub(h),_.sub(y),x.sub(y);const oe=1/(_.x*x.y-x.x*_.y);!isFinite(oe)||(g.copy(p).multiplyScalar(x.y).addScaledVector(m,-_.y).multiplyScalar(oe),S.copy(m).multiplyScalar(_.x).addScaledVector(p,-x.x).multiplyScalar(oe),f[R].add(g),f[V].add(g),f[K].add(g),d[R].add(S),d[V].add(S),d[K].add(S))}let T=this.groups;T.length===0&&(T=[{start:0,count:i.length}]);for(let R=0,V=T.length;R<V;++R){const K=T[R],oe=K.start,H=K.count;for(let $=oe,te=oe+H;$<te;$+=3)w(i[$+0],i[$+1],i[$+2])}const b=new F,C=new F,L=new F,D=new F;function P(R){L.fromArray(s,R*3),D.copy(L);const V=f[R];b.copy(V),b.sub(L.multiplyScalar(L.dot(V))).normalize(),C.crossVectors(D,V);const oe=C.dot(d[R])<0?-1:1;l[R*4]=b.x,l[R*4+1]=b.y,l[R*4+2]=b.z,l[R*4+3]=oe}for(let R=0,V=T.length;R<V;++R){const K=T[R],oe=K.start,H=K.count;for(let $=oe,te=oe+H;$<te;$+=3)P(i[$+0]),P(i[$+1]),P(i[$+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Wt(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let p=0,m=i.count;p<m;p++)i.setXYZ(p,0,0,0);const r=new F,s=new F,o=new F,a=new F,l=new F,f=new F,d=new F,h=new F;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),_=e.getX(p+1),x=e.getX(p+2);r.fromBufferAttribute(t,y),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,x),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),a.fromBufferAttribute(i,y),l.fromBufferAttribute(i,_),f.fromBufferAttribute(i,x),a.add(d),l.add(d),f.add(d),i.setXYZ(y,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(x,f.x,f.y,f.z)}else for(let p=0,m=t.count;p<m;p+=3)r.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),d.subVectors(o,s),h.subVectors(r,s),d.cross(h),i.setXYZ(p+0,d.x,d.y,d.z),i.setXYZ(p+1,d.x,d.y,d.z),i.setXYZ(p+2,d.x,d.y,d.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Hn.fromBufferAttribute(e,t),Hn.normalize(),e.setXYZ(t,Hn.x,Hn.y,Hn.z)}toNonIndexed(){function e(a,l){const f=a.array,d=a.itemSize,h=a.normalized,p=new f.constructor(l.length*d);let m=0,y=0;for(let _=0,x=l.length;_<x;_++){a.isInterleavedBufferAttribute?m=l[_]*a.data.stride+a.offset:m=l[_]*d;for(let g=0;g<d;g++)p[y++]=f[m++]}return new Wt(p,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Et,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],f=e(l,i);t.setAttribute(a,f)}const s=this.morphAttributes;for(const a in s){const l=[],f=s[a];for(let d=0,h=f.length;d<h;d++){const p=f[d],m=e(p,i);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const f=o[a];t.addGroup(f.start,f.count,f.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const f in l)l[f]!==void 0&&(e[f]=l[f]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const f=i[l];e.data.attributes[l]=f.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const f=this.morphAttributes[l],d=[];for(let h=0,p=f.length;h<p;h++){const m=f[h];d.push(m.toJSON(e.data))}d.length>0&&(r[l]=d,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const f in r){const d=r[f];this.setAttribute(f,d.clone(t))}const s=e.morphAttributes;for(const f in s){const d=[],h=s[f];for(let p=0,m=h.length;p<m;p++)d.push(h[p].clone(t));this.morphAttributes[f]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let f=0,d=o.length;f<d;f++){const h=o[f];this.addGroup(h.start,h.count,h.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Ew=new pt,fa=new tl,ip=new di,Tw=new F,Il=new F,Dl=new F,Nl=new F,lv=new F,rp=new F,sp=new pe,op=new pe,ap=new pe,Aw=new F,Cw=new F,bw=new F,lp=new F,up=new F;class Nn extends Ft{constructor(e=new Et,t=new Zo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){rp.set(0,0,0);for(let l=0,f=s.length;l<f;l++){const d=a[l],h=s[l];d!==0&&(lv.fromBufferAttribute(h,e),o?rp.addScaledVector(lv,d):rp.addScaledVector(lv.sub(t),d))}t.add(rp)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),ip.copy(i.boundingSphere),ip.applyMatrix4(s),fa.copy(e.ray).recast(e.near),!(ip.containsPoint(fa.origin)===!1&&(fa.intersectSphere(ip,Tw)===null||fa.origin.distanceToSquared(Tw)>(e.far-e.near)**2))&&(Ew.copy(s).invert(),fa.copy(e.ray).applyMatrix4(Ew),!(i.boundingBox!==null&&fa.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,fa)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,f=s.attributes.uv,d=s.attributes.uv1,h=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,_=p.length;y<_;y++){const x=p[y],g=o[x.materialIndex],S=Math.max(x.start,m.start),w=Math.min(a.count,Math.min(x.start+x.count,m.start+m.count));for(let T=S,b=w;T<b;T+=3){const C=a.getX(T),L=a.getX(T+1),D=a.getX(T+2);r=cp(this,g,e,i,f,d,h,C,L,D),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),_=Math.min(a.count,m.start+m.count);for(let x=y,g=_;x<g;x+=3){const S=a.getX(x),w=a.getX(x+1),T=a.getX(x+2);r=cp(this,o,e,i,f,d,h,S,w,T),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,_=p.length;y<_;y++){const x=p[y],g=o[x.materialIndex],S=Math.max(x.start,m.start),w=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let T=S,b=w;T<b;T+=3){const C=T,L=T+1,D=T+2;r=cp(this,g,e,i,f,d,h,C,L,D),r&&(r.faceIndex=Math.floor(T/3),r.face.materialIndex=x.materialIndex,t.push(r))}}else{const y=Math.max(0,m.start),_=Math.min(l.count,m.start+m.count);for(let x=y,g=_;x<g;x+=3){const S=x,w=x+1,T=x+2;r=cp(this,o,e,i,f,d,h,S,w,T),r&&(r.faceIndex=Math.floor(x/3),t.push(r))}}}}function jF(n,e,t,i,r,s,o,a){let l;if(e.side===wi?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Gs,a),l===null)return null;up.copy(a),up.applyMatrix4(n.matrixWorld);const f=t.ray.origin.distanceTo(up);return f<t.near||f>t.far?null:{distance:f,point:up.clone(),object:n}}function cp(n,e,t,i,r,s,o,a,l,f){n.getVertexPosition(a,Il),n.getVertexPosition(l,Dl),n.getVertexPosition(f,Nl);const d=jF(n,e,t,i,Il,Dl,Nl,lp);if(d){r&&(sp.fromBufferAttribute(r,a),op.fromBufferAttribute(r,l),ap.fromBufferAttribute(r,f),d.uv=Di.getInterpolation(lp,Il,Dl,Nl,sp,op,ap,new pe)),s&&(sp.fromBufferAttribute(s,a),op.fromBufferAttribute(s,l),ap.fromBufferAttribute(s,f),d.uv1=Di.getInterpolation(lp,Il,Dl,Nl,sp,op,ap,new pe),d.uv2=d.uv1),o&&(Aw.fromBufferAttribute(o,a),Cw.fromBufferAttribute(o,l),bw.fromBufferAttribute(o,f),d.normal=Di.getInterpolation(lp,Il,Dl,Nl,Aw,Cw,bw,new F),d.normal.dot(i.direction)>0&&d.normal.multiplyScalar(-1));const h={a,b:l,c:f,normal:new F,materialIndex:0};Di.getNormal(Il,Dl,Nl,h.normal),d.face=h}return d}class nl extends Et{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],f=[],d=[],h=[];let p=0,m=0;y("z","y","x",-1,-1,i,t,e,o,s,0),y("z","y","x",1,-1,i,t,-e,o,s,1),y("x","z","y",1,1,e,i,t,r,o,2),y("x","z","y",1,-1,e,i,-t,r,o,3),y("x","y","z",1,-1,e,t,i,r,s,4),y("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Ze(f,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(h,2));function y(_,x,g,S,w,T,b,C,L,D,P){const R=T/L,V=b/D,K=T/2,oe=b/2,H=C/2,$=L+1,te=D+1;let ce=0,N=0;const k=new F;for(let B=0;B<te;B++){const Z=B*V-oe;for(let ee=0;ee<$;ee++){const Y=ee*R-K;k[_]=Y*S,k[x]=Z*w,k[g]=H,f.push(k.x,k.y,k.z),k[_]=0,k[x]=0,k[g]=C>0?1:-1,d.push(k.x,k.y,k.z),h.push(ee/L),h.push(1-B/D),ce+=1}}for(let B=0;B<D;B++)for(let Z=0;Z<L;Z++){const ee=p+Z+$*B,Y=p+Z+$*(B+1),q=p+(Z+1)+$*(B+1),ae=p+(Z+1)+$*B;l.push(ee,Y,ae),l.push(Y,q,ae),N+=6}a.addGroup(m,N,P),m+=N,p+=ce}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Uu(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function yi(n){const e={};for(let t=0;t<n.length;t++){const i=Uu(n[t]);for(const r in i)e[r]=i[r]}return e}function YF(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function c8(n){return n.getRenderTarget()===null?n.outputColorSpace:Vt.workingColorSpace}const f8={clone:Uu,merge:yi};var qF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ZF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class fs extends pi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qF,this.fragmentShader=ZF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Uu(e.uniforms),this.uniformsGroups=YF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class xd extends Ft{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new pt,this.projectionMatrix=new pt,this.projectionMatrixInverse=new pt,this.coordinateSystem=Nr}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class wn extends xd{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Nu*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(za*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Nu*2*Math.atan(Math.tan(za*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(za*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,f=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/f,r*=o.width/l,i*=o.height/f}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Ul=-90,Ol=1;class d8 extends Ft{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new wn(Ul,Ol,e,t);r.layers=this.layers,this.add(r);const s=new wn(Ul,Ol,e,t);s.layers=this.layers,this.add(s);const o=new wn(Ul,Ol,e,t);o.layers=this.layers,this.add(o);const a=new wn(Ul,Ol,e,t);a.layers=this.layers,this.add(a);const l=new wn(Ul,Ol,e,t);l.layers=this.layers,this.add(l);const f=new wn(Ul,Ol,e,t);f.layers=this.layers,this.add(f)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const f of t)this.remove(f);if(e===Nr)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Du)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const f of t)this.add(f),f.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,f,d]=this.children,h=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const _=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,f),i.texture.generateMipmaps=_,e.setRenderTarget(i,5,r),e.render(t,d),e.setRenderTarget(h,p,m),e.xr.enabled=y,i.texture.needsPMREMUpdate=!0}}class _d extends En{constructor(e,t,i,r,s,o,a,l,f,d){e=e!==void 0?e:[],t=t!==void 0?t:Ws,super(e,t,i,r,s,o,a,l,f,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class h8 extends Vr{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];t.encoding!==void 0&&(lf("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===zo?In:qi),this.texture=new _d(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Mn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new nl(5,5,5),s=new fs({name:"CubemapFromEquirect",uniforms:Uu(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:wi,blending:Us});s.uniforms.tEquirect.value=t;const o=new Nn(r,s),a=t.minFilter;return t.minFilter===Go&&(t.minFilter=Mn),new d8(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const uv=new F,KF=new F,JF=new At;class bs{constructor(e=new F(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=uv.subVectors(i,t).cross(KF.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(uv),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||JF.getNormalMatrix(e),r=this.coplanarPoint(uv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const da=new di,fp=new F;class Sd{constructor(e=new bs,t=new bs,i=new bs,r=new bs,s=new bs,o=new bs){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Nr){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],f=r[4],d=r[5],h=r[6],p=r[7],m=r[8],y=r[9],_=r[10],x=r[11],g=r[12],S=r[13],w=r[14],T=r[15];if(i[0].setComponents(l-s,p-f,x-m,T-g).normalize(),i[1].setComponents(l+s,p+f,x+m,T+g).normalize(),i[2].setComponents(l+o,p+d,x+y,T+S).normalize(),i[3].setComponents(l-o,p-d,x-y,T-S).normalize(),i[4].setComponents(l-a,p-h,x-_,T-w).normalize(),t===Nr)i[5].setComponents(l+a,p+h,x+_,T+w).normalize();else if(t===Du)i[5].setComponents(a,h,_,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),da.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),da.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(da)}intersectsSprite(e){return da.center.set(0,0,0),da.radius=.7071067811865476,da.applyMatrix4(e.matrixWorld),this.intersectsSphere(da)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(fp.x=r.normal.x>0?e.max.x:e.min.x,fp.y=r.normal.y>0?e.max.y:e.min.y,fp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(fp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function p8(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function QF(n,e){const t=e.isWebGL2,i=new WeakMap;function r(f,d){const h=f.array,p=f.usage,m=h.byteLength,y=n.createBuffer();n.bindBuffer(d,y),n.bufferData(d,h,p),f.onUploadCallback();let _;if(h instanceof Float32Array)_=n.FLOAT;else if(h instanceof Uint16Array)if(f.isFloat16BufferAttribute)if(t)_=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else _=n.UNSIGNED_SHORT;else if(h instanceof Int16Array)_=n.SHORT;else if(h instanceof Uint32Array)_=n.UNSIGNED_INT;else if(h instanceof Int32Array)_=n.INT;else if(h instanceof Int8Array)_=n.BYTE;else if(h instanceof Uint8Array)_=n.UNSIGNED_BYTE;else if(h instanceof Uint8ClampedArray)_=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+h);return{buffer:y,type:_,bytesPerElement:h.BYTES_PER_ELEMENT,version:f.version,size:m}}function s(f,d,h){const p=d.array,m=d._updateRange,y=d.updateRanges;if(n.bindBuffer(h,f),m.count===-1&&y.length===0&&n.bufferSubData(h,0,p),y.length!==0){for(let _=0,x=y.length;_<x;_++){const g=y[_];t?n.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):n.bufferSubData(h,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}d.clearUpdateRanges()}m.count!==-1&&(t?n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(h,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),d.onUploadCallback()}function o(f){return f.isInterleavedBufferAttribute&&(f=f.data),i.get(f)}function a(f){f.isInterleavedBufferAttribute&&(f=f.data);const d=i.get(f);d&&(n.deleteBuffer(d.buffer),i.delete(f))}function l(f,d){if(f.isGLBufferAttribute){const p=i.get(f);(!p||p.version<f.version)&&i.set(f,{buffer:f.buffer,type:f.type,bytesPerElement:f.elementSize,version:f.version});return}f.isInterleavedBufferAttribute&&(f=f.data);const h=i.get(f);if(h===void 0)i.set(f,r(f,d));else if(h.version<f.version){if(h.size!==f.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(h.buffer,f,d),h.version=f.version}}return{get:o,remove:a,update:l}}class Md extends Et{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),f=a+1,d=l+1,h=e/a,p=t/l,m=[],y=[],_=[],x=[];for(let g=0;g<d;g++){const S=g*p-o;for(let w=0;w<f;w++){const T=w*h-s;y.push(T,-S,0),_.push(0,0,1),x.push(w/a),x.push(1-g/l)}}for(let g=0;g<l;g++)for(let S=0;S<a;S++){const w=S+f*g,T=S+f*(g+1),b=S+1+f*(g+1),C=S+1+f*g;m.push(w,T,C),m.push(T,b,C)}this.setIndex(m),this.setAttribute("position",new Ze(y,3)),this.setAttribute("normal",new Ze(_,3)),this.setAttribute("uv",new Ze(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Md(e.width,e.height,e.widthSegments,e.heightSegments)}}var $F=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ez=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,tz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,nz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,iz=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,rz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,oz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,az=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,lz=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,uz=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,cz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,fz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,dz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,hz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,vz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,yz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,xz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,_z=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Sz=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Mz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,wz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ez=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Tz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Az=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Cz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,bz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Pz="gl_FragColor = linearToOutputTexel( gl_FragColor );",Rz=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Lz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Iz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Dz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Nz=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Uz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Oz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Fz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zz=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,kz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Bz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Vz=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Hz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Wz=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Xz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,jz=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Yz=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qz=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Zz=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Kz=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Jz=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Qz=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$z=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ek=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,tk=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,nk=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ik=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,rk=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,sk=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ok=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ak=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,lk=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,uk=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ck=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,fk=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dk=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,hk=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,pk=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,mk=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,gk=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,vk=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,yk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xk=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_k=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Sk=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Mk=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,wk=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Ek=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Tk=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ak=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ck=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,bk=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Pk=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Rk=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Lk=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ik=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Dk=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Nk=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Uk=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ok=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Fk=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zk=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,kk=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Bk=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Vk=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Hk=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Gk=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wk=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Xk=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jk=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Yk=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Zk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kk=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Jk=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Qk=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,$k=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,eB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,tB=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iB=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rB=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sB=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,oB=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,aB=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,lB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,uB=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cB=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fB=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dB=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,hB=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pB=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mB=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gB=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,vB=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yB=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,xB=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,_B=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,SB=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MB=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,wB=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,EB=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TB=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AB=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,CB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bB=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,PB=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,RB=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mt={alphahash_fragment:$F,alphahash_pars_fragment:ez,alphamap_fragment:tz,alphamap_pars_fragment:nz,alphatest_fragment:iz,alphatest_pars_fragment:rz,aomap_fragment:sz,aomap_pars_fragment:oz,batching_pars_vertex:az,batching_vertex:lz,begin_vertex:uz,beginnormal_vertex:cz,bsdfs:fz,iridescence_fragment:dz,bumpmap_pars_fragment:hz,clipping_planes_fragment:pz,clipping_planes_pars_fragment:mz,clipping_planes_pars_vertex:gz,clipping_planes_vertex:vz,color_fragment:yz,color_pars_fragment:xz,color_pars_vertex:_z,color_vertex:Sz,common:Mz,cube_uv_reflection_fragment:wz,defaultnormal_vertex:Ez,displacementmap_pars_vertex:Tz,displacementmap_vertex:Az,emissivemap_fragment:Cz,emissivemap_pars_fragment:bz,colorspace_fragment:Pz,colorspace_pars_fragment:Rz,envmap_fragment:Lz,envmap_common_pars_fragment:Iz,envmap_pars_fragment:Dz,envmap_pars_vertex:Nz,envmap_physical_pars_fragment:jz,envmap_vertex:Uz,fog_vertex:Oz,fog_pars_vertex:Fz,fog_fragment:zz,fog_pars_fragment:kz,gradientmap_pars_fragment:Bz,lightmap_fragment:Vz,lightmap_pars_fragment:Hz,lights_lambert_fragment:Gz,lights_lambert_pars_fragment:Wz,lights_pars_begin:Xz,lights_toon_fragment:Yz,lights_toon_pars_fragment:qz,lights_phong_fragment:Zz,lights_phong_pars_fragment:Kz,lights_physical_fragment:Jz,lights_physical_pars_fragment:Qz,lights_fragment_begin:$z,lights_fragment_maps:ek,lights_fragment_end:tk,logdepthbuf_fragment:nk,logdepthbuf_pars_fragment:ik,logdepthbuf_pars_vertex:rk,logdepthbuf_vertex:sk,map_fragment:ok,map_pars_fragment:ak,map_particle_fragment:lk,map_particle_pars_fragment:uk,metalnessmap_fragment:ck,metalnessmap_pars_fragment:fk,morphcolor_vertex:dk,morphnormal_vertex:hk,morphtarget_pars_vertex:pk,morphtarget_vertex:mk,normal_fragment_begin:gk,normal_fragment_maps:vk,normal_pars_fragment:yk,normal_pars_vertex:xk,normal_vertex:_k,normalmap_pars_fragment:Sk,clearcoat_normal_fragment_begin:Mk,clearcoat_normal_fragment_maps:wk,clearcoat_pars_fragment:Ek,iridescence_pars_fragment:Tk,opaque_fragment:Ak,packing:Ck,premultiplied_alpha_fragment:bk,project_vertex:Pk,dithering_fragment:Rk,dithering_pars_fragment:Lk,roughnessmap_fragment:Ik,roughnessmap_pars_fragment:Dk,shadowmap_pars_fragment:Nk,shadowmap_pars_vertex:Uk,shadowmap_vertex:Ok,shadowmask_pars_fragment:Fk,skinbase_vertex:zk,skinning_pars_vertex:kk,skinning_vertex:Bk,skinnormal_vertex:Vk,specularmap_fragment:Hk,specularmap_pars_fragment:Gk,tonemapping_fragment:Wk,tonemapping_pars_fragment:Xk,transmission_fragment:jk,transmission_pars_fragment:Yk,uv_pars_fragment:qk,uv_pars_vertex:Zk,uv_vertex:Kk,worldpos_vertex:Jk,background_vert:Qk,background_frag:$k,backgroundCube_vert:eB,backgroundCube_frag:tB,cube_vert:nB,cube_frag:iB,depth_vert:rB,depth_frag:sB,distanceRGBA_vert:oB,distanceRGBA_frag:aB,equirect_vert:lB,equirect_frag:uB,linedashed_vert:cB,linedashed_frag:fB,meshbasic_vert:dB,meshbasic_frag:hB,meshlambert_vert:pB,meshlambert_frag:mB,meshmatcap_vert:gB,meshmatcap_frag:vB,meshnormal_vert:yB,meshnormal_frag:xB,meshphong_vert:_B,meshphong_frag:SB,meshphysical_vert:MB,meshphysical_frag:wB,meshtoon_vert:EB,meshtoon_frag:TB,points_vert:AB,points_frag:CB,shadow_vert:bB,shadow_frag:PB,sprite_vert:RB,sprite_frag:LB},Le={common:{diffuse:{value:new ze(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new At},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new At}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new At}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new At}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new At},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new At},normalScale:{value:new pe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new At},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new At}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new At}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new At}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ze(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ze(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0},uvTransform:{value:new At}},sprite:{diffuse:{value:new ze(16777215)},opacity:{value:1},center:{value:new pe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new At},alphaMap:{value:null},alphaMapTransform:{value:new At},alphaTest:{value:0}}},Ir={basic:{uniforms:yi([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.fog]),vertexShader:Mt.meshbasic_vert,fragmentShader:Mt.meshbasic_frag},lambert:{uniforms:yi([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new ze(0)}}]),vertexShader:Mt.meshlambert_vert,fragmentShader:Mt.meshlambert_frag},phong:{uniforms:yi([Le.common,Le.specularmap,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,Le.lights,{emissive:{value:new ze(0)},specular:{value:new ze(1118481)},shininess:{value:30}}]),vertexShader:Mt.meshphong_vert,fragmentShader:Mt.meshphong_frag},standard:{uniforms:yi([Le.common,Le.envmap,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.roughnessmap,Le.metalnessmap,Le.fog,Le.lights,{emissive:{value:new ze(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag},toon:{uniforms:yi([Le.common,Le.aomap,Le.lightmap,Le.emissivemap,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.gradientmap,Le.fog,Le.lights,{emissive:{value:new ze(0)}}]),vertexShader:Mt.meshtoon_vert,fragmentShader:Mt.meshtoon_frag},matcap:{uniforms:yi([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,Le.fog,{matcap:{value:null}}]),vertexShader:Mt.meshmatcap_vert,fragmentShader:Mt.meshmatcap_frag},points:{uniforms:yi([Le.points,Le.fog]),vertexShader:Mt.points_vert,fragmentShader:Mt.points_frag},dashed:{uniforms:yi([Le.common,Le.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Mt.linedashed_vert,fragmentShader:Mt.linedashed_frag},depth:{uniforms:yi([Le.common,Le.displacementmap]),vertexShader:Mt.depth_vert,fragmentShader:Mt.depth_frag},normal:{uniforms:yi([Le.common,Le.bumpmap,Le.normalmap,Le.displacementmap,{opacity:{value:1}}]),vertexShader:Mt.meshnormal_vert,fragmentShader:Mt.meshnormal_frag},sprite:{uniforms:yi([Le.sprite,Le.fog]),vertexShader:Mt.sprite_vert,fragmentShader:Mt.sprite_frag},background:{uniforms:{uvTransform:{value:new At},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Mt.background_vert,fragmentShader:Mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Mt.backgroundCube_vert,fragmentShader:Mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Mt.cube_vert,fragmentShader:Mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Mt.equirect_vert,fragmentShader:Mt.equirect_frag},distanceRGBA:{uniforms:yi([Le.common,Le.displacementmap,{referencePosition:{value:new F},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Mt.distanceRGBA_vert,fragmentShader:Mt.distanceRGBA_frag},shadow:{uniforms:yi([Le.lights,Le.fog,{color:{value:new ze(0)},opacity:{value:1}}]),vertexShader:Mt.shadow_vert,fragmentShader:Mt.shadow_frag}};Ir.physical={uniforms:yi([Ir.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new At},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new At},clearcoatNormalScale:{value:new pe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new At},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new At},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new At},sheen:{value:0},sheenColor:{value:new ze(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new At},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new At},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new At},transmissionSamplerSize:{value:new pe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new At},attenuationDistance:{value:0},attenuationColor:{value:new ze(0)},specularColor:{value:new ze(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new At},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new At},anisotropyVector:{value:new pe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new At}}]),vertexShader:Mt.meshphysical_vert,fragmentShader:Mt.meshphysical_frag};const dp={r:0,b:0,g:0};function IB(n,e,t,i,r,s,o){const a=new ze(0);let l=s===!0?0:1,f,d,h=null,p=0,m=null;function y(x,g){let S=!1,w=g.isScene===!0?g.background:null;w&&w.isTexture&&(w=(g.backgroundBlurriness>0?t:e).get(w)),w===null?_(a,l):w&&w.isColor&&(_(w,1),S=!0);const T=n.xr.getEnvironmentBlendMode();T==="additive"?i.buffers.color.setClear(0,0,0,1,o):T==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),w&&(w.isCubeTexture||w.mapping===Gu)?(d===void 0&&(d=new Nn(new nl(1,1,1),new fs({name:"BackgroundCubeMaterial",uniforms:Uu(Ir.backgroundCube.uniforms),vertexShader:Ir.backgroundCube.vertexShader,fragmentShader:Ir.backgroundCube.fragmentShader,side:wi,depthTest:!1,depthWrite:!1,fog:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(b,C,L){this.matrixWorld.copyPosition(L.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(d)),d.material.uniforms.envMap.value=w,d.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,d.material.toneMapped=Vt.getTransfer(w.colorSpace)!==Yt,(h!==w||p!==w.version||m!==n.toneMapping)&&(d.material.needsUpdate=!0,h=w,p=w.version,m=n.toneMapping),d.layers.enableAll(),x.unshift(d,d.geometry,d.material,0,0,null)):w&&w.isTexture&&(f===void 0&&(f=new Nn(new Md(2,2),new fs({name:"BackgroundMaterial",uniforms:Uu(Ir.background.uniforms),vertexShader:Ir.background.vertexShader,fragmentShader:Ir.background.fragmentShader,side:Gs,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),Object.defineProperty(f.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(f)),f.material.uniforms.t2D.value=w,f.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,f.material.toneMapped=Vt.getTransfer(w.colorSpace)!==Yt,w.matrixAutoUpdate===!0&&w.updateMatrix(),f.material.uniforms.uvTransform.value.copy(w.matrix),(h!==w||p!==w.version||m!==n.toneMapping)&&(f.material.needsUpdate=!0,h=w,p=w.version,m=n.toneMapping),f.layers.enableAll(),x.unshift(f,f.geometry,f.material,0,0,null))}function _(x,g){x.getRGB(dp,c8(n)),i.buffers.color.setClear(dp.r,dp.g,dp.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(x,g=1){a.set(x),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,_(a,l)},render:y}}function DB(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||s!==null,a={},l=x(null);let f=l,d=!1;function h(H,$,te,ce,N){let k=!1;if(o){const B=_(ce,te,$);f!==B&&(f=B,m(f.object)),k=g(H,ce,te,N),k&&S(H,ce,te,N)}else{const B=$.wireframe===!0;(f.geometry!==ce.id||f.program!==te.id||f.wireframe!==B)&&(f.geometry=ce.id,f.program=te.id,f.wireframe=B,k=!0)}N!==null&&t.update(N,n.ELEMENT_ARRAY_BUFFER),(k||d)&&(d=!1,D(H,$,te,ce),N!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(N).buffer))}function p(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(H){return i.isWebGL2?n.bindVertexArray(H):s.bindVertexArrayOES(H)}function y(H){return i.isWebGL2?n.deleteVertexArray(H):s.deleteVertexArrayOES(H)}function _(H,$,te){const ce=te.wireframe===!0;let N=a[H.id];N===void 0&&(N={},a[H.id]=N);let k=N[$.id];k===void 0&&(k={},N[$.id]=k);let B=k[ce];return B===void 0&&(B=x(p()),k[ce]=B),B}function x(H){const $=[],te=[],ce=[];for(let N=0;N<r;N++)$[N]=0,te[N]=0,ce[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:$,enabledAttributes:te,attributeDivisors:ce,object:H,attributes:{},index:null}}function g(H,$,te,ce){const N=f.attributes,k=$.attributes;let B=0;const Z=te.getAttributes();for(const ee in Z)if(Z[ee].location>=0){const q=N[ee];let ae=k[ee];if(ae===void 0&&(ee==="instanceMatrix"&&H.instanceMatrix&&(ae=H.instanceMatrix),ee==="instanceColor"&&H.instanceColor&&(ae=H.instanceColor)),q===void 0||q.attribute!==ae||ae&&q.data!==ae.data)return!0;B++}return f.attributesNum!==B||f.index!==ce}function S(H,$,te,ce){const N={},k=$.attributes;let B=0;const Z=te.getAttributes();for(const ee in Z)if(Z[ee].location>=0){let q=k[ee];q===void 0&&(ee==="instanceMatrix"&&H.instanceMatrix&&(q=H.instanceMatrix),ee==="instanceColor"&&H.instanceColor&&(q=H.instanceColor));const ae={};ae.attribute=q,q&&q.data&&(ae.data=q.data),N[ee]=ae,B++}f.attributes=N,f.attributesNum=B,f.index=ce}function w(){const H=f.newAttributes;for(let $=0,te=H.length;$<te;$++)H[$]=0}function T(H){b(H,0)}function b(H,$){const te=f.newAttributes,ce=f.enabledAttributes,N=f.attributeDivisors;te[H]=1,ce[H]===0&&(n.enableVertexAttribArray(H),ce[H]=1),N[H]!==$&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,$),N[H]=$)}function C(){const H=f.newAttributes,$=f.enabledAttributes;for(let te=0,ce=$.length;te<ce;te++)$[te]!==H[te]&&(n.disableVertexAttribArray(te),$[te]=0)}function L(H,$,te,ce,N,k,B){B===!0?n.vertexAttribIPointer(H,$,te,N,k):n.vertexAttribPointer(H,$,te,ce,N,k)}function D(H,$,te,ce){if(i.isWebGL2===!1&&(H.isInstancedMesh||ce.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;w();const N=ce.attributes,k=te.getAttributes(),B=$.defaultAttributeValues;for(const Z in k){const ee=k[Z];if(ee.location>=0){let Y=N[Z];if(Y===void 0&&(Z==="instanceMatrix"&&H.instanceMatrix&&(Y=H.instanceMatrix),Z==="instanceColor"&&H.instanceColor&&(Y=H.instanceColor)),Y!==void 0){const q=Y.normalized,ae=Y.itemSize,_e=t.get(Y);if(_e===void 0)continue;const Ce=_e.buffer,nt=_e.type,st=_e.bytesPerElement,je=i.isWebGL2===!0&&(nt===n.INT||nt===n.UNSIGNED_INT||Y.gpuType===x_);if(Y.isInterleavedBufferAttribute){const Qe=Y.data,G=Qe.stride,Ee=Y.offset;if(Qe.isInstancedInterleavedBuffer){for(let me=0;me<ee.locationSize;me++)b(ee.location+me,Qe.meshPerAttribute);H.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=Qe.meshPerAttribute*Qe.count)}else for(let me=0;me<ee.locationSize;me++)T(ee.location+me);n.bindBuffer(n.ARRAY_BUFFER,Ce);for(let me=0;me<ee.locationSize;me++)L(ee.location+me,ae/ee.locationSize,nt,q,G*st,(Ee+ae/ee.locationSize*me)*st,je)}else{if(Y.isInstancedBufferAttribute){for(let Qe=0;Qe<ee.locationSize;Qe++)b(ee.location+Qe,Y.meshPerAttribute);H.isInstancedMesh!==!0&&ce._maxInstanceCount===void 0&&(ce._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Qe=0;Qe<ee.locationSize;Qe++)T(ee.location+Qe);n.bindBuffer(n.ARRAY_BUFFER,Ce);for(let Qe=0;Qe<ee.locationSize;Qe++)L(ee.location+Qe,ae/ee.locationSize,nt,q,ae*st,ae/ee.locationSize*Qe*st,je)}}else if(B!==void 0){const q=B[Z];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(ee.location,q);break;case 3:n.vertexAttrib3fv(ee.location,q);break;case 4:n.vertexAttrib4fv(ee.location,q);break;default:n.vertexAttrib1fv(ee.location,q)}}}}C()}function P(){K();for(const H in a){const $=a[H];for(const te in $){const ce=$[te];for(const N in ce)y(ce[N].object),delete ce[N];delete $[te]}delete a[H]}}function R(H){if(a[H.id]===void 0)return;const $=a[H.id];for(const te in $){const ce=$[te];for(const N in ce)y(ce[N].object),delete ce[N];delete $[te]}delete a[H.id]}function V(H){for(const $ in a){const te=a[$];if(te[H.id]===void 0)continue;const ce=te[H.id];for(const N in ce)y(ce[N].object),delete ce[N];delete te[H.id]}}function K(){oe(),d=!0,f!==l&&(f=l,m(f.object))}function oe(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:h,reset:K,resetDefaultState:oe,dispose:P,releaseStatesOfGeometry:R,releaseStatesOfProgram:V,initAttributes:w,enableAttribute:T,disableUnusedAttributes:C}}function NB(n,e,t,i){const r=i.isWebGL2;let s;function o(d){s=d}function a(d,h){n.drawArrays(s,d,h),t.update(h,s,1)}function l(d,h,p){if(p===0)return;let m,y;if(r)m=n,y="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[y](s,d,h,p),t.update(h,s,p)}function f(d,h,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<p;y++)this.render(d[y],h[y]);else{m.multiDrawArraysWEBGL(s,d,0,h,0,p);let y=0;for(let _=0;_<p;_++)y+=h[_];t.update(y,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=f}function UB(n,e,t){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const L=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(L.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function s(L){if(L==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";L="mediump"}return L==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext!="undefined"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const f=o||e.has("WEBGL_draw_buffers"),d=t.logarithmicDepthBuffer===!0,h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),y=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),S=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),w=p>0,T=o||e.has("OES_texture_float"),b=w&&T,C=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:f,getMaxAnisotropy:r,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:d,maxTextures:h,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:_,maxVertexUniforms:x,maxVaryings:g,maxFragmentUniforms:S,vertexTextures:w,floatFragmentTextures:T,floatVertexTextures:b,maxSamples:C}}function OB(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new bs,a=new At,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p){const m=h.length!==0||p||i!==0||r;return r=p,i=h.length,m},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(h,p){t=d(h,p,0)},this.setState=function(h,p,m){const y=h.clippingPlanes,_=h.clipIntersection,x=h.clipShadows,g=n.get(h);if(!r||y===null||y.length===0||s&&!x)s?d(null):f();else{const S=s?0:i,w=S*4;let T=g.clippingState||null;l.value=T,T=d(y,p,w,m);for(let b=0;b!==w;++b)T[b]=t[b];g.clippingState=T,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=S}};function f(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function d(h,p,m,y){const _=h!==null?h.length:0;let x=null;if(_!==0){if(x=l.value,y!==!0||x===null){const g=m+_*4,S=p.matrixWorldInverse;a.getNormalMatrix(S),(x===null||x.length<g)&&(x=new Float32Array(g));for(let w=0,T=m;w!==_;++w,T+=4)o.copy(h[w]).applyMatrix4(S,a),o.normal.toArray(x,T),x[T+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,x}}function FB(n){let e=new WeakMap;function t(o,a){return a===zf?o.mapping=Ws:a===kf&&(o.mapping=Ho),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===zf||a===kf)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const f=new h8(l.height/2);return f.fromEquirectangularTexture(n,o),e.set(o,f),o.addEventListener("dispose",r),t(f.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}class ko extends xd{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const f=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=f*this.view.offsetX,o=s+f*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const cu=4,Pw=[.125,.215,.35,.446,.526,.582],Ta=20,cv=new ko,Rw=new ze;let fv=null,dv=0,hv=0;const Ea=(1+Math.sqrt(5))/2,Fl=1/Ea,Lw=[new F(1,1,1),new F(-1,1,1),new F(1,1,-1),new F(-1,1,-1),new F(0,Ea,Fl),new F(0,Ea,-Fl),new F(Fl,0,Ea),new F(-Fl,0,Ea),new F(Ea,Fl,0),new F(-Ea,Fl,0)];class U2{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){fv=this._renderer.getRenderTarget(),dv=this._renderer.getActiveCubeFace(),hv=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Nw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Dw(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(fv,dv,hv),e.scissorTest=!1,hp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ws||e.mapping===Ho?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),fv=this._renderer.getRenderTarget(),dv=this._renderer.getActiveCubeFace(),hv=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Mn,minFilter:Mn,generateMipmaps:!1,type:Iu,format:Si,colorSpace:cs,depthBuffer:!1},r=Iw(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Iw(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=zB(s)),this._blurMaterial=kB(s,e,t)}return r}_compileMaterial(e){const t=new Nn(this._lodPlanes[0],e);this._renderer.compile(t,cv)}_sceneToCubeUV(e,t,i,r){const a=new wn(90,1,t,i),l=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,p=d.toneMapping;d.getClearColor(Rw),d.toneMapping=as,d.autoClear=!1;const m=new Zo({name:"PMREM.Background",side:wi,depthWrite:!1,depthTest:!1}),y=new Nn(new nl,m);let _=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,_=!0):(m.color.copy(Rw),_=!0);for(let g=0;g<6;g++){const S=g%3;S===0?(a.up.set(0,l[g],0),a.lookAt(f[g],0,0)):S===1?(a.up.set(0,0,l[g]),a.lookAt(0,f[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,f[g]));const w=this._cubeSize;hp(r,S*w,g>2?w:0,w,w),d.setRenderTarget(r),_&&d.render(y,a),d.render(e,a)}y.geometry.dispose(),y.material.dispose(),d.toneMapping=p,d.autoClear=h,e.background=x}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Ws||e.mapping===Ho;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Nw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Dw());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Nn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;hp(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,cv)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),o=Lw[(r-1)%Lw.length];this._blur(e,r-1,r,s,o)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,f=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Nn(this._lodPlanes[r],f),p=f.uniforms,m=this._sizeLods[i]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Ta-1),_=s/y,x=isFinite(s)?1+Math.floor(d*_):Ta;x>Ta&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Ta}`);const g=[];let S=0;for(let L=0;L<Ta;++L){const D=L/_,P=Math.exp(-D*D/2);g.push(P),L===0?S+=P:L<x&&(S+=2*P)}for(let L=0;L<g.length;L++)g[L]=g[L]/S;p.envMap.value=e.texture,p.samples.value=x,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:w}=this;p.dTheta.value=y,p.mipInt.value=w-i;const T=this._sizeLods[r],b=3*T*(r>w-cu?r-w+cu:0),C=4*(this._cubeSize-T);hp(t,b,C,3*T,2*T),l.setRenderTarget(t),l.render(h,cv)}}function zB(n){const e=[],t=[],i=[];let r=n;const s=n-cu+1+Pw.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-cu?l=Pw[o-n+cu-1]:o===0&&(l=0),i.push(l);const f=1/(a-2),d=-f,h=1+f,p=[d,d,h,d,h,h,d,d,h,h,d,h],m=6,y=6,_=3,x=2,g=1,S=new Float32Array(_*y*m),w=new Float32Array(x*y*m),T=new Float32Array(g*y*m);for(let C=0;C<m;C++){const L=C%3*2/3-1,D=C>2?0:-1,P=[L,D,0,L+2/3,D,0,L+2/3,D+1,0,L,D,0,L+2/3,D+1,0,L,D+1,0];S.set(P,_*y*C),w.set(p,x*y*C);const R=[C,C,C,C,C,C];T.set(R,g*y*C)}const b=new Et;b.setAttribute("position",new Wt(S,_)),b.setAttribute("uv",new Wt(w,x)),b.setAttribute("faceIndex",new Wt(T,g)),e.push(b),r>cu&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Iw(n,e,t){const i=new Vr(n,e,t);return i.texture.mapping=Gu,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function hp(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function kB(n,e,t){const i=new Float32Array(Ta),r=new F(0,1,0);return new fs({name:"SphericalGaussianBlur",defines:{n:Ta,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:N_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function Dw(){return new fs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:N_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function Nw(){return new fs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:N_(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Us,depthTest:!1,depthWrite:!1})}function N_(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function BB(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,f=l===zf||l===kf,d=l===Ws||l===Ho;if(f||d)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let h=e.get(a);return t===null&&(t=new U2(n)),h=f?t.fromEquirectangular(a,h):t.fromCubemap(a,h),e.set(a,h),h.texture}else{if(e.has(a))return e.get(a).texture;{const h=a.image;if(f&&h&&h.height>0||d&&h&&r(h)){t===null&&(t=new U2(n));const p=f?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function r(a){let l=0;const f=6;for(let d=0;d<f;d++)a[d]!==void 0&&l++;return l===f}function s(a){const l=a.target;l.removeEventListener("dispose",s);const f=e.get(l);f!==void 0&&(e.delete(l),f.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function VB(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(i){i.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function HB(n,e,t,i){const r={},s=new WeakMap;function o(h){const p=h.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const _=p.morphAttributes[y];for(let x=0,g=_.length;x<g;x++)e.remove(_[x])}p.removeEventListener("dispose",o),delete r[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),i.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(h,p){return r[p.id]===!0||(p.addEventListener("dispose",o),r[p.id]=!0,t.memory.geometries++),p}function l(h){const p=h.attributes;for(const y in p)e.update(p[y],n.ARRAY_BUFFER);const m=h.morphAttributes;for(const y in m){const _=m[y];for(let x=0,g=_.length;x<g;x++)e.update(_[x],n.ARRAY_BUFFER)}}function f(h){const p=[],m=h.index,y=h.attributes.position;let _=0;if(m!==null){const S=m.array;_=m.version;for(let w=0,T=S.length;w<T;w+=3){const b=S[w+0],C=S[w+1],L=S[w+2];p.push(b,C,C,L,L,b)}}else if(y!==void 0){const S=y.array;_=y.version;for(let w=0,T=S.length/3-1;w<T;w+=3){const b=w+0,C=w+1,L=w+2;p.push(b,C,C,L,L,b)}}else return;const x=new(o8(p)?D_:I_)(p,1);x.version=_;const g=s.get(h);g&&e.remove(g),s.set(h,x)}function d(h){const p=s.get(h);if(p){const m=h.index;m!==null&&p.version<m.version&&f(h)}else f(h);return s.get(h)}return{get:a,update:l,getWireframeAttribute:d}}function GB(n,e,t,i){const r=i.isWebGL2;let s;function o(m){s=m}let a,l;function f(m){a=m.type,l=m.bytesPerElement}function d(m,y){n.drawElements(s,y,a,m*l),t.update(y,s,1)}function h(m,y,_){if(_===0)return;let x,g;if(r)x=n,g="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[g](s,y,a,m*l,_),t.update(y,s,_)}function p(m,y,_){if(_===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let g=0;g<_;g++)this.render(m[g]/l,y[g]);else{x.multiDrawElementsWEBGL(s,y,0,a,m,0,_);let g=0;for(let S=0;S<_;S++)g+=y[S];t.update(g,s,1)}}this.setMode=o,this.setIndex=f,this.render=d,this.renderInstances=h,this.renderMultiDraw=p}function WB(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function XB(n,e){return n[0]-e[0]}function jB(n,e){return Math.abs(e[1])-Math.abs(n[1])}function YB(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new Ht,a=[];for(let f=0;f<8;f++)a[f]=[f,0];function l(f,d,h){const p=f.morphTargetInfluences;if(e.isWebGL2===!0){const y=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,_=y!==void 0?y.length:0;let x=s.get(d);if(x===void 0||x.count!==_){let $=function(){oe.dispose(),s.delete(d),d.removeEventListener("dispose",$)};var m=$;x!==void 0&&x.texture.dispose();const w=d.morphAttributes.position!==void 0,T=d.morphAttributes.normal!==void 0,b=d.morphAttributes.color!==void 0,C=d.morphAttributes.position||[],L=d.morphAttributes.normal||[],D=d.morphAttributes.color||[];let P=0;w===!0&&(P=1),T===!0&&(P=2),b===!0&&(P=3);let R=d.attributes.position.count*P,V=1;R>e.maxTextureSize&&(V=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const K=new Float32Array(R*V*4*_),oe=new Dm(K,R,V,_);oe.type=Dr,oe.needsUpdate=!0;const H=P*4;for(let te=0;te<_;te++){const ce=C[te],N=L[te],k=D[te],B=R*V*4*te;for(let Z=0;Z<ce.count;Z++){const ee=Z*H;w===!0&&(o.fromBufferAttribute(ce,Z),K[B+ee+0]=o.x,K[B+ee+1]=o.y,K[B+ee+2]=o.z,K[B+ee+3]=0),T===!0&&(o.fromBufferAttribute(N,Z),K[B+ee+4]=o.x,K[B+ee+5]=o.y,K[B+ee+6]=o.z,K[B+ee+7]=0),b===!0&&(o.fromBufferAttribute(k,Z),K[B+ee+8]=o.x,K[B+ee+9]=o.y,K[B+ee+10]=o.z,K[B+ee+11]=k.itemSize===4?o.w:1)}}x={count:_,texture:oe,size:new pe(R,V)},s.set(d,x),d.addEventListener("dispose",$)}let g=0;for(let w=0;w<p.length;w++)g+=p[w];const S=d.morphTargetsRelative?1:1-g;h.getUniforms().setValue(n,"morphTargetBaseInfluence",S),h.getUniforms().setValue(n,"morphTargetInfluences",p),h.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),h.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const y=p===void 0?0:p.length;let _=i[d.id];if(_===void 0||_.length!==y){_=[];for(let T=0;T<y;T++)_[T]=[T,0];i[d.id]=_}for(let T=0;T<y;T++){const b=_[T];b[0]=T,b[1]=p[T]}_.sort(jB);for(let T=0;T<8;T++)T<y&&_[T][1]?(a[T][0]=_[T][0],a[T][1]=_[T][1]):(a[T][0]=Number.MAX_SAFE_INTEGER,a[T][1]=0);a.sort(XB);const x=d.morphAttributes.position,g=d.morphAttributes.normal;let S=0;for(let T=0;T<8;T++){const b=a[T],C=b[0],L=b[1];C!==Number.MAX_SAFE_INTEGER&&L?(x&&d.getAttribute("morphTarget"+T)!==x[C]&&d.setAttribute("morphTarget"+T,x[C]),g&&d.getAttribute("morphNormal"+T)!==g[C]&&d.setAttribute("morphNormal"+T,g[C]),r[T]=L,S+=L):(x&&d.hasAttribute("morphTarget"+T)===!0&&d.deleteAttribute("morphTarget"+T),g&&d.hasAttribute("morphNormal"+T)===!0&&d.deleteAttribute("morphNormal"+T),r[T]=0)}const w=d.morphTargetsRelative?1:1-S;h.getUniforms().setValue(n,"morphTargetBaseInfluence",w),h.getUniforms().setValue(n,"morphTargetInfluences",r)}}return{update:l}}function qB(n,e,t,i){let r=new WeakMap;function s(l){const f=i.render.frame,d=l.geometry,h=e.get(l,d);if(r.get(h)!==f&&(e.update(h),r.set(h,f)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==f&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,f))),l.isSkinnedMesh){const p=l.skeleton;r.get(p)!==f&&(p.update(),r.set(p,f))}return h}function o(){r=new WeakMap}function a(l){const f=l.target;f.removeEventListener("dispose",a),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:s,dispose:o}}class U_ extends En{constructor(e,t,i,r,s,o,a,l,f,d){if(d=d!==void 0?d:Fo,d!==Fo&&d!==Ya)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&d===Fo&&(i=Is),i===void 0&&d===Ya&&(i=Oo),super(null,r,s,o,a,l,d,i,f),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:_n,this.minFilter=l!==void 0?l:_n,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const m8=new En,g8=new U_(1,1);g8.compareFunction=b_;const v8=new Dm,y8=new L_,x8=new _d,Uw=[],Ow=[],Fw=new Float32Array(16),zw=new Float32Array(9),kw=new Float32Array(4);function Wu(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Uw[r];if(s===void 0&&(s=new Float32Array(r),Uw[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Un(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function On(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Nm(n,e){let t=Ow[e];t===void 0&&(t=new Int32Array(e),Ow[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function ZB(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function KB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2fv(this.addr,e),On(t,e)}}function JB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Un(t,e))return;n.uniform3fv(this.addr,e),On(t,e)}}function QB(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4fv(this.addr,e),On(t,e)}}function $B(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),On(t,e)}else{if(Un(t,i))return;kw.set(i),n.uniformMatrix2fv(this.addr,!1,kw),On(t,i)}}function eV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),On(t,e)}else{if(Un(t,i))return;zw.set(i),n.uniformMatrix3fv(this.addr,!1,zw),On(t,i)}}function tV(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Un(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),On(t,e)}else{if(Un(t,i))return;Fw.set(i),n.uniformMatrix4fv(this.addr,!1,Fw),On(t,i)}}function nV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function iV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2iv(this.addr,e),On(t,e)}}function rV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Un(t,e))return;n.uniform3iv(this.addr,e),On(t,e)}}function sV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4iv(this.addr,e),On(t,e)}}function oV(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function aV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Un(t,e))return;n.uniform2uiv(this.addr,e),On(t,e)}}function lV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Un(t,e))return;n.uniform3uiv(this.addr,e),On(t,e)}}function uV(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Un(t,e))return;n.uniform4uiv(this.addr,e),On(t,e)}}function cV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);const s=this.type===n.SAMPLER_2D_SHADOW?g8:m8;t.setTexture2D(e||s,r)}function fV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||y8,r)}function dV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||x8,r)}function hV(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||v8,r)}function pV(n){switch(n){case 5126:return ZB;case 35664:return KB;case 35665:return JB;case 35666:return QB;case 35674:return $B;case 35675:return eV;case 35676:return tV;case 5124:case 35670:return nV;case 35667:case 35671:return iV;case 35668:case 35672:return rV;case 35669:case 35673:return sV;case 5125:return oV;case 36294:return aV;case 36295:return lV;case 36296:return uV;case 35678:case 36198:case 36298:case 36306:case 35682:return cV;case 35679:case 36299:case 36307:return fV;case 35680:case 36300:case 36308:case 36293:return dV;case 36289:case 36303:case 36311:case 36292:return hV}}function mV(n,e){n.uniform1fv(this.addr,e)}function gV(n,e){const t=Wu(e,this.size,2);n.uniform2fv(this.addr,t)}function vV(n,e){const t=Wu(e,this.size,3);n.uniform3fv(this.addr,t)}function yV(n,e){const t=Wu(e,this.size,4);n.uniform4fv(this.addr,t)}function xV(n,e){const t=Wu(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function _V(n,e){const t=Wu(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function SV(n,e){const t=Wu(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function MV(n,e){n.uniform1iv(this.addr,e)}function wV(n,e){n.uniform2iv(this.addr,e)}function EV(n,e){n.uniform3iv(this.addr,e)}function TV(n,e){n.uniform4iv(this.addr,e)}function AV(n,e){n.uniform1uiv(this.addr,e)}function CV(n,e){n.uniform2uiv(this.addr,e)}function bV(n,e){n.uniform3uiv(this.addr,e)}function PV(n,e){n.uniform4uiv(this.addr,e)}function RV(n,e,t){const i=this.cache,r=e.length,s=Nm(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||m8,s[o])}function LV(n,e,t){const i=this.cache,r=e.length,s=Nm(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||y8,s[o])}function IV(n,e,t){const i=this.cache,r=e.length,s=Nm(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||x8,s[o])}function DV(n,e,t){const i=this.cache,r=e.length,s=Nm(t,r);Un(i,s)||(n.uniform1iv(this.addr,s),On(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||v8,s[o])}function NV(n){switch(n){case 5126:return mV;case 35664:return gV;case 35665:return vV;case 35666:return yV;case 35674:return xV;case 35675:return _V;case 35676:return SV;case 5124:case 35670:return MV;case 35667:case 35671:return wV;case 35668:case 35672:return EV;case 35669:case 35673:return TV;case 5125:return AV;case 36294:return CV;case 36295:return bV;case 36296:return PV;case 35678:case 36198:case 36298:case 36306:case 35682:return RV;case 35679:case 36299:case 36307:return LV;case 35680:case 36300:case 36308:case 36293:return IV;case 36289:case 36303:case 36311:case 36292:return DV}}class UV{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=pV(t.type)}}class OV{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=NV(t.type)}}class FV{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const pv=/(\w+)(\])?(\[|\.)?/g;function Bw(n,e){n.seq.push(e),n.map[e.id]=e}function zV(n,e,t){const i=n.name,r=i.length;for(pv.lastIndex=0;;){const s=pv.exec(i),o=pv.lastIndex;let a=s[1];const l=s[2]==="]",f=s[3];if(l&&(a=a|0),f===void 0||f==="["&&o+2===r){Bw(t,f===void 0?new UV(a,n,e):new OV(a,n,e));break}else{let h=t.map[a];h===void 0&&(h=new FV(a),Bw(t,h)),t=h}}}class l0{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);zV(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function Vw(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const kV=37297;let BV=0;function VV(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}function HV(n){const e=Vt.getPrimaries(Vt.workingColorSpace),t=Vt.getPrimaries(n);let i;switch(e===t?i="":e===Yf&&t===jf?i="LinearDisplayP3ToLinearSRGB":e===jf&&t===Yf&&(i="LinearSRGBToLinearDisplayP3"),n){case cs:case vd:return[i,"LinearTransferOETF"];case In:case Im:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}function Hw(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+VV(n.getShaderSource(e),o)}else return r}function GV(n,e){const t=HV(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function WV(n,e){let t;switch(e){case IC:t="Linear";break;case DC:t="Reinhard";break;case NC:t="OptimizedCineon";break;case v_:t="ACESFilmic";break;case OC:t="AgX";break;case UC:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function XV(n){return[n.extensionDerivatives||!!n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(fu).join(`
`)}function jV(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(fu).join(`
`)}function YV(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function qV(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function fu(n){return n!==""}function Gw(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Ww(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ZV=/^[ \t]*#include +<([\w\d./]+)>/gm;function O2(n){return n.replace(ZV,JV)}const KV=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function JV(n,e){let t=Mt[e];if(t===void 0){const i=KV.get(e);if(i!==void 0)t=Mt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return O2(t)}const QV=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Xw(n){return n.replace(QV,$V)}function $V(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function jw(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function eH(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===bm?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===sf?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===br&&(e="SHADOWMAP_TYPE_VSM"),e}function tH(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ws:case Ho:e="ENVMAP_TYPE_CUBE";break;case Gu:e="ENVMAP_TYPE_CUBE_UV";break}return e}function nH(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Ho:e="ENVMAP_MODE_REFRACTION";break}return e}function iH(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case gd:e="ENVMAP_BLENDING_MULTIPLY";break;case RC:e="ENVMAP_BLENDING_MIX";break;case LC:e="ENVMAP_BLENDING_ADD";break}return e}function rH(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function sH(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=eH(t),f=tH(t),d=nH(t),h=iH(t),p=rH(t),m=t.isWebGL2?"":XV(t),y=jV(t),_=YV(s),x=r.createProgram();let g,S,w=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(g=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(fu).join(`
`),g.length>0&&(g+=`
`),S=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(fu).join(`
`),S.length>0&&(S+=`
`)):(g=[jw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(fu).join(`
`),S=[m,jw(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==as?"#define TONE_MAPPING":"",t.toneMapping!==as?Mt.tonemapping_pars_fragment:"",t.toneMapping!==as?WV("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Mt.colorspace_pars_fragment,GV("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(fu).join(`
`)),o=O2(o),o=Gw(o,t),o=Ww(o,t),a=O2(a),a=Gw(a,t),a=Ww(a,t),o=Xw(o),a=Xw(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,g=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,S=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===D2?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===D2?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const T=w+g+o,b=w+S+a,C=Vw(r,r.VERTEX_SHADER,T),L=Vw(r,r.FRAGMENT_SHADER,b);r.attachShader(x,C),r.attachShader(x,L),t.index0AttributeName!==void 0?r.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x);function D(K){if(n.debug.checkShaderErrors){const oe=r.getProgramInfoLog(x).trim(),H=r.getShaderInfoLog(C).trim(),$=r.getShaderInfoLog(L).trim();let te=!0,ce=!0;if(r.getProgramParameter(x,r.LINK_STATUS)===!1)if(te=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,x,C,L);else{const N=Hw(r,C,"vertex"),k=Hw(r,L,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+`

Program Info Log: `+oe+`
`+N+`
`+k)}else oe!==""?console.warn("THREE.WebGLProgram: Program Info Log:",oe):(H===""||$==="")&&(ce=!1);ce&&(K.diagnostics={runnable:te,programLog:oe,vertexShader:{log:H,prefix:g},fragmentShader:{log:$,prefix:S}})}r.deleteShader(C),r.deleteShader(L),P=new l0(r,x),R=qV(r,x)}let P;this.getUniforms=function(){return P===void 0&&D(this),P};let R;this.getAttributes=function(){return R===void 0&&D(this),R};let V=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return V===!1&&(V=r.getProgramParameter(x,kV)),V},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=BV++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=C,this.fragmentShader=L,this}let oH=0;class aH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new lH(e),t.set(e,i)),i}}class lH{constructor(e){this.id=oH++,this.code=e,this.usedTimes=0}}function uH(n,e,t,i,r,s,o){const a=new ka,l=new aH,f=[],d=r.isWebGL2,h=r.logarithmicDepthBuffer,p=r.vertexTextures;let m=r.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(P){return P===0?"uv":`uv${P}`}function x(P,R,V,K,oe){const H=K.fog,$=oe.geometry,te=P.isMeshStandardMaterial?K.environment:null,ce=(P.isMeshStandardMaterial?t:e).get(P.envMap||te),N=!!ce&&ce.mapping===Gu?ce.image.height:null,k=y[P.type];P.precision!==null&&(m=r.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const B=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,Z=B!==void 0?B.length:0;let ee=0;$.morphAttributes.position!==void 0&&(ee=1),$.morphAttributes.normal!==void 0&&(ee=2),$.morphAttributes.color!==void 0&&(ee=3);let Y,q,ae,_e;if(k){const en=Ir[k];Y=en.vertexShader,q=en.fragmentShader}else Y=P.vertexShader,q=P.fragmentShader,l.update(P),ae=l.getVertexShaderID(P),_e=l.getFragmentShaderID(P);const Ce=n.getRenderTarget(),nt=oe.isInstancedMesh===!0,st=oe.isBatchedMesh===!0,je=!!P.map,Qe=!!P.matcap,G=!!ce,Ee=!!P.aoMap,me=!!P.lightMap,Ae=!!P.bumpMap,ge=!!P.normalMap,Ke=!!P.displacementMap,Ne=!!P.emissiveMap,U=!!P.metalnessMap,I=!!P.roughnessMap,re=P.anisotropy>0,Se=P.clearcoat>0,xe=P.iridescence>0,ve=P.sheen>0,Ye=P.transmission>0,Ie=re&&!!P.anisotropyMap,Be=Se&&!!P.clearcoatMap,it=Se&&!!P.clearcoatNormalMap,gt=Se&&!!P.clearcoatRoughnessMap,Me=xe&&!!P.iridescenceMap,Lt=xe&&!!P.iridescenceThicknessMap,St=ve&&!!P.sheenColorMap,ht=ve&&!!P.sheenRoughnessMap,tt=!!P.specularMap,He=!!P.specularColorMap,X=!!P.specularIntensityMap,ye=Ye&&!!P.transmissionMap,ke=Ye&&!!P.thicknessMap,Oe=!!P.gradientMap,we=!!P.alphaMap,j=P.alphaTest>0,Re=!!P.alphaHash,De=!!P.extensions,ot=!!$.attributes.uv1,qe=!!$.attributes.uv2,Pt=!!$.attributes.uv3;let Dt=as;return P.toneMapped&&(Ce===null||Ce.isXRRenderTarget===!0)&&(Dt=n.toneMapping),{isWebGL2:d,shaderID:k,shaderType:P.type,shaderName:P.name,vertexShader:Y,fragmentShader:q,defines:P.defines,customVertexShaderID:ae,customFragmentShaderID:_e,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,batching:st,instancing:nt,instancingColor:nt&&oe.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Ce===null?n.outputColorSpace:Ce.isXRRenderTarget===!0?Ce.texture.colorSpace:cs,map:je,matcap:Qe,envMap:G,envMapMode:G&&ce.mapping,envMapCubeUVHeight:N,aoMap:Ee,lightMap:me,bumpMap:Ae,normalMap:ge,displacementMap:p&&Ke,emissiveMap:Ne,normalMapObjectSpace:ge&&P.normalMapType===JC,normalMapTangentSpace:ge&&P.normalMapType===qo,metalnessMap:U,roughnessMap:I,anisotropy:re,anisotropyMap:Ie,clearcoat:Se,clearcoatMap:Be,clearcoatNormalMap:it,clearcoatRoughnessMap:gt,iridescence:xe,iridescenceMap:Me,iridescenceThicknessMap:Lt,sheen:ve,sheenColorMap:St,sheenRoughnessMap:ht,specularMap:tt,specularColorMap:He,specularIntensityMap:X,transmission:Ye,transmissionMap:ye,thicknessMap:ke,gradientMap:Oe,opaque:P.transparent===!1&&P.blending===Fa,alphaMap:we,alphaTest:j,alphaHash:Re,combine:P.combine,mapUv:je&&_(P.map.channel),aoMapUv:Ee&&_(P.aoMap.channel),lightMapUv:me&&_(P.lightMap.channel),bumpMapUv:Ae&&_(P.bumpMap.channel),normalMapUv:ge&&_(P.normalMap.channel),displacementMapUv:Ke&&_(P.displacementMap.channel),emissiveMapUv:Ne&&_(P.emissiveMap.channel),metalnessMapUv:U&&_(P.metalnessMap.channel),roughnessMapUv:I&&_(P.roughnessMap.channel),anisotropyMapUv:Ie&&_(P.anisotropyMap.channel),clearcoatMapUv:Be&&_(P.clearcoatMap.channel),clearcoatNormalMapUv:it&&_(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:gt&&_(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Me&&_(P.iridescenceMap.channel),iridescenceThicknessMapUv:Lt&&_(P.iridescenceThicknessMap.channel),sheenColorMapUv:St&&_(P.sheenColorMap.channel),sheenRoughnessMapUv:ht&&_(P.sheenRoughnessMap.channel),specularMapUv:tt&&_(P.specularMap.channel),specularColorMapUv:He&&_(P.specularColorMap.channel),specularIntensityMapUv:X&&_(P.specularIntensityMap.channel),transmissionMapUv:ye&&_(P.transmissionMap.channel),thicknessMapUv:ke&&_(P.thicknessMap.channel),alphaMapUv:we&&_(P.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(ge||re),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,vertexUv1s:ot,vertexUv2s:qe,vertexUv3s:Pt,pointsUvs:oe.isPoints===!0&&!!$.attributes.uv&&(je||we),fog:!!H,useFog:P.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:h,skinning:oe.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:Z,morphTextureStride:ee,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:n.shadowMap.enabled&&V.length>0,shadowMapType:n.shadowMap.type,toneMapping:Dt,useLegacyLights:n._useLegacyLights,decodeVideoTexture:je&&P.map.isVideoTexture===!0&&Vt.getTransfer(P.map.colorSpace)===Yt,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===is,flipSided:P.side===wi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:De&&P.extensions.derivatives===!0,extensionFragDepth:De&&P.extensions.fragDepth===!0,extensionDrawBuffers:De&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:De&&P.extensions.shaderTextureLOD===!0,extensionClipCullDistance:De&&P.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:d||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:d||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:d||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()}}function g(P){const R=[];if(P.shaderID?R.push(P.shaderID):(R.push(P.customVertexShaderID),R.push(P.customFragmentShaderID)),P.defines!==void 0)for(const V in P.defines)R.push(V),R.push(P.defines[V]);return P.isRawShaderMaterial===!1&&(S(R,P),w(R,P),R.push(n.outputColorSpace)),R.push(P.customProgramCacheKey),R.join()}function S(P,R){P.push(R.precision),P.push(R.outputColorSpace),P.push(R.envMapMode),P.push(R.envMapCubeUVHeight),P.push(R.mapUv),P.push(R.alphaMapUv),P.push(R.lightMapUv),P.push(R.aoMapUv),P.push(R.bumpMapUv),P.push(R.normalMapUv),P.push(R.displacementMapUv),P.push(R.emissiveMapUv),P.push(R.metalnessMapUv),P.push(R.roughnessMapUv),P.push(R.anisotropyMapUv),P.push(R.clearcoatMapUv),P.push(R.clearcoatNormalMapUv),P.push(R.clearcoatRoughnessMapUv),P.push(R.iridescenceMapUv),P.push(R.iridescenceThicknessMapUv),P.push(R.sheenColorMapUv),P.push(R.sheenRoughnessMapUv),P.push(R.specularMapUv),P.push(R.specularColorMapUv),P.push(R.specularIntensityMapUv),P.push(R.transmissionMapUv),P.push(R.thicknessMapUv),P.push(R.combine),P.push(R.fogExp2),P.push(R.sizeAttenuation),P.push(R.morphTargetsCount),P.push(R.morphAttributeCount),P.push(R.numDirLights),P.push(R.numPointLights),P.push(R.numSpotLights),P.push(R.numSpotLightMaps),P.push(R.numHemiLights),P.push(R.numRectAreaLights),P.push(R.numDirLightShadows),P.push(R.numPointLightShadows),P.push(R.numSpotLightShadows),P.push(R.numSpotLightShadowsWithMaps),P.push(R.numLightProbes),P.push(R.shadowMapType),P.push(R.toneMapping),P.push(R.numClippingPlanes),P.push(R.numClipIntersection),P.push(R.depthPacking)}function w(P,R){a.disableAll(),R.isWebGL2&&a.enable(0),R.supportsVertexTextures&&a.enable(1),R.instancing&&a.enable(2),R.instancingColor&&a.enable(3),R.matcap&&a.enable(4),R.envMap&&a.enable(5),R.normalMapObjectSpace&&a.enable(6),R.normalMapTangentSpace&&a.enable(7),R.clearcoat&&a.enable(8),R.iridescence&&a.enable(9),R.alphaTest&&a.enable(10),R.vertexColors&&a.enable(11),R.vertexAlphas&&a.enable(12),R.vertexUv1s&&a.enable(13),R.vertexUv2s&&a.enable(14),R.vertexUv3s&&a.enable(15),R.vertexTangents&&a.enable(16),R.anisotropy&&a.enable(17),R.alphaHash&&a.enable(18),R.batching&&a.enable(19),P.push(a.mask),a.disableAll(),R.fog&&a.enable(0),R.useFog&&a.enable(1),R.flatShading&&a.enable(2),R.logarithmicDepthBuffer&&a.enable(3),R.skinning&&a.enable(4),R.morphTargets&&a.enable(5),R.morphNormals&&a.enable(6),R.morphColors&&a.enable(7),R.premultipliedAlpha&&a.enable(8),R.shadowMapEnabled&&a.enable(9),R.useLegacyLights&&a.enable(10),R.doubleSided&&a.enable(11),R.flipSided&&a.enable(12),R.useDepthPacking&&a.enable(13),R.dithering&&a.enable(14),R.transmission&&a.enable(15),R.sheen&&a.enable(16),R.opaque&&a.enable(17),R.pointsUvs&&a.enable(18),R.decodeVideoTexture&&a.enable(19),P.push(a.mask)}function T(P){const R=y[P.type];let V;if(R){const K=Ir[R];V=f8.clone(K.uniforms)}else V=P.uniforms;return V}function b(P,R){let V;for(let K=0,oe=f.length;K<oe;K++){const H=f[K];if(H.cacheKey===R){V=H,++V.usedTimes;break}}return V===void 0&&(V=new sH(n,R,P,s),f.push(V)),V}function C(P){if(--P.usedTimes===0){const R=f.indexOf(P);f[R]=f[f.length-1],f.pop(),P.destroy()}}function L(P){l.remove(P)}function D(){l.dispose()}return{getParameters:x,getProgramCacheKey:g,getUniforms:T,acquireProgram:b,releaseProgram:C,releaseShaderCache:L,programs:f,dispose:D}}function cH(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function i(s,o,a){n.get(s)[o]=a}function r(){n=new WeakMap}return{get:e,remove:t,update:i,dispose:r}}function fH(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function Yw(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function qw(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(h,p,m,y,_,x){let g=n[e];return g===void 0?(g={id:h.id,object:h,geometry:p,material:m,groupOrder:y,renderOrder:h.renderOrder,z:_,group:x},n[e]=g):(g.id=h.id,g.object=h,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=h.renderOrder,g.z=_,g.group=x),e++,g}function a(h,p,m,y,_,x){const g=o(h,p,m,y,_,x);m.transmission>0?i.push(g):m.transparent===!0?r.push(g):t.push(g)}function l(h,p,m,y,_,x){const g=o(h,p,m,y,_,x);m.transmission>0?i.unshift(g):m.transparent===!0?r.unshift(g):t.unshift(g)}function f(h,p){t.length>1&&t.sort(h||fH),i.length>1&&i.sort(p||Yw),r.length>1&&r.sort(p||Yw)}function d(){for(let h=e,p=n.length;h<p;h++){const m=n[h];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:d,sort:f}}function dH(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new qw,n.set(i,[o])):r>=s.length?(o=new qw,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function hH(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new F,color:new ze};break;case"SpotLight":t={position:new F,direction:new F,color:new ze,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new F,color:new ze,distance:0,decay:0};break;case"HemisphereLight":t={direction:new F,skyColor:new ze,groundColor:new ze};break;case"RectAreaLight":t={color:new ze,position:new F,halfWidth:new F,halfHeight:new F};break}return n[e.id]=t,t}}}function pH(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new pe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let mH=0;function gH(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function vH(n,e){const t=new hH,i=pH(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new F);const s=new F,o=new pt,a=new pt;function l(d,h){let p=0,m=0,y=0;for(let K=0;K<9;K++)r.probe[K].set(0,0,0);let _=0,x=0,g=0,S=0,w=0,T=0,b=0,C=0,L=0,D=0,P=0;d.sort(gH);const R=h===!0?Math.PI:1;for(let K=0,oe=d.length;K<oe;K++){const H=d[K],$=H.color,te=H.intensity,ce=H.distance,N=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)p+=$.r*te*R,m+=$.g*te*R,y+=$.b*te*R;else if(H.isLightProbe){for(let k=0;k<9;k++)r.probe[k].addScaledVector(H.sh.coefficients[k],te);P++}else if(H.isDirectionalLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*R),H.castShadow){const B=H.shadow,Z=i.get(H);Z.shadowBias=B.bias,Z.shadowNormalBias=B.normalBias,Z.shadowRadius=B.radius,Z.shadowMapSize=B.mapSize,r.directionalShadow[_]=Z,r.directionalShadowMap[_]=N,r.directionalShadowMatrix[_]=H.shadow.matrix,T++}r.directional[_]=k,_++}else if(H.isSpotLight){const k=t.get(H);k.position.setFromMatrixPosition(H.matrixWorld),k.color.copy($).multiplyScalar(te*R),k.distance=ce,k.coneCos=Math.cos(H.angle),k.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),k.decay=H.decay,r.spot[g]=k;const B=H.shadow;if(H.map&&(r.spotLightMap[L]=H.map,L++,B.updateMatrices(H),H.castShadow&&D++),r.spotLightMatrix[g]=B.matrix,H.castShadow){const Z=i.get(H);Z.shadowBias=B.bias,Z.shadowNormalBias=B.normalBias,Z.shadowRadius=B.radius,Z.shadowMapSize=B.mapSize,r.spotShadow[g]=Z,r.spotShadowMap[g]=N,C++}g++}else if(H.isRectAreaLight){const k=t.get(H);k.color.copy($).multiplyScalar(te),k.halfWidth.set(H.width*.5,0,0),k.halfHeight.set(0,H.height*.5,0),r.rectArea[S]=k,S++}else if(H.isPointLight){const k=t.get(H);if(k.color.copy(H.color).multiplyScalar(H.intensity*R),k.distance=H.distance,k.decay=H.decay,H.castShadow){const B=H.shadow,Z=i.get(H);Z.shadowBias=B.bias,Z.shadowNormalBias=B.normalBias,Z.shadowRadius=B.radius,Z.shadowMapSize=B.mapSize,Z.shadowCameraNear=B.camera.near,Z.shadowCameraFar=B.camera.far,r.pointShadow[x]=Z,r.pointShadowMap[x]=N,r.pointShadowMatrix[x]=H.shadow.matrix,b++}r.point[x]=k,x++}else if(H.isHemisphereLight){const k=t.get(H);k.skyColor.copy(H.color).multiplyScalar(te*R),k.groundColor.copy(H.groundColor).multiplyScalar(te*R),r.hemi[w]=k,w++}}S>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_FLOAT_1,r.rectAreaLTC2=Le.LTC_FLOAT_2):(r.rectAreaLTC1=Le.LTC_HALF_1,r.rectAreaLTC2=Le.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_FLOAT_1,r.rectAreaLTC2=Le.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=Le.LTC_HALF_1,r.rectAreaLTC2=Le.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=p,r.ambient[1]=m,r.ambient[2]=y;const V=r.hash;(V.directionalLength!==_||V.pointLength!==x||V.spotLength!==g||V.rectAreaLength!==S||V.hemiLength!==w||V.numDirectionalShadows!==T||V.numPointShadows!==b||V.numSpotShadows!==C||V.numSpotMaps!==L||V.numLightProbes!==P)&&(r.directional.length=_,r.spot.length=g,r.rectArea.length=S,r.point.length=x,r.hemi.length=w,r.directionalShadow.length=T,r.directionalShadowMap.length=T,r.pointShadow.length=b,r.pointShadowMap.length=b,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=T,r.pointShadowMatrix.length=b,r.spotLightMatrix.length=C+L-D,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=D,r.numLightProbes=P,V.directionalLength=_,V.pointLength=x,V.spotLength=g,V.rectAreaLength=S,V.hemiLength=w,V.numDirectionalShadows=T,V.numPointShadows=b,V.numSpotShadows=C,V.numSpotMaps=L,V.numLightProbes=P,r.version=mH++)}function f(d,h){let p=0,m=0,y=0,_=0,x=0;const g=h.matrixWorldInverse;for(let S=0,w=d.length;S<w;S++){const T=d[S];if(T.isDirectionalLight){const b=r.directional[p];b.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),p++}else if(T.isSpotLight){const b=r.spot[y];b.position.setFromMatrixPosition(T.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(T.matrixWorld),s.setFromMatrixPosition(T.target.matrixWorld),b.direction.sub(s),b.direction.transformDirection(g),y++}else if(T.isRectAreaLight){const b=r.rectArea[_];b.position.setFromMatrixPosition(T.matrixWorld),b.position.applyMatrix4(g),a.identity(),o.copy(T.matrixWorld),o.premultiply(g),a.extractRotation(o),b.halfWidth.set(T.width*.5,0,0),b.halfHeight.set(0,T.height*.5,0),b.halfWidth.applyMatrix4(a),b.halfHeight.applyMatrix4(a),_++}else if(T.isPointLight){const b=r.point[m];b.position.setFromMatrixPosition(T.matrixWorld),b.position.applyMatrix4(g),m++}else if(T.isHemisphereLight){const b=r.hemi[x];b.direction.setFromMatrixPosition(T.matrixWorld),b.direction.transformDirection(g),x++}}}return{setup:l,setupView:f,state:r}}function Zw(n,e){const t=new vH(n,e),i=[],r=[];function s(){i.length=0,r.length=0}function o(h){i.push(h)}function a(h){r.push(h)}function l(h){t.setup(i,h)}function f(h){t.setupView(i,h)}return{init:s,state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:l,setupLightsView:f,pushLight:o,pushShadow:a}}function yH(n,e){let t=new WeakMap;function i(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new Zw(n,e),t.set(s,[l])):o>=a.length?(l=new Zw(n,e),a.push(l)):l=a[o],l}function r(){t=new WeakMap}return{get:i,dispose:r}}class O_ extends pi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=ZC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class F_ extends pi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_H=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function SH(n,e,t){let i=new Sd;const r=new pe,s=new pe,o=new Ht,a=new O_({depthPacking:KC}),l=new F_,f={},d=t.maxTextureSize,h={[Gs]:wi,[wi]:Gs,[is]:is},p=new fs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new pe},radius:{value:4}},vertexShader:xH,fragmentShader:_H}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new Et;y.setAttribute("position",new Wt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new Nn(y,p),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bm;let g=this.type;this.render=function(C,L,D){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||C.length===0)return;const P=n.getRenderTarget(),R=n.getActiveCubeFace(),V=n.getActiveMipmapLevel(),K=n.state;K.setBlending(Us),K.buffers.color.setClear(1,1,1,1),K.buffers.depth.setTest(!0),K.setScissorTest(!1);const oe=g!==br&&this.type===br,H=g===br&&this.type!==br;for(let $=0,te=C.length;$<te;$++){const ce=C[$],N=ce.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",ce,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;r.copy(N.mapSize);const k=N.getFrameExtents();if(r.multiply(k),s.copy(N.mapSize),(r.x>d||r.y>d)&&(r.x>d&&(s.x=Math.floor(d/k.x),r.x=s.x*k.x,N.mapSize.x=s.x),r.y>d&&(s.y=Math.floor(d/k.y),r.y=s.y*k.y,N.mapSize.y=s.y)),N.map===null||oe===!0||H===!0){const Z=this.type!==br?{minFilter:_n,magFilter:_n}:{};N.map!==null&&N.map.dispose(),N.map=new Vr(r.x,r.y,Z),N.map.texture.name=ce.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const B=N.getViewportCount();for(let Z=0;Z<B;Z++){const ee=N.getViewport(Z);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),K.viewport(o),N.updateMatrices(ce,Z),i=N.getFrustum(),T(L,D,N.camera,ce,this.type)}N.isPointLightShadow!==!0&&this.type===br&&S(N,D),N.needsUpdate=!1}g=this.type,x.needsUpdate=!1,n.setRenderTarget(P,R,V)};function S(C,L){const D=e.update(_);p.defines.VSM_SAMPLES!==C.blurSamples&&(p.defines.VSM_SAMPLES=C.blurSamples,m.defines.VSM_SAMPLES=C.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Vr(r.x,r.y)),p.uniforms.shadow_pass.value=C.map.texture,p.uniforms.resolution.value=C.mapSize,p.uniforms.radius.value=C.radius,n.setRenderTarget(C.mapPass),n.clear(),n.renderBufferDirect(L,null,D,p,_,null),m.uniforms.shadow_pass.value=C.mapPass.texture,m.uniforms.resolution.value=C.mapSize,m.uniforms.radius.value=C.radius,n.setRenderTarget(C.map),n.clear(),n.renderBufferDirect(L,null,D,m,_,null)}function w(C,L,D,P){let R=null;const V=D.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(V!==void 0)R=V;else if(R=D.isPointLight===!0?l:a,n.localClippingEnabled&&L.clipShadows===!0&&Array.isArray(L.clippingPlanes)&&L.clippingPlanes.length!==0||L.displacementMap&&L.displacementScale!==0||L.alphaMap&&L.alphaTest>0||L.map&&L.alphaTest>0){const K=R.uuid,oe=L.uuid;let H=f[K];H===void 0&&(H={},f[K]=H);let $=H[oe];$===void 0&&($=R.clone(),H[oe]=$,L.addEventListener("dispose",b)),R=$}if(R.visible=L.visible,R.wireframe=L.wireframe,P===br?R.side=L.shadowSide!==null?L.shadowSide:L.side:R.side=L.shadowSide!==null?L.shadowSide:h[L.side],R.alphaMap=L.alphaMap,R.alphaTest=L.alphaTest,R.map=L.map,R.clipShadows=L.clipShadows,R.clippingPlanes=L.clippingPlanes,R.clipIntersection=L.clipIntersection,R.displacementMap=L.displacementMap,R.displacementScale=L.displacementScale,R.displacementBias=L.displacementBias,R.wireframeLinewidth=L.wireframeLinewidth,R.linewidth=L.linewidth,D.isPointLight===!0&&R.isMeshDistanceMaterial===!0){const K=n.properties.get(R);K.light=D}return R}function T(C,L,D,P,R){if(C.visible===!1)return;if(C.layers.test(L.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&R===br)&&(!C.frustumCulled||i.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,C.matrixWorld);const oe=e.update(C),H=C.material;if(Array.isArray(H)){const $=oe.groups;for(let te=0,ce=$.length;te<ce;te++){const N=$[te],k=H[N.materialIndex];if(k&&k.visible){const B=w(C,k,P,R);C.onBeforeShadow(n,C,L,D,oe,B,N),n.renderBufferDirect(D,null,oe,B,C,N),C.onAfterShadow(n,C,L,D,oe,B,N)}}}else if(H.visible){const $=w(C,H,P,R);C.onBeforeShadow(n,C,L,D,oe,$,null),n.renderBufferDirect(D,null,oe,$,C,null),C.onAfterShadow(n,C,L,D,oe,$,null)}}const K=C.children;for(let oe=0,H=K.length;oe<H;oe++)T(K[oe],L,D,P,R)}function b(C){C.target.removeEventListener("dispose",b);for(const D in f){const P=f[D],R=C.target.uuid;R in P&&(P[R].dispose(),delete P[R])}}}function MH(n,e,t){const i=t.isWebGL2;function r(){let j=!1;const Re=new Ht;let De=null;const ot=new Ht(0,0,0,0);return{setMask:function(qe){De!==qe&&!j&&(n.colorMask(qe,qe,qe,qe),De=qe)},setLocked:function(qe){j=qe},setClear:function(qe,Pt,Dt,Xt,en){en===!0&&(qe*=Xt,Pt*=Xt,Dt*=Xt),Re.set(qe,Pt,Dt,Xt),ot.equals(Re)===!1&&(n.clearColor(qe,Pt,Dt,Xt),ot.copy(Re))},reset:function(){j=!1,De=null,ot.set(-1,0,0,0)}}}function s(){let j=!1,Re=null,De=null,ot=null;return{setTest:function(qe){qe?st(n.DEPTH_TEST):je(n.DEPTH_TEST)},setMask:function(qe){Re!==qe&&!j&&(n.depthMask(qe),Re=qe)},setFunc:function(qe){if(De!==qe){switch(qe){case wC:n.depthFunc(n.NEVER);break;case EC:n.depthFunc(n.ALWAYS);break;case TC:n.depthFunc(n.LESS);break;case Ff:n.depthFunc(n.LEQUAL);break;case AC:n.depthFunc(n.EQUAL);break;case CC:n.depthFunc(n.GEQUAL);break;case bC:n.depthFunc(n.GREATER);break;case PC:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}De=qe}},setLocked:function(qe){j=qe},setClear:function(qe){ot!==qe&&(n.clearDepth(qe),ot=qe)},reset:function(){j=!1,Re=null,De=null,ot=null}}}function o(){let j=!1,Re=null,De=null,ot=null,qe=null,Pt=null,Dt=null,Xt=null,en=null;return{setTest:function(Nt){j||(Nt?st(n.STENCIL_TEST):je(n.STENCIL_TEST))},setMask:function(Nt){Re!==Nt&&!j&&(n.stencilMask(Nt),Re=Nt)},setFunc:function(Nt,jn,tr){(De!==Nt||ot!==jn||qe!==tr)&&(n.stencilFunc(Nt,jn,tr),De=Nt,ot=jn,qe=tr)},setOp:function(Nt,jn,tr){(Pt!==Nt||Dt!==jn||Xt!==tr)&&(n.stencilOp(Nt,jn,tr),Pt=Nt,Dt=jn,Xt=tr)},setLocked:function(Nt){j=Nt},setClear:function(Nt){en!==Nt&&(n.clearStencil(Nt),en=Nt)},reset:function(){j=!1,Re=null,De=null,ot=null,qe=null,Pt=null,Dt=null,Xt=null,en=null}}}const a=new r,l=new s,f=new o,d=new WeakMap,h=new WeakMap;let p={},m={},y=new WeakMap,_=[],x=null,g=!1,S=null,w=null,T=null,b=null,C=null,L=null,D=null,P=new ze(0,0,0),R=0,V=!1,K=null,oe=null,H=null,$=null,te=null;const ce=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let N=!1,k=0;const B=n.getParameter(n.VERSION);B.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(B)[1]),N=k>=1):B.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(B)[1]),N=k>=2);let Z=null,ee={};const Y=n.getParameter(n.SCISSOR_BOX),q=n.getParameter(n.VIEWPORT),ae=new Ht().fromArray(Y),_e=new Ht().fromArray(q);function Ce(j,Re,De,ot){const qe=new Uint8Array(4),Pt=n.createTexture();n.bindTexture(j,Pt),n.texParameteri(j,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(j,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Dt=0;Dt<De;Dt++)i&&(j===n.TEXTURE_3D||j===n.TEXTURE_2D_ARRAY)?n.texImage3D(Re,0,n.RGBA,1,1,ot,0,n.RGBA,n.UNSIGNED_BYTE,qe):n.texImage2D(Re+Dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,qe);return Pt}const nt={};nt[n.TEXTURE_2D]=Ce(n.TEXTURE_2D,n.TEXTURE_2D,1),nt[n.TEXTURE_CUBE_MAP]=Ce(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(nt[n.TEXTURE_2D_ARRAY]=Ce(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),nt[n.TEXTURE_3D]=Ce(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),f.setClear(0),st(n.DEPTH_TEST),l.setFunc(Ff),Ne(!1),U(t2),st(n.CULL_FACE),ge(Us);function st(j){p[j]!==!0&&(n.enable(j),p[j]=!0)}function je(j){p[j]!==!1&&(n.disable(j),p[j]=!1)}function Qe(j,Re){return m[j]!==Re?(n.bindFramebuffer(j,Re),m[j]=Re,i&&(j===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=Re),j===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=Re)),!0):!1}function G(j,Re){let De=_,ot=!1;if(j)if(De=y.get(Re),De===void 0&&(De=[],y.set(Re,De)),j.isWebGLMultipleRenderTargets){const qe=j.texture;if(De.length!==qe.length||De[0]!==n.COLOR_ATTACHMENT0){for(let Pt=0,Dt=qe.length;Pt<Dt;Pt++)De[Pt]=n.COLOR_ATTACHMENT0+Pt;De.length=qe.length,ot=!0}}else De[0]!==n.COLOR_ATTACHMENT0&&(De[0]=n.COLOR_ATTACHMENT0,ot=!0);else De[0]!==n.BACK&&(De[0]=n.BACK,ot=!0);ot&&(t.isWebGL2?n.drawBuffers(De):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(De))}function Ee(j){return x!==j?(n.useProgram(j),x=j,!0):!1}const me={[_o]:n.FUNC_ADD,[lC]:n.FUNC_SUBTRACT,[uC]:n.FUNC_REVERSE_SUBTRACT};if(i)me[r2]=n.MIN,me[s2]=n.MAX;else{const j=e.get("EXT_blend_minmax");j!==null&&(me[r2]=j.MIN_EXT,me[s2]=j.MAX_EXT)}const Ae={[cC]:n.ZERO,[fC]:n.ONE,[dC]:n.SRC_COLOR,[Y0]:n.SRC_ALPHA,[yC]:n.SRC_ALPHA_SATURATE,[gC]:n.DST_COLOR,[pC]:n.DST_ALPHA,[hC]:n.ONE_MINUS_SRC_COLOR,[q0]:n.ONE_MINUS_SRC_ALPHA,[vC]:n.ONE_MINUS_DST_COLOR,[mC]:n.ONE_MINUS_DST_ALPHA,[xC]:n.CONSTANT_COLOR,[_C]:n.ONE_MINUS_CONSTANT_COLOR,[SC]:n.CONSTANT_ALPHA,[MC]:n.ONE_MINUS_CONSTANT_ALPHA};function ge(j,Re,De,ot,qe,Pt,Dt,Xt,en,Nt){if(j===Us){g===!0&&(je(n.BLEND),g=!1);return}if(g===!1&&(st(n.BLEND),g=!0),j!==aC){if(j!==S||Nt!==V){if((w!==_o||C!==_o)&&(n.blendEquation(n.FUNC_ADD),w=_o,C=_o),Nt)switch(j){case Fa:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Of:n.blendFunc(n.ONE,n.ONE);break;case n2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case i2:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}else switch(j){case Fa:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Of:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case n2:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case i2:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",j);break}T=null,b=null,L=null,D=null,P.set(0,0,0),R=0,S=j,V=Nt}return}qe=qe||Re,Pt=Pt||De,Dt=Dt||ot,(Re!==w||qe!==C)&&(n.blendEquationSeparate(me[Re],me[qe]),w=Re,C=qe),(De!==T||ot!==b||Pt!==L||Dt!==D)&&(n.blendFuncSeparate(Ae[De],Ae[ot],Ae[Pt],Ae[Dt]),T=De,b=ot,L=Pt,D=Dt),(Xt.equals(P)===!1||en!==R)&&(n.blendColor(Xt.r,Xt.g,Xt.b,en),P.copy(Xt),R=en),S=j,V=!1}function Ke(j,Re){j.side===is?je(n.CULL_FACE):st(n.CULL_FACE);let De=j.side===wi;Re&&(De=!De),Ne(De),j.blending===Fa&&j.transparent===!1?ge(Us):ge(j.blending,j.blendEquation,j.blendSrc,j.blendDst,j.blendEquationAlpha,j.blendSrcAlpha,j.blendDstAlpha,j.blendColor,j.blendAlpha,j.premultipliedAlpha),l.setFunc(j.depthFunc),l.setTest(j.depthTest),l.setMask(j.depthWrite),a.setMask(j.colorWrite);const ot=j.stencilWrite;f.setTest(ot),ot&&(f.setMask(j.stencilWriteMask),f.setFunc(j.stencilFunc,j.stencilRef,j.stencilFuncMask),f.setOp(j.stencilFail,j.stencilZFail,j.stencilZPass)),re(j.polygonOffset,j.polygonOffsetFactor,j.polygonOffsetUnits),j.alphaToCoverage===!0?st(n.SAMPLE_ALPHA_TO_COVERAGE):je(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ne(j){K!==j&&(j?n.frontFace(n.CW):n.frontFace(n.CCW),K=j)}function U(j){j!==rC?(st(n.CULL_FACE),j!==oe&&(j===t2?n.cullFace(n.BACK):j===sC?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):je(n.CULL_FACE),oe=j}function I(j){j!==H&&(N&&n.lineWidth(j),H=j)}function re(j,Re,De){j?(st(n.POLYGON_OFFSET_FILL),($!==Re||te!==De)&&(n.polygonOffset(Re,De),$=Re,te=De)):je(n.POLYGON_OFFSET_FILL)}function Se(j){j?st(n.SCISSOR_TEST):je(n.SCISSOR_TEST)}function xe(j){j===void 0&&(j=n.TEXTURE0+ce-1),Z!==j&&(n.activeTexture(j),Z=j)}function ve(j,Re,De){De===void 0&&(Z===null?De=n.TEXTURE0+ce-1:De=Z);let ot=ee[De];ot===void 0&&(ot={type:void 0,texture:void 0},ee[De]=ot),(ot.type!==j||ot.texture!==Re)&&(Z!==De&&(n.activeTexture(De),Z=De),n.bindTexture(j,Re||nt[j]),ot.type=j,ot.texture=Re)}function Ye(){const j=ee[Z];j!==void 0&&j.type!==void 0&&(n.bindTexture(j.type,null),j.type=void 0,j.texture=void 0)}function Ie(){try{n.compressedTexImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Be(){try{n.compressedTexImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function it(){try{n.texSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function gt(){try{n.texSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Me(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function Lt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function St(){try{n.texStorage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function ht(){try{n.texStorage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function tt(){try{n.texImage2D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function He(){try{n.texImage3D.apply(n,arguments)}catch(j){console.error("THREE.WebGLState:",j)}}function X(j){ae.equals(j)===!1&&(n.scissor(j.x,j.y,j.z,j.w),ae.copy(j))}function ye(j){_e.equals(j)===!1&&(n.viewport(j.x,j.y,j.z,j.w),_e.copy(j))}function ke(j,Re){let De=h.get(Re);De===void 0&&(De=new WeakMap,h.set(Re,De));let ot=De.get(j);ot===void 0&&(ot=n.getUniformBlockIndex(Re,j.name),De.set(j,ot))}function Oe(j,Re){const ot=h.get(Re).get(j);d.get(Re)!==ot&&(n.uniformBlockBinding(Re,ot,j.__bindingPointIndex),d.set(Re,ot))}function we(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),i===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},Z=null,ee={},m={},y=new WeakMap,_=[],x=null,g=!1,S=null,w=null,T=null,b=null,C=null,L=null,D=null,P=new ze(0,0,0),R=0,V=!1,K=null,oe=null,H=null,$=null,te=null,ae.set(0,0,n.canvas.width,n.canvas.height),_e.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),f.reset()}return{buffers:{color:a,depth:l,stencil:f},enable:st,disable:je,bindFramebuffer:Qe,drawBuffers:G,useProgram:Ee,setBlending:ge,setMaterial:Ke,setFlipSided:Ne,setCullFace:U,setLineWidth:I,setPolygonOffset:re,setScissorTest:Se,activeTexture:xe,bindTexture:ve,unbindTexture:Ye,compressedTexImage2D:Ie,compressedTexImage3D:Be,texImage2D:tt,texImage3D:He,updateUBOMapping:ke,uniformBlockBinding:Oe,texStorage2D:St,texStorage3D:ht,texSubImage2D:it,texSubImage3D:gt,compressedTexSubImage2D:Me,compressedTexSubImage3D:Lt,scissor:X,viewport:ye,reset:we}}function wH(n,e,t,i,r,s,o){const a=r.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new WeakMap;let h;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(U,I){return m?new OffscreenCanvas(U,I):Zf("canvas")}function _(U,I,re,Se){let xe=1;if((U.width>Se||U.height>Se)&&(xe=Se/Math.max(U.width,U.height)),xe<1||I===!0)if(typeof HTMLImageElement!="undefined"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&U instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&U instanceof ImageBitmap){const ve=I?J0:Math.floor,Ye=ve(xe*U.width),Ie=ve(xe*U.height);h===void 0&&(h=y(Ye,Ie));const Be=re?y(Ye,Ie):h;return Be.width=Ye,Be.height=Ie,Be.getContext("2d").drawImage(U,0,0,Ye,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Ye+"x"+Ie+")."),Be}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function x(U){return N2(U.width)&&N2(U.height)}function g(U){return a?!1:U.wrapS!==ci||U.wrapT!==ci||U.minFilter!==_n&&U.minFilter!==Mn}function S(U,I){return U.generateMipmaps&&I&&U.minFilter!==_n&&U.minFilter!==Mn}function w(U){n.generateMipmap(U)}function T(U,I,re,Se,xe=!1){if(a===!1)return I;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let ve=I;if(I===n.RED&&(re===n.FLOAT&&(ve=n.R32F),re===n.HALF_FLOAT&&(ve=n.R16F),re===n.UNSIGNED_BYTE&&(ve=n.R8)),I===n.RED_INTEGER&&(re===n.UNSIGNED_BYTE&&(ve=n.R8UI),re===n.UNSIGNED_SHORT&&(ve=n.R16UI),re===n.UNSIGNED_INT&&(ve=n.R32UI),re===n.BYTE&&(ve=n.R8I),re===n.SHORT&&(ve=n.R16I),re===n.INT&&(ve=n.R32I)),I===n.RG&&(re===n.FLOAT&&(ve=n.RG32F),re===n.HALF_FLOAT&&(ve=n.RG16F),re===n.UNSIGNED_BYTE&&(ve=n.RG8)),I===n.RGBA){const Ye=xe?Xf:Vt.getTransfer(Se);re===n.FLOAT&&(ve=n.RGBA32F),re===n.HALF_FLOAT&&(ve=n.RGBA16F),re===n.UNSIGNED_BYTE&&(ve=Ye===Yt?n.SRGB8_ALPHA8:n.RGBA8),re===n.UNSIGNED_SHORT_4_4_4_4&&(ve=n.RGBA4),re===n.UNSIGNED_SHORT_5_5_5_1&&(ve=n.RGB5_A1)}return(ve===n.R16F||ve===n.R32F||ve===n.RG16F||ve===n.RG32F||ve===n.RGBA16F||ve===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ve}function b(U,I,re){return S(U,re)===!0||U.isFramebufferTexture&&U.minFilter!==_n&&U.minFilter!==Mn?Math.log2(Math.max(I.width,I.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?I.mipmaps.length:1}function C(U){return U===_n||U===Z0||U===of?n.NEAREST:n.LINEAR}function L(U){const I=U.target;I.removeEventListener("dispose",L),P(I),I.isVideoTexture&&d.delete(I)}function D(U){const I=U.target;I.removeEventListener("dispose",D),V(I)}function P(U){const I=i.get(U);if(I.__webglInit===void 0)return;const re=U.source,Se=p.get(re);if(Se){const xe=Se[I.__cacheKey];xe.usedTimes--,xe.usedTimes===0&&R(U),Object.keys(Se).length===0&&p.delete(re)}i.remove(U)}function R(U){const I=i.get(U);n.deleteTexture(I.__webglTexture);const re=U.source,Se=p.get(re);delete Se[I.__cacheKey],o.memory.textures--}function V(U){const I=U.texture,re=i.get(U),Se=i.get(I);if(Se.__webglTexture!==void 0&&(n.deleteTexture(Se.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(re.__webglFramebuffer[xe]))for(let ve=0;ve<re.__webglFramebuffer[xe].length;ve++)n.deleteFramebuffer(re.__webglFramebuffer[xe][ve]);else n.deleteFramebuffer(re.__webglFramebuffer[xe]);re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer[xe])}else{if(Array.isArray(re.__webglFramebuffer))for(let xe=0;xe<re.__webglFramebuffer.length;xe++)n.deleteFramebuffer(re.__webglFramebuffer[xe]);else n.deleteFramebuffer(re.__webglFramebuffer);if(re.__webglDepthbuffer&&n.deleteRenderbuffer(re.__webglDepthbuffer),re.__webglMultisampledFramebuffer&&n.deleteFramebuffer(re.__webglMultisampledFramebuffer),re.__webglColorRenderbuffer)for(let xe=0;xe<re.__webglColorRenderbuffer.length;xe++)re.__webglColorRenderbuffer[xe]&&n.deleteRenderbuffer(re.__webglColorRenderbuffer[xe]);re.__webglDepthRenderbuffer&&n.deleteRenderbuffer(re.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let xe=0,ve=I.length;xe<ve;xe++){const Ye=i.get(I[xe]);Ye.__webglTexture&&(n.deleteTexture(Ye.__webglTexture),o.memory.textures--),i.remove(I[xe])}i.remove(I),i.remove(U)}let K=0;function oe(){K=0}function H(){const U=K;return U>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+r.maxTextures),K+=1,U}function $(U){const I=[];return I.push(U.wrapS),I.push(U.wrapT),I.push(U.wrapR||0),I.push(U.magFilter),I.push(U.minFilter),I.push(U.anisotropy),I.push(U.internalFormat),I.push(U.format),I.push(U.type),I.push(U.generateMipmaps),I.push(U.premultiplyAlpha),I.push(U.flipY),I.push(U.unpackAlignment),I.push(U.colorSpace),I.join()}function te(U,I){const re=i.get(U);if(U.isVideoTexture&&Ke(U),U.isRenderTargetTexture===!1&&U.version>0&&re.__version!==U.version){const Se=U.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ae(re,U,I);return}}t.bindTexture(n.TEXTURE_2D,re.__webglTexture,n.TEXTURE0+I)}function ce(U,I){const re=i.get(U);if(U.version>0&&re.__version!==U.version){ae(re,U,I);return}t.bindTexture(n.TEXTURE_2D_ARRAY,re.__webglTexture,n.TEXTURE0+I)}function N(U,I){const re=i.get(U);if(U.version>0&&re.__version!==U.version){ae(re,U,I);return}t.bindTexture(n.TEXTURE_3D,re.__webglTexture,n.TEXTURE0+I)}function k(U,I){const re=i.get(U);if(U.version>0&&re.__version!==U.version){_e(re,U,I);return}t.bindTexture(n.TEXTURE_CUBE_MAP,re.__webglTexture,n.TEXTURE0+I)}const B={[Bf]:n.REPEAT,[ci]:n.CLAMP_TO_EDGE,[Vf]:n.MIRRORED_REPEAT},Z={[_n]:n.NEAREST,[Z0]:n.NEAREST_MIPMAP_NEAREST,[of]:n.NEAREST_MIPMAP_LINEAR,[Mn]:n.LINEAR,[y_]:n.LINEAR_MIPMAP_NEAREST,[Go]:n.LINEAR_MIPMAP_LINEAR},ee={[QC]:n.NEVER,[r8]:n.ALWAYS,[$C]:n.LESS,[b_]:n.LEQUAL,[e8]:n.EQUAL,[i8]:n.GEQUAL,[t8]:n.GREATER,[n8]:n.NOTEQUAL};function Y(U,I,re){if(re?(n.texParameteri(U,n.TEXTURE_WRAP_S,B[I.wrapS]),n.texParameteri(U,n.TEXTURE_WRAP_T,B[I.wrapT]),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,B[I.wrapR]),n.texParameteri(U,n.TEXTURE_MAG_FILTER,Z[I.magFilter]),n.texParameteri(U,n.TEXTURE_MIN_FILTER,Z[I.minFilter])):(n.texParameteri(U,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(U,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(I.wrapS!==ci||I.wrapT!==ci)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,n.TEXTURE_MAG_FILTER,C(I.magFilter)),n.texParameteri(U,n.TEXTURE_MIN_FILTER,C(I.minFilter)),I.minFilter!==_n&&I.minFilter!==Mn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),I.compareFunction&&(n.texParameteri(U,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(U,n.TEXTURE_COMPARE_FUNC,ee[I.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Se=e.get("EXT_texture_filter_anisotropic");if(I.magFilter===_n||I.minFilter!==of&&I.minFilter!==Go||I.type===Dr&&e.has("OES_texture_float_linear")===!1||a===!1&&I.type===Iu&&e.has("OES_texture_half_float_linear")===!1)return;(I.anisotropy>1||i.get(I).__currentAnisotropy)&&(n.texParameterf(U,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(I.anisotropy,r.getMaxAnisotropy())),i.get(I).__currentAnisotropy=I.anisotropy)}}function q(U,I){let re=!1;U.__webglInit===void 0&&(U.__webglInit=!0,I.addEventListener("dispose",L));const Se=I.source;let xe=p.get(Se);xe===void 0&&(xe={},p.set(Se,xe));const ve=$(I);if(ve!==U.__cacheKey){xe[ve]===void 0&&(xe[ve]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,re=!0),xe[ve].usedTimes++;const Ye=xe[U.__cacheKey];Ye!==void 0&&(xe[U.__cacheKey].usedTimes--,Ye.usedTimes===0&&R(I)),U.__cacheKey=ve,U.__webglTexture=xe[ve].texture}return re}function ae(U,I,re){let Se=n.TEXTURE_2D;(I.isDataArrayTexture||I.isCompressedArrayTexture)&&(Se=n.TEXTURE_2D_ARRAY),I.isData3DTexture&&(Se=n.TEXTURE_3D);const xe=q(U,I),ve=I.source;t.bindTexture(Se,U.__webglTexture,n.TEXTURE0+re);const Ye=i.get(ve);if(ve.version!==Ye.__version||xe===!0){t.activeTexture(n.TEXTURE0+re);const Ie=Vt.getPrimaries(Vt.workingColorSpace),Be=I.colorSpace===qi?null:Vt.getPrimaries(I.colorSpace),it=I.colorSpace===qi||Ie===Be?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,it);const gt=g(I)&&x(I.image)===!1;let Me=_(I.image,gt,!1,r.maxTextureSize);Me=Ne(I,Me);const Lt=x(Me)||a,St=s.convert(I.format,I.colorSpace);let ht=s.convert(I.type),tt=T(I.internalFormat,St,ht,I.colorSpace,I.isVideoTexture);Y(Se,I,Lt);let He;const X=I.mipmaps,ye=a&&I.isVideoTexture!==!0&&tt!==T_,ke=Ye.__version===void 0||xe===!0,Oe=b(I,Me,Lt);if(I.isDepthTexture)tt=n.DEPTH_COMPONENT,a?I.type===Dr?tt=n.DEPTH_COMPONENT32F:I.type===Is?tt=n.DEPTH_COMPONENT24:I.type===Oo?tt=n.DEPTH24_STENCIL8:tt=n.DEPTH_COMPONENT16:I.type===Dr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),I.format===Fo&&tt===n.DEPTH_COMPONENT&&I.type!==Rm&&I.type!==Is&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),I.type=Is,ht=s.convert(I.type)),I.format===Ya&&tt===n.DEPTH_COMPONENT&&(tt=n.DEPTH_STENCIL,I.type!==Oo&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),I.type=Oo,ht=s.convert(I.type))),ke&&(ye?t.texStorage2D(n.TEXTURE_2D,1,tt,Me.width,Me.height):t.texImage2D(n.TEXTURE_2D,0,tt,Me.width,Me.height,0,St,ht,null));else if(I.isDataTexture)if(X.length>0&&Lt){ye&&ke&&t.texStorage2D(n.TEXTURE_2D,Oe,tt,X[0].width,X[0].height);for(let we=0,j=X.length;we<j;we++)He=X[we],ye?t.texSubImage2D(n.TEXTURE_2D,we,0,0,He.width,He.height,St,ht,He.data):t.texImage2D(n.TEXTURE_2D,we,tt,He.width,He.height,0,St,ht,He.data);I.generateMipmaps=!1}else ye?(ke&&t.texStorage2D(n.TEXTURE_2D,Oe,tt,Me.width,Me.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Me.width,Me.height,St,ht,Me.data)):t.texImage2D(n.TEXTURE_2D,0,tt,Me.width,Me.height,0,St,ht,Me.data);else if(I.isCompressedTexture)if(I.isCompressedArrayTexture){ye&&ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Oe,tt,X[0].width,X[0].height,Me.depth);for(let we=0,j=X.length;we<j;we++)He=X[we],I.format!==Si?St!==null?ye?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,we,0,0,0,He.width,He.height,Me.depth,St,He.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,we,tt,He.width,He.height,Me.depth,0,He.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?t.texSubImage3D(n.TEXTURE_2D_ARRAY,we,0,0,0,He.width,He.height,Me.depth,St,ht,He.data):t.texImage3D(n.TEXTURE_2D_ARRAY,we,tt,He.width,He.height,Me.depth,0,St,ht,He.data)}else{ye&&ke&&t.texStorage2D(n.TEXTURE_2D,Oe,tt,X[0].width,X[0].height);for(let we=0,j=X.length;we<j;we++)He=X[we],I.format!==Si?St!==null?ye?t.compressedTexSubImage2D(n.TEXTURE_2D,we,0,0,He.width,He.height,St,He.data):t.compressedTexImage2D(n.TEXTURE_2D,we,tt,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ye?t.texSubImage2D(n.TEXTURE_2D,we,0,0,He.width,He.height,St,ht,He.data):t.texImage2D(n.TEXTURE_2D,we,tt,He.width,He.height,0,St,ht,He.data)}else if(I.isDataArrayTexture)ye?(ke&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Oe,tt,Me.width,Me.height,Me.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,St,ht,Me.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,tt,Me.width,Me.height,Me.depth,0,St,ht,Me.data);else if(I.isData3DTexture)ye?(ke&&t.texStorage3D(n.TEXTURE_3D,Oe,tt,Me.width,Me.height,Me.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,St,ht,Me.data)):t.texImage3D(n.TEXTURE_3D,0,tt,Me.width,Me.height,Me.depth,0,St,ht,Me.data);else if(I.isFramebufferTexture){if(ke)if(ye)t.texStorage2D(n.TEXTURE_2D,Oe,tt,Me.width,Me.height);else{let we=Me.width,j=Me.height;for(let Re=0;Re<Oe;Re++)t.texImage2D(n.TEXTURE_2D,Re,tt,we,j,0,St,ht,null),we>>=1,j>>=1}}else if(X.length>0&&Lt){ye&&ke&&t.texStorage2D(n.TEXTURE_2D,Oe,tt,X[0].width,X[0].height);for(let we=0,j=X.length;we<j;we++)He=X[we],ye?t.texSubImage2D(n.TEXTURE_2D,we,0,0,St,ht,He):t.texImage2D(n.TEXTURE_2D,we,tt,St,ht,He);I.generateMipmaps=!1}else ye?(ke&&t.texStorage2D(n.TEXTURE_2D,Oe,tt,Me.width,Me.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,St,ht,Me)):t.texImage2D(n.TEXTURE_2D,0,tt,St,ht,Me);S(I,Lt)&&w(Se),Ye.__version=ve.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function _e(U,I,re){if(I.image.length!==6)return;const Se=q(U,I),xe=I.source;t.bindTexture(n.TEXTURE_CUBE_MAP,U.__webglTexture,n.TEXTURE0+re);const ve=i.get(xe);if(xe.version!==ve.__version||Se===!0){t.activeTexture(n.TEXTURE0+re);const Ye=Vt.getPrimaries(Vt.workingColorSpace),Ie=I.colorSpace===qi?null:Vt.getPrimaries(I.colorSpace),Be=I.colorSpace===qi||Ye===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,I.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,I.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,I.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Be);const it=I.isCompressedTexture||I.image[0].isCompressedTexture,gt=I.image[0]&&I.image[0].isDataTexture,Me=[];for(let we=0;we<6;we++)!it&&!gt?Me[we]=_(I.image[we],!1,!0,r.maxCubemapSize):Me[we]=gt?I.image[we].image:I.image[we],Me[we]=Ne(I,Me[we]);const Lt=Me[0],St=x(Lt)||a,ht=s.convert(I.format,I.colorSpace),tt=s.convert(I.type),He=T(I.internalFormat,ht,tt,I.colorSpace),X=a&&I.isVideoTexture!==!0,ye=ve.__version===void 0||Se===!0;let ke=b(I,Lt,St);Y(n.TEXTURE_CUBE_MAP,I,St);let Oe;if(it){X&&ye&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ke,He,Lt.width,Lt.height);for(let we=0;we<6;we++){Oe=Me[we].mipmaps;for(let j=0;j<Oe.length;j++){const Re=Oe[j];I.format!==Si?ht!==null?X?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j,0,0,Re.width,Re.height,ht,Re.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j,He,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):X?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j,0,0,Re.width,Re.height,ht,tt,Re.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j,He,Re.width,Re.height,0,ht,tt,Re.data)}}}else{Oe=I.mipmaps,X&&ye&&(Oe.length>0&&ke++,t.texStorage2D(n.TEXTURE_CUBE_MAP,ke,He,Me[0].width,Me[0].height));for(let we=0;we<6;we++)if(gt){X?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,0,0,0,Me[we].width,Me[we].height,ht,tt,Me[we].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,0,He,Me[we].width,Me[we].height,0,ht,tt,Me[we].data);for(let j=0;j<Oe.length;j++){const De=Oe[j].image[we].image;X?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j+1,0,0,De.width,De.height,ht,tt,De.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j+1,He,De.width,De.height,0,ht,tt,De.data)}}else{X?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,0,0,0,ht,tt,Me[we]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,0,He,ht,tt,Me[we]);for(let j=0;j<Oe.length;j++){const Re=Oe[j];X?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j+1,0,0,ht,tt,Re.image[we]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+we,j+1,He,ht,tt,Re.image[we])}}}S(I,St)&&w(n.TEXTURE_CUBE_MAP),ve.__version=xe.version,I.onUpdate&&I.onUpdate(I)}U.__version=I.version}function Ce(U,I,re,Se,xe,ve){const Ye=s.convert(re.format,re.colorSpace),Ie=s.convert(re.type),Be=T(re.internalFormat,Ye,Ie,re.colorSpace);if(!i.get(I).__hasExternalTextures){const gt=Math.max(1,I.width>>ve),Me=Math.max(1,I.height>>ve);xe===n.TEXTURE_3D||xe===n.TEXTURE_2D_ARRAY?t.texImage3D(xe,ve,Be,gt,Me,I.depth,0,Ye,Ie,null):t.texImage2D(xe,ve,Be,gt,Me,0,Ye,Ie,null)}t.bindFramebuffer(n.FRAMEBUFFER,U),ge(I)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Se,xe,i.get(re).__webglTexture,0,Ae(I)):(xe===n.TEXTURE_2D||xe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&xe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Se,xe,i.get(re).__webglTexture,ve),t.bindFramebuffer(n.FRAMEBUFFER,null)}function nt(U,I,re){if(n.bindRenderbuffer(n.RENDERBUFFER,U),I.depthBuffer&&!I.stencilBuffer){let Se=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(re||ge(I)){const xe=I.depthTexture;xe&&xe.isDepthTexture&&(xe.type===Dr?Se=n.DEPTH_COMPONENT32F:xe.type===Is&&(Se=n.DEPTH_COMPONENT24));const ve=Ae(I);ge(I)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ve,Se,I.width,I.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,ve,Se,I.width,I.height)}else n.renderbufferStorage(n.RENDERBUFFER,Se,I.width,I.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,U)}else if(I.depthBuffer&&I.stencilBuffer){const Se=Ae(I);re&&ge(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Se,n.DEPTH24_STENCIL8,I.width,I.height):ge(I)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Se,n.DEPTH24_STENCIL8,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,I.width,I.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,U)}else{const Se=I.isWebGLMultipleRenderTargets===!0?I.texture:[I.texture];for(let xe=0;xe<Se.length;xe++){const ve=Se[xe],Ye=s.convert(ve.format,ve.colorSpace),Ie=s.convert(ve.type),Be=T(ve.internalFormat,Ye,Ie,ve.colorSpace),it=Ae(I);re&&ge(I)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,it,Be,I.width,I.height):ge(I)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,it,Be,I.width,I.height):n.renderbufferStorage(n.RENDERBUFFER,Be,I.width,I.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function st(U,I){if(I&&I.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,U),!(I.depthTexture&&I.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(I.depthTexture).__webglTexture||I.depthTexture.image.width!==I.width||I.depthTexture.image.height!==I.height)&&(I.depthTexture.image.width=I.width,I.depthTexture.image.height=I.height,I.depthTexture.needsUpdate=!0),te(I.depthTexture,0);const Se=i.get(I.depthTexture).__webglTexture,xe=Ae(I);if(I.depthTexture.format===Fo)ge(I)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Se,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Se,0);else if(I.depthTexture.format===Ya)ge(I)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Se,0,xe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Se,0);else throw new Error("Unknown depthTexture format")}function je(U){const I=i.get(U),re=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!I.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");st(I.__webglFramebuffer,U)}else if(re){I.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer[Se]),I.__webglDepthbuffer[Se]=n.createRenderbuffer(),nt(I.__webglDepthbuffer[Se],U,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,I.__webglFramebuffer),I.__webglDepthbuffer=n.createRenderbuffer(),nt(I.__webglDepthbuffer,U,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(U,I,re){const Se=i.get(U);I!==void 0&&Ce(Se.__webglFramebuffer,U,U.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),re!==void 0&&je(U)}function G(U){const I=U.texture,re=i.get(U),Se=i.get(I);U.addEventListener("dispose",D),U.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=n.createTexture()),Se.__version=I.version,o.memory.textures++);const xe=U.isWebGLCubeRenderTarget===!0,ve=U.isWebGLMultipleRenderTargets===!0,Ye=x(U)||a;if(xe){re.__webglFramebuffer=[];for(let Ie=0;Ie<6;Ie++)if(a&&I.mipmaps&&I.mipmaps.length>0){re.__webglFramebuffer[Ie]=[];for(let Be=0;Be<I.mipmaps.length;Be++)re.__webglFramebuffer[Ie][Be]=n.createFramebuffer()}else re.__webglFramebuffer[Ie]=n.createFramebuffer()}else{if(a&&I.mipmaps&&I.mipmaps.length>0){re.__webglFramebuffer=[];for(let Ie=0;Ie<I.mipmaps.length;Ie++)re.__webglFramebuffer[Ie]=n.createFramebuffer()}else re.__webglFramebuffer=n.createFramebuffer();if(ve)if(r.drawBuffers){const Ie=U.texture;for(let Be=0,it=Ie.length;Be<it;Be++){const gt=i.get(Ie[Be]);gt.__webglTexture===void 0&&(gt.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&ge(U)===!1){const Ie=ve?I:[I];re.__webglMultisampledFramebuffer=n.createFramebuffer(),re.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let Be=0;Be<Ie.length;Be++){const it=Ie[Be];re.__webglColorRenderbuffer[Be]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,re.__webglColorRenderbuffer[Be]);const gt=s.convert(it.format,it.colorSpace),Me=s.convert(it.type),Lt=T(it.internalFormat,gt,Me,it.colorSpace,U.isXRRenderTarget===!0),St=Ae(U);n.renderbufferStorageMultisample(n.RENDERBUFFER,St,Lt,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Be,n.RENDERBUFFER,re.__webglColorRenderbuffer[Be])}n.bindRenderbuffer(n.RENDERBUFFER,null),U.depthBuffer&&(re.__webglDepthRenderbuffer=n.createRenderbuffer(),nt(re.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(xe){t.bindTexture(n.TEXTURE_CUBE_MAP,Se.__webglTexture),Y(n.TEXTURE_CUBE_MAP,I,Ye);for(let Ie=0;Ie<6;Ie++)if(a&&I.mipmaps&&I.mipmaps.length>0)for(let Be=0;Be<I.mipmaps.length;Be++)Ce(re.__webglFramebuffer[Ie][Be],U,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,Be);else Ce(re.__webglFramebuffer[Ie],U,I,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie,0);S(I,Ye)&&w(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ve){const Ie=U.texture;for(let Be=0,it=Ie.length;Be<it;Be++){const gt=Ie[Be],Me=i.get(gt);t.bindTexture(n.TEXTURE_2D,Me.__webglTexture),Y(n.TEXTURE_2D,gt,Ye),Ce(re.__webglFramebuffer,U,gt,n.COLOR_ATTACHMENT0+Be,n.TEXTURE_2D,0),S(gt,Ye)&&w(n.TEXTURE_2D)}t.unbindTexture()}else{let Ie=n.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?Ie=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ie,Se.__webglTexture),Y(Ie,I,Ye),a&&I.mipmaps&&I.mipmaps.length>0)for(let Be=0;Be<I.mipmaps.length;Be++)Ce(re.__webglFramebuffer[Be],U,I,n.COLOR_ATTACHMENT0,Ie,Be);else Ce(re.__webglFramebuffer,U,I,n.COLOR_ATTACHMENT0,Ie,0);S(I,Ye)&&w(Ie),t.unbindTexture()}U.depthBuffer&&je(U)}function Ee(U){const I=x(U)||a,re=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Se=0,xe=re.length;Se<xe;Se++){const ve=re[Se];if(S(ve,I)){const Ye=U.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ie=i.get(ve).__webglTexture;t.bindTexture(Ye,Ie),w(Ye),t.unbindTexture()}}}function me(U){if(a&&U.samples>0&&ge(U)===!1){const I=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],re=U.width,Se=U.height;let xe=n.COLOR_BUFFER_BIT;const ve=[],Ye=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=i.get(U),Be=U.isWebGLMultipleRenderTargets===!0;if(Be)for(let it=0;it<I.length;it++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let it=0;it<I.length;it++){ve.push(n.COLOR_ATTACHMENT0+it),U.depthBuffer&&ve.push(Ye);const gt=Ie.__ignoreDepthValues!==void 0?Ie.__ignoreDepthValues:!1;if(gt===!1&&(U.depthBuffer&&(xe|=n.DEPTH_BUFFER_BIT),U.stencilBuffer&&(xe|=n.STENCIL_BUFFER_BIT)),Be&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[it]),gt===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ye]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ye])),Be){const Me=i.get(I[it]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,re,Se,0,0,re,Se,xe,n.NEAREST),f&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ve)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Be)for(let it=0;it<I.length;it++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[it]);const gt=i.get(I[it]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+it,n.TEXTURE_2D,gt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}}function Ae(U){return Math.min(r.maxSamples,U.samples)}function ge(U){const I=i.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&I.__useRenderToTexture!==!1}function Ke(U){const I=o.render.frame;d.get(U)!==I&&(d.set(U,I),U.update())}function Ne(U,I){const re=U.colorSpace,Se=U.format,xe=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===K0||re!==cs&&re!==qi&&(Vt.getTransfer(re)===Yt?a===!1?e.has("EXT_sRGB")===!0&&Se===Si?(U.format=K0,U.minFilter=Mn,U.generateMipmaps=!1):I=R_.sRGBToLinear(I):(Se!==Si||xe!==ls)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",re)),I}this.allocateTextureUnit=H,this.resetTextureUnits=oe,this.setTexture2D=te,this.setTexture2DArray=ce,this.setTexture3D=N,this.setTextureCube=k,this.rebindTextures=Qe,this.setupRenderTarget=G,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=me,this.setupDepthRenderbuffer=je,this.setupFrameBufferTexture=Ce,this.useMultisampledRTT=ge}function _8(n,e,t){const i=t.isWebGL2;function r(s,o=qi){let a;const l=Vt.getTransfer(o);if(s===ls)return n.UNSIGNED_BYTE;if(s===__)return n.UNSIGNED_SHORT_4_4_4_4;if(s===S_)return n.UNSIGNED_SHORT_5_5_5_1;if(s===zC)return n.BYTE;if(s===kC)return n.SHORT;if(s===Rm)return n.UNSIGNED_SHORT;if(s===x_)return n.INT;if(s===Is)return n.UNSIGNED_INT;if(s===Dr)return n.FLOAT;if(s===Iu)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===BC)return n.ALPHA;if(s===Si)return n.RGBA;if(s===VC)return n.LUMINANCE;if(s===HC)return n.LUMINANCE_ALPHA;if(s===Fo)return n.DEPTH_COMPONENT;if(s===Ya)return n.DEPTH_STENCIL;if(s===K0)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===GC)return n.RED;if(s===M_)return n.RED_INTEGER;if(s===WC)return n.RG;if(s===w_)return n.RG_INTEGER;if(s===E_)return n.RGBA_INTEGER;if(s===n0||s===i0||s===r0||s===s0)if(l===Yt)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===n0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===i0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===r0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===s0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===n0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===i0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===r0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===s0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===a2||s===l2||s===u2||s===c2)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===a2)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===l2)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===u2)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===c2)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===T_)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===f2||s===d2)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===f2)return l===Yt?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===d2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===h2||s===p2||s===m2||s===g2||s===v2||s===y2||s===x2||s===_2||s===S2||s===M2||s===w2||s===E2||s===T2||s===A2)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===h2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===p2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===m2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===g2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===v2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===y2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===x2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===_2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===S2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===M2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===w2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===E2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===T2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===A2)return l===Yt?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===o0||s===C2||s===b2)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===o0)return l===Yt?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===C2)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===b2)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===XC||s===P2||s===R2||s===L2)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===o0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===P2)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===R2)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===L2)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Oo?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:r}}class S8 extends wn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class du extends Ft{constructor(){super(),this.isGroup=!0,this.type="Group"}}const EH={type:"move"};class mv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new du,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new du,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new F,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new F),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new du,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new F,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new F),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,f=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(f&&e.hand){o=!0;for(const _ of e.hand.values()){const x=t.getJointPose(_,i),g=this._getHandJoint(f,_);x!==null&&(g.matrix.fromArray(x.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=x.radius),g.visible=x!==null}const d=f.joints["index-finger-tip"],h=f.joints["thumb-tip"],p=d.position.distanceTo(h.position),m=.02,y=.005;f.inputState.pinching&&p>m+y?(f.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!f.inputState.pinching&&p<=m-y&&(f.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(EH)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),f!==null&&(f.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new du;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class TH extends Ys{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,f=null,d=null,h=null,p=null,m=null,y=null;const _=t.getContextAttributes();let x=null,g=null;const S=[],w=[],T=new pe;let b=null;const C=new wn;C.layers.enable(1),C.viewport=new Ht;const L=new wn;L.layers.enable(2),L.viewport=new Ht;const D=[C,L],P=new S8;P.layers.enable(1),P.layers.enable(2);let R=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let q=S[Y];return q===void 0&&(q=new mv,S[Y]=q),q.getTargetRaySpace()},this.getControllerGrip=function(Y){let q=S[Y];return q===void 0&&(q=new mv,S[Y]=q),q.getGripSpace()},this.getHand=function(Y){let q=S[Y];return q===void 0&&(q=new mv,S[Y]=q),q.getHandSpace()};function K(Y){const q=w.indexOf(Y.inputSource);if(q===-1)return;const ae=S[q];ae!==void 0&&(ae.update(Y.inputSource,Y.frame,f||o),ae.dispatchEvent({type:Y.type,data:Y.inputSource}))}function oe(){r.removeEventListener("select",K),r.removeEventListener("selectstart",K),r.removeEventListener("selectend",K),r.removeEventListener("squeeze",K),r.removeEventListener("squeezestart",K),r.removeEventListener("squeezeend",K),r.removeEventListener("end",oe),r.removeEventListener("inputsourceschange",H);for(let Y=0;Y<S.length;Y++){const q=w[Y];q!==null&&(w[Y]=null,S[Y].disconnect(q))}R=null,V=null,e.setRenderTarget(x),m=null,p=null,h=null,r=null,g=null,ee.stop(),i.isPresenting=!1,e.setPixelRatio(b),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return f||o},this.setReferenceSpace=function(Y){f=Y},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return h},this.getFrame=function(){return y},this.getSession=function(){return r},this.setSession=async function(Y){if(r=Y,r!==null){if(x=e.getRenderTarget(),r.addEventListener("select",K),r.addEventListener("selectstart",K),r.addEventListener("selectend",K),r.addEventListener("squeeze",K),r.addEventListener("squeezestart",K),r.addEventListener("squeezeend",K),r.addEventListener("end",oe),r.addEventListener("inputsourceschange",H),_.xrCompatible!==!0&&await t.makeXRCompatible(),b=e.getPixelRatio(),e.getSize(T),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const q={antialias:r.renderState.layers===void 0?_.antialias:!0,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(r,t,q),r.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),g=new Vr(m.framebufferWidth,m.framebufferHeight,{format:Si,type:ls,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil})}else{let q=null,ae=null,_e=null;_.depth&&(_e=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,q=_.stencil?Ya:Fo,ae=_.stencil?Oo:Is);const Ce={colorFormat:t.RGBA8,depthFormat:_e,scaleFactor:s};h=new XRWebGLBinding(r,t),p=h.createProjectionLayer(Ce),r.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),g=new Vr(p.textureWidth,p.textureHeight,{format:Si,type:ls,depthTexture:new U_(p.textureWidth,p.textureHeight,ae,void 0,void 0,void 0,void 0,void 0,void 0,q),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0});const nt=e.properties.get(g);nt.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),f=null,o=await r.requestReferenceSpace(a),ee.setContext(r),ee.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function H(Y){for(let q=0;q<Y.removed.length;q++){const ae=Y.removed[q],_e=w.indexOf(ae);_e>=0&&(w[_e]=null,S[_e].disconnect(ae))}for(let q=0;q<Y.added.length;q++){const ae=Y.added[q];let _e=w.indexOf(ae);if(_e===-1){for(let nt=0;nt<S.length;nt++)if(nt>=w.length){w.push(ae),_e=nt;break}else if(w[nt]===null){w[nt]=ae,_e=nt;break}if(_e===-1)break}const Ce=S[_e];Ce&&Ce.connect(ae)}}const $=new F,te=new F;function ce(Y,q,ae){$.setFromMatrixPosition(q.matrixWorld),te.setFromMatrixPosition(ae.matrixWorld);const _e=$.distanceTo(te),Ce=q.projectionMatrix.elements,nt=ae.projectionMatrix.elements,st=Ce[14]/(Ce[10]-1),je=Ce[14]/(Ce[10]+1),Qe=(Ce[9]+1)/Ce[5],G=(Ce[9]-1)/Ce[5],Ee=(Ce[8]-1)/Ce[0],me=(nt[8]+1)/nt[0],Ae=st*Ee,ge=st*me,Ke=_e/(-Ee+me),Ne=Ke*-Ee;q.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Ne),Y.translateZ(Ke),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const U=st+Ke,I=je+Ke,re=Ae-Ne,Se=ge+(_e-Ne),xe=Qe*je/I*U,ve=G*je/I*U;Y.projectionMatrix.makePerspective(re,Se,xe,ve,U,I),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function N(Y,q){q===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(q.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(r===null)return;P.near=L.near=C.near=Y.near,P.far=L.far=C.far=Y.far,(R!==P.near||V!==P.far)&&(r.updateRenderState({depthNear:P.near,depthFar:P.far}),R=P.near,V=P.far);const q=Y.parent,ae=P.cameras;N(P,q);for(let _e=0;_e<ae.length;_e++)N(ae[_e],q);ae.length===2?ce(P,C,L):P.projectionMatrix.copy(C.projectionMatrix),k(Y,P,q)};function k(Y,q,ae){ae===null?Y.matrix.copy(q.matrixWorld):(Y.matrix.copy(ae.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(q.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(q.projectionMatrix),Y.projectionMatrixInverse.copy(q.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=Nu*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return P},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Y){l=Y,p!==null&&(p.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)};let B=null;function Z(Y,q){if(d=q.getViewerPose(f||o),y=q,d!==null){const ae=d.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let _e=!1;ae.length!==P.cameras.length&&(P.cameras.length=0,_e=!0);for(let Ce=0;Ce<ae.length;Ce++){const nt=ae[Ce];let st=null;if(m!==null)st=m.getViewport(nt);else{const Qe=h.getViewSubImage(p,nt);st=Qe.viewport,Ce===0&&(e.setRenderTargetTextures(g,Qe.colorTexture,p.ignoreDepthValues?void 0:Qe.depthStencilTexture),e.setRenderTarget(g))}let je=D[Ce];je===void 0&&(je=new wn,je.layers.enable(Ce),je.viewport=new Ht,D[Ce]=je),je.matrix.fromArray(nt.transform.matrix),je.matrix.decompose(je.position,je.quaternion,je.scale),je.projectionMatrix.fromArray(nt.projectionMatrix),je.projectionMatrixInverse.copy(je.projectionMatrix).invert(),je.viewport.set(st.x,st.y,st.width,st.height),Ce===0&&(P.matrix.copy(je.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),_e===!0&&P.cameras.push(je)}}for(let ae=0;ae<S.length;ae++){const _e=w[ae],Ce=S[ae];_e!==null&&Ce!==void 0&&Ce.update(_e,q,f||o)}B&&B(Y,q),q.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:q}),y=null}const ee=new p8;ee.setAnimationLoop(Z),this.setAnimationLoop=function(Y){B=Y},this.dispose=function(){}}}function AH(n,e){function t(x,g){x.matrixAutoUpdate===!0&&x.updateMatrix(),g.value.copy(x.matrix)}function i(x,g){g.color.getRGB(x.fogColor.value,c8(n)),g.isFog?(x.fogNear.value=g.near,x.fogFar.value=g.far):g.isFogExp2&&(x.fogDensity.value=g.density)}function r(x,g,S,w,T){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(x,g):g.isMeshToonMaterial?(s(x,g),h(x,g)):g.isMeshPhongMaterial?(s(x,g),d(x,g)):g.isMeshStandardMaterial?(s(x,g),p(x,g),g.isMeshPhysicalMaterial&&m(x,g,T)):g.isMeshMatcapMaterial?(s(x,g),y(x,g)):g.isMeshDepthMaterial?s(x,g):g.isMeshDistanceMaterial?(s(x,g),_(x,g)):g.isMeshNormalMaterial?s(x,g):g.isLineBasicMaterial?(o(x,g),g.isLineDashedMaterial&&a(x,g)):g.isPointsMaterial?l(x,g,S,w):g.isSpriteMaterial?f(x,g):g.isShadowMaterial?(x.color.value.copy(g.color),x.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(x,g){x.opacity.value=g.opacity,g.color&&x.diffuse.value.copy(g.color),g.emissive&&x.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.bumpMap&&(x.bumpMap.value=g.bumpMap,t(g.bumpMap,x.bumpMapTransform),x.bumpScale.value=g.bumpScale,g.side===wi&&(x.bumpScale.value*=-1)),g.normalMap&&(x.normalMap.value=g.normalMap,t(g.normalMap,x.normalMapTransform),x.normalScale.value.copy(g.normalScale),g.side===wi&&x.normalScale.value.negate()),g.displacementMap&&(x.displacementMap.value=g.displacementMap,t(g.displacementMap,x.displacementMapTransform),x.displacementScale.value=g.displacementScale,x.displacementBias.value=g.displacementBias),g.emissiveMap&&(x.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,x.emissiveMapTransform)),g.specularMap&&(x.specularMap.value=g.specularMap,t(g.specularMap,x.specularMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest);const S=e.get(g).envMap;if(S&&(x.envMap.value=S,x.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=g.reflectivity,x.ior.value=g.ior,x.refractionRatio.value=g.refractionRatio),g.lightMap){x.lightMap.value=g.lightMap;const w=n._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=g.lightMapIntensity*w,t(g.lightMap,x.lightMapTransform)}g.aoMap&&(x.aoMap.value=g.aoMap,x.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,x.aoMapTransform))}function o(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform))}function a(x,g){x.dashSize.value=g.dashSize,x.totalSize.value=g.dashSize+g.gapSize,x.scale.value=g.scale}function l(x,g,S,w){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.size.value=g.size*S,x.scale.value=w*.5,g.map&&(x.map.value=g.map,t(g.map,x.uvTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function f(x,g){x.diffuse.value.copy(g.color),x.opacity.value=g.opacity,x.rotation.value=g.rotation,g.map&&(x.map.value=g.map,t(g.map,x.mapTransform)),g.alphaMap&&(x.alphaMap.value=g.alphaMap,t(g.alphaMap,x.alphaMapTransform)),g.alphaTest>0&&(x.alphaTest.value=g.alphaTest)}function d(x,g){x.specular.value.copy(g.specular),x.shininess.value=Math.max(g.shininess,1e-4)}function h(x,g){g.gradientMap&&(x.gradientMap.value=g.gradientMap)}function p(x,g){x.metalness.value=g.metalness,g.metalnessMap&&(x.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,x.metalnessMapTransform)),x.roughness.value=g.roughness,g.roughnessMap&&(x.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,x.roughnessMapTransform)),e.get(g).envMap&&(x.envMapIntensity.value=g.envMapIntensity)}function m(x,g,S){x.ior.value=g.ior,g.sheen>0&&(x.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),x.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(x.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,x.sheenColorMapTransform)),g.sheenRoughnessMap&&(x.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,x.sheenRoughnessMapTransform))),g.clearcoat>0&&(x.clearcoat.value=g.clearcoat,x.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(x.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,x.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(x.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===wi&&x.clearcoatNormalScale.value.negate())),g.iridescence>0&&(x.iridescence.value=g.iridescence,x.iridescenceIOR.value=g.iridescenceIOR,x.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(x.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,x.iridescenceMapTransform)),g.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),g.transmission>0&&(x.transmission.value=g.transmission,x.transmissionSamplerMap.value=S.texture,x.transmissionSamplerSize.value.set(S.width,S.height),g.transmissionMap&&(x.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,x.transmissionMapTransform)),x.thickness.value=g.thickness,g.thicknessMap&&(x.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=g.attenuationDistance,x.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(x.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(x.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=g.specularIntensity,x.specularColor.value.copy(g.specularColor),g.specularColorMap&&(x.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,x.specularColorMapTransform)),g.specularIntensityMap&&(x.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,x.specularIntensityMapTransform))}function y(x,g){g.matcap&&(x.matcap.value=g.matcap)}function _(x,g){const S=e.get(g).light;x.referencePosition.value.setFromMatrixPosition(S.matrixWorld),x.nearDistance.value=S.shadow.camera.near,x.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function CH(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(S,w){const T=w.program;i.uniformBlockBinding(S,T)}function f(S,w){let T=r[S.id];T===void 0&&(y(S),T=d(S),r[S.id]=T,S.addEventListener("dispose",x));const b=w.program;i.updateUBOMapping(S,b);const C=e.render.frame;s[S.id]!==C&&(p(S),s[S.id]=C)}function d(S){const w=h();S.__bindingPointIndex=w;const T=n.createBuffer(),b=S.__size,C=S.usage;return n.bindBuffer(n.UNIFORM_BUFFER,T),n.bufferData(n.UNIFORM_BUFFER,b,C),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,w,T),T}function h(){for(let S=0;S<a;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(S){const w=r[S.id],T=S.uniforms,b=S.__cache;n.bindBuffer(n.UNIFORM_BUFFER,w);for(let C=0,L=T.length;C<L;C++){const D=Array.isArray(T[C])?T[C]:[T[C]];for(let P=0,R=D.length;P<R;P++){const V=D[P];if(m(V,C,P,b)===!0){const K=V.__offset,oe=Array.isArray(V.value)?V.value:[V.value];let H=0;for(let $=0;$<oe.length;$++){const te=oe[$],ce=_(te);typeof te=="number"||typeof te=="boolean"?(V.__data[0]=te,n.bufferSubData(n.UNIFORM_BUFFER,K+H,V.__data)):te.isMatrix3?(V.__data[0]=te.elements[0],V.__data[1]=te.elements[1],V.__data[2]=te.elements[2],V.__data[3]=0,V.__data[4]=te.elements[3],V.__data[5]=te.elements[4],V.__data[6]=te.elements[5],V.__data[7]=0,V.__data[8]=te.elements[6],V.__data[9]=te.elements[7],V.__data[10]=te.elements[8],V.__data[11]=0):(te.toArray(V.__data,H),H+=ce.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,K,V.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(S,w,T,b){const C=S.value,L=w+"_"+T;if(b[L]===void 0)return typeof C=="number"||typeof C=="boolean"?b[L]=C:b[L]=C.clone(),!0;{const D=b[L];if(typeof C=="number"||typeof C=="boolean"){if(D!==C)return b[L]=C,!0}else if(D.equals(C)===!1)return D.copy(C),!0}return!1}function y(S){const w=S.uniforms;let T=0;const b=16;for(let L=0,D=w.length;L<D;L++){const P=Array.isArray(w[L])?w[L]:[w[L]];for(let R=0,V=P.length;R<V;R++){const K=P[R],oe=Array.isArray(K.value)?K.value:[K.value];for(let H=0,$=oe.length;H<$;H++){const te=oe[H],ce=_(te),N=T%b;N!==0&&b-N<ce.boundary&&(T+=b-N),K.__data=new Float32Array(ce.storage/Float32Array.BYTES_PER_ELEMENT),K.__offset=T,T+=ce.storage}}}const C=T%b;return C>0&&(T+=b-C),S.__size=T,S.__cache={},this}function _(S){const w={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function x(S){const w=S.target;w.removeEventListener("dispose",x);const T=o.indexOf(w.__bindingPointIndex);o.splice(T,1),n.deleteBuffer(r[w.id]),delete r[w.id],delete s[w.id]}function g(){for(const S in r)n.deleteBuffer(r[S]);o=[],r={},s={}}return{bind:l,update:f,dispose:g}}class z_{constructor(e={}){const{canvas:t=a8(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:f=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1}=e;this.isWebGLRenderer=!0;let p;i!==null?p=i.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),y=new Int32Array(4);let _=null,x=null;const g=[],S=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=In,this._useLegacyLights=!1,this.toneMapping=as,this.toneMappingExposure=1;const w=this;let T=!1,b=0,C=0,L=null,D=-1,P=null;const R=new Ht,V=new Ht;let K=null;const oe=new ze(0);let H=0,$=t.width,te=t.height,ce=1,N=null,k=null;const B=new Ht(0,0,$,te),Z=new Ht(0,0,$,te);let ee=!1;const Y=new Sd;let q=!1,ae=!1,_e=null;const Ce=new pt,nt=new pe,st=new F,je={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Qe(){return L===null?ce:1}let G=i;function Ee(O,ie){for(let ue=0;ue<O.length;ue++){const fe=O[ue],le=t.getContext(fe,ie);if(le!==null)return le}return null}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:f,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Cm}`),t.addEventListener("webglcontextlost",we,!1),t.addEventListener("webglcontextrestored",j,!1),t.addEventListener("webglcontextcreationerror",Re,!1),G===null){const ie=["webgl2","webgl","experimental-webgl"];if(w.isWebGL1Renderer===!0&&ie.shift(),G=Ee(ie,O),G===null)throw Ee(ie)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext!="undefined"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}let me,Ae,ge,Ke,Ne,U,I,re,Se,xe,ve,Ye,Ie,Be,it,gt,Me,Lt,St,ht,tt,He,X,ye;function ke(){me=new VB(G),Ae=new UB(G,me,e),me.init(Ae),He=new _8(G,me,Ae),ge=new MH(G,me,Ae),Ke=new WB(G),Ne=new cH,U=new wH(G,me,ge,Ne,Ae,He,Ke),I=new FB(w),re=new BB(w),Se=new QF(G,Ae),X=new DB(G,me,Se,Ae),xe=new HB(G,Se,Ke,X),ve=new qB(G,xe,Se,Ke),St=new YB(G,Ae,U),gt=new OB(Ne),Ye=new uH(w,I,re,me,Ae,X,gt),Ie=new AH(w,Ne),Be=new dH,it=new yH(me,Ae),Lt=new IB(w,I,re,ge,ve,p,l),Me=new SH(w,ve,Ae),ye=new CH(G,Ke,Ae,ge),ht=new NB(G,me,Ke,Ae),tt=new GB(G,me,Ke,Ae),Ke.programs=Ye.programs,w.capabilities=Ae,w.extensions=me,w.properties=Ne,w.renderLists=Be,w.shadowMap=Me,w.state=ge,w.info=Ke}ke();const Oe=new TH(w,G);this.xr=Oe,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const O=me.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=me.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return ce},this.setPixelRatio=function(O){O!==void 0&&(ce=O,this.setSize($,te,!1))},this.getSize=function(O){return O.set($,te)},this.setSize=function(O,ie,ue=!0){if(Oe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=O,te=ie,t.width=Math.floor(O*ce),t.height=Math.floor(ie*ce),ue===!0&&(t.style.width=O+"px",t.style.height=ie+"px"),this.setViewport(0,0,O,ie)},this.getDrawingBufferSize=function(O){return O.set($*ce,te*ce).floor()},this.setDrawingBufferSize=function(O,ie,ue){$=O,te=ie,ce=ue,t.width=Math.floor(O*ue),t.height=Math.floor(ie*ue),this.setViewport(0,0,O,ie)},this.getCurrentViewport=function(O){return O.copy(R)},this.getViewport=function(O){return O.copy(B)},this.setViewport=function(O,ie,ue,fe){O.isVector4?B.set(O.x,O.y,O.z,O.w):B.set(O,ie,ue,fe),ge.viewport(R.copy(B).multiplyScalar(ce).floor())},this.getScissor=function(O){return O.copy(Z)},this.setScissor=function(O,ie,ue,fe){O.isVector4?Z.set(O.x,O.y,O.z,O.w):Z.set(O,ie,ue,fe),ge.scissor(V.copy(Z).multiplyScalar(ce).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(O){ge.setScissorTest(ee=O)},this.setOpaqueSort=function(O){N=O},this.setTransparentSort=function(O){k=O},this.getClearColor=function(O){return O.copy(Lt.getClearColor())},this.setClearColor=function(){Lt.setClearColor.apply(Lt,arguments)},this.getClearAlpha=function(){return Lt.getClearAlpha()},this.setClearAlpha=function(){Lt.setClearAlpha.apply(Lt,arguments)},this.clear=function(O=!0,ie=!0,ue=!0){let fe=0;if(O){let le=!1;if(L!==null){const Ve=L.texture.format;le=Ve===E_||Ve===w_||Ve===M_}if(le){const Ve=L.texture.type,$e=Ve===ls||Ve===Is||Ve===Rm||Ve===Oo||Ve===__||Ve===S_,ut=Lt.getClearColor(),ct=Lt.getClearAlpha(),vt=ut.r,mt=ut.g,yt=ut.b;$e?(m[0]=vt,m[1]=mt,m[2]=yt,m[3]=ct,G.clearBufferuiv(G.COLOR,0,m)):(y[0]=vt,y[1]=mt,y[2]=yt,y[3]=ct,G.clearBufferiv(G.COLOR,0,y))}else fe|=G.COLOR_BUFFER_BIT}ie&&(fe|=G.DEPTH_BUFFER_BIT),ue&&(fe|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",we,!1),t.removeEventListener("webglcontextrestored",j,!1),t.removeEventListener("webglcontextcreationerror",Re,!1),Be.dispose(),it.dispose(),Ne.dispose(),I.dispose(),re.dispose(),ve.dispose(),X.dispose(),ye.dispose(),Ye.dispose(),Oe.dispose(),Oe.removeEventListener("sessionstart",en),Oe.removeEventListener("sessionend",Nt),_e&&(_e.dispose(),_e=null),jn.stop()};function we(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function j(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const O=Ke.autoReset,ie=Me.enabled,ue=Me.autoUpdate,fe=Me.needsUpdate,le=Me.type;ke(),Ke.autoReset=O,Me.enabled=ie,Me.autoUpdate=ue,Me.needsUpdate=fe,Me.type=le}function Re(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function De(O){const ie=O.target;ie.removeEventListener("dispose",De),ot(ie)}function ot(O){qe(O),Ne.remove(O)}function qe(O){const ie=Ne.get(O).programs;ie!==void 0&&(ie.forEach(function(ue){Ye.releaseProgram(ue)}),O.isShaderMaterial&&Ye.releaseShaderCache(O))}this.renderBufferDirect=function(O,ie,ue,fe,le,Ve){ie===null&&(ie=je);const $e=le.isMesh&&le.matrixWorld.determinant()<0,ut=n1(O,ie,ue,fe,le);ge.setMaterial(fe,$e);let ct=ue.index,vt=1;if(fe.wireframe===!0){if(ct=xe.getWireframeAttribute(ue),ct===void 0)return;vt=2}const mt=ue.drawRange,yt=ue.attributes.position;let rn=mt.start*vt,Yn=(mt.start+mt.count)*vt;Ve!==null&&(rn=Math.max(rn,Ve.start*vt),Yn=Math.min(Yn,(Ve.start+Ve.count)*vt)),ct!==null?(rn=Math.max(rn,0),Yn=Math.min(Yn,ct.count)):yt!=null&&(rn=Math.max(rn,0),Yn=Math.min(Yn,yt.count));const Kt=Yn-rn;if(Kt<0||Kt===1/0)return;X.setup(le,fe,ut,ue,ct);let Fn,ft=ht;if(ct!==null&&(Fn=Se.get(ct),ft=tt,ft.setIndex(Fn)),le.isMesh)fe.wireframe===!0?(ge.setLineWidth(fe.wireframeLinewidth*Qe()),ft.setMode(G.LINES)):ft.setMode(G.TRIANGLES);else if(le.isLine){let We=fe.linewidth;We===void 0&&(We=1),ge.setLineWidth(We*Qe()),le.isLineSegments?ft.setMode(G.LINES):le.isLineLoop?ft.setMode(G.LINE_LOOP):ft.setMode(G.LINE_STRIP)}else le.isPoints?ft.setMode(G.POINTS):le.isSprite&&ft.setMode(G.TRIANGLES);if(le.isBatchedMesh)ft.renderMultiDraw(le._multiDrawStarts,le._multiDrawCounts,le._multiDrawCount);else if(le.isInstancedMesh)ft.renderInstances(rn,Kt,le.count);else if(ue.isInstancedBufferGeometry){const We=ue._maxInstanceCount!==void 0?ue._maxInstanceCount:1/0,nr=Math.min(ue.instanceCount,We);ft.renderInstances(rn,Kt,nr)}else ft.render(rn,Kt)};function Pt(O,ie,ue){O.transparent===!0&&O.side===is&&O.forceSinglePass===!1?(O.side=wi,O.needsUpdate=!0,al(O,ie,ue),O.side=Gs,O.needsUpdate=!0,al(O,ie,ue),O.side=is):al(O,ie,ue)}this.compile=function(O,ie,ue=null){ue===null&&(ue=O),x=it.get(ue),x.init(),S.push(x),ue.traverseVisible(function(le){le.isLight&&le.layers.test(ie.layers)&&(x.pushLight(le),le.castShadow&&x.pushShadow(le))}),O!==ue&&O.traverseVisible(function(le){le.isLight&&le.layers.test(ie.layers)&&(x.pushLight(le),le.castShadow&&x.pushShadow(le))}),x.setupLights(w._useLegacyLights);const fe=new Set;return O.traverse(function(le){const Ve=le.material;if(Ve)if(Array.isArray(Ve))for(let $e=0;$e<Ve.length;$e++){const ut=Ve[$e];Pt(ut,ue,le),fe.add(ut)}else Pt(Ve,ue,le),fe.add(Ve)}),S.pop(),x=null,fe},this.compileAsync=function(O,ie,ue=null){const fe=this.compile(O,ie,ue);return new Promise(le=>{function Ve(){if(fe.forEach(function($e){Ne.get($e).currentProgram.isReady()&&fe.delete($e)}),fe.size===0){le(O);return}setTimeout(Ve,10)}me.get("KHR_parallel_shader_compile")!==null?Ve():setTimeout(Ve,10)})};let Dt=null;function Xt(O){Dt&&Dt(O)}function en(){jn.stop()}function Nt(){jn.start()}const jn=new p8;jn.setAnimationLoop(Xt),typeof self!="undefined"&&jn.setContext(self),this.setAnimationLoop=function(O){Dt=O,Oe.setAnimationLoop(O),O===null?jn.stop():jn.start()},Oe.addEventListener("sessionstart",en),Oe.addEventListener("sessionend",Nt),this.render=function(O,ie){if(ie!==void 0&&ie.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;O.matrixWorldAutoUpdate===!0&&O.updateMatrixWorld(),ie.parent===null&&ie.matrixWorldAutoUpdate===!0&&ie.updateMatrixWorld(),Oe.enabled===!0&&Oe.isPresenting===!0&&(Oe.cameraAutoUpdate===!0&&Oe.updateCamera(ie),ie=Oe.getCamera()),O.isScene===!0&&O.onBeforeRender(w,O,ie,L),x=it.get(O,S.length),x.init(),S.push(x),Ce.multiplyMatrices(ie.projectionMatrix,ie.matrixWorldInverse),Y.setFromProjectionMatrix(Ce),ae=this.localClippingEnabled,q=gt.init(this.clippingPlanes,ae),_=Be.get(O,g.length),_.init(),g.push(_),tr(O,ie,0,w.sortObjects),_.finish(),w.sortObjects===!0&&_.sort(N,k),this.info.render.frame++,q===!0&&gt.beginShadows();const ue=x.state.shadowsArray;if(Me.render(ue,O,ie),q===!0&&gt.endShadows(),this.info.autoReset===!0&&this.info.reset(),Lt.render(_,O),x.setupLights(w._useLegacyLights),ie.isArrayCamera){const fe=ie.cameras;for(let le=0,Ve=fe.length;le<Ve;le++){const $e=fe[le];Yu(_,O,$e,$e.viewport)}}else Yu(_,O,ie);L!==null&&(U.updateMultisampleRenderTarget(L),U.updateRenderTargetMipmap(L)),O.isScene===!0&&O.onAfterRender(w,O,ie),X.resetDefaultState(),D=-1,P=null,S.pop(),S.length>0?x=S[S.length-1]:x=null,g.pop(),g.length>0?_=g[g.length-1]:_=null};function tr(O,ie,ue,fe){if(O.visible===!1)return;if(O.layers.test(ie.layers)){if(O.isGroup)ue=O.renderOrder;else if(O.isLOD)O.autoUpdate===!0&&O.update(ie);else if(O.isLight)x.pushLight(O),O.castShadow&&x.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||Y.intersectsSprite(O)){fe&&st.setFromMatrixPosition(O.matrixWorld).applyMatrix4(Ce);const $e=ve.update(O),ut=O.material;ut.visible&&_.push(O,$e,ut,ue,st.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||Y.intersectsObject(O))){const $e=ve.update(O),ut=O.material;if(fe&&(O.boundingSphere!==void 0?(O.boundingSphere===null&&O.computeBoundingSphere(),st.copy(O.boundingSphere.center)):($e.boundingSphere===null&&$e.computeBoundingSphere(),st.copy($e.boundingSphere.center)),st.applyMatrix4(O.matrixWorld).applyMatrix4(Ce)),Array.isArray(ut)){const ct=$e.groups;for(let vt=0,mt=ct.length;vt<mt;vt++){const yt=ct[vt],rn=ut[yt.materialIndex];rn&&rn.visible&&_.push(O,$e,rn,ue,st.z,yt)}}else ut.visible&&_.push(O,$e,ut,ue,st.z,null)}}const Ve=O.children;for(let $e=0,ut=Ve.length;$e<ut;$e++)tr(Ve[$e],ie,ue,fe)}function Yu(O,ie,ue,fe){const le=O.opaque,Ve=O.transmissive,$e=O.transparent;x.setupLightsView(ue),q===!0&&gt.setGlobalState(w.clippingPlanes,ue),Ve.length>0&&qu(le,Ve,ie,ue),fe&&ge.viewport(R.copy(fe)),le.length>0&&ol(le,ie,ue),Ve.length>0&&ol(Ve,ie,ue),$e.length>0&&ol($e,ie,ue),ge.buffers.depth.setTest(!0),ge.buffers.depth.setMask(!0),ge.buffers.color.setMask(!0),ge.setPolygonOffset(!1)}function qu(O,ie,ue,fe){if((ue.isScene===!0?ue.overrideMaterial:null)!==null)return;const Ve=Ae.isWebGL2;_e===null&&(_e=new Vr(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")?Iu:ls,minFilter:Go,samples:Ve?4:0})),w.getDrawingBufferSize(nt),Ve?_e.setSize(nt.x,nt.y):_e.setSize(J0(nt.x),J0(nt.y));const $e=w.getRenderTarget();w.setRenderTarget(_e),w.getClearColor(oe),H=w.getClearAlpha(),H<1&&w.setClearColor(16777215,.5),w.clear();const ut=w.toneMapping;w.toneMapping=as,ol(O,ue,fe),U.updateMultisampleRenderTarget(_e),U.updateRenderTargetMipmap(_e);let ct=!1;for(let vt=0,mt=ie.length;vt<mt;vt++){const yt=ie[vt],rn=yt.object,Yn=yt.geometry,Kt=yt.material,Fn=yt.group;if(Kt.side===is&&rn.layers.test(fe.layers)){const ft=Kt.side;Kt.side=wi,Kt.needsUpdate=!0,qs(rn,ue,fe,Yn,Kt,Fn),Kt.side=ft,Kt.needsUpdate=!0,ct=!0}}ct===!0&&(U.updateMultisampleRenderTarget(_e),U.updateRenderTargetMipmap(_e)),w.setRenderTarget($e),w.setClearColor(oe,H),w.toneMapping=ut}function ol(O,ie,ue){const fe=ie.isScene===!0?ie.overrideMaterial:null;for(let le=0,Ve=O.length;le<Ve;le++){const $e=O[le],ut=$e.object,ct=$e.geometry,vt=fe===null?$e.material:fe,mt=$e.group;ut.layers.test(ue.layers)&&qs(ut,ie,ue,ct,vt,mt)}}function qs(O,ie,ue,fe,le,Ve){O.onBeforeRender(w,ie,ue,fe,le,Ve),O.modelViewMatrix.multiplyMatrices(ue.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),le.onBeforeRender(w,ie,ue,fe,O,Ve),le.transparent===!0&&le.side===is&&le.forceSinglePass===!1?(le.side=wi,le.needsUpdate=!0,w.renderBufferDirect(ue,ie,fe,le,O,Ve),le.side=Gs,le.needsUpdate=!0,w.renderBufferDirect(ue,ie,fe,le,O,Ve),le.side=is):w.renderBufferDirect(ue,ie,fe,le,O,Ve),O.onAfterRender(w,ie,ue,fe,le,Ve)}function al(O,ie,ue){ie.isScene!==!0&&(ie=je);const fe=Ne.get(O),le=x.state.lights,Ve=x.state.shadowsArray,$e=le.state.version,ut=Ye.getParameters(O,le.state,Ve,ie,ue),ct=Ye.getProgramCacheKey(ut);let vt=fe.programs;fe.environment=O.isMeshStandardMaterial?ie.environment:null,fe.fog=ie.fog,fe.envMap=(O.isMeshStandardMaterial?re:I).get(O.envMap||fe.environment),vt===void 0&&(O.addEventListener("dispose",De),vt=new Map,fe.programs=vt);let mt=vt.get(ct);if(mt!==void 0){if(fe.currentProgram===mt&&fe.lightsStateVersion===$e)return Pd(O,ut),mt}else ut.uniforms=Ye.getUniforms(O),O.onBuild(ue,ut,w),O.onBeforeCompile(ut,w),mt=Ye.acquireProgram(ut,ct),vt.set(ct,mt),fe.uniforms=ut.uniforms;const yt=fe.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||O.clipping===!0)&&(yt.clippingPlanes=gt.uniform),Pd(O,ut),fe.needsLights=r1(O),fe.lightsStateVersion=$e,fe.needsLights&&(yt.ambientLightColor.value=le.state.ambient,yt.lightProbe.value=le.state.probe,yt.directionalLights.value=le.state.directional,yt.directionalLightShadows.value=le.state.directionalShadow,yt.spotLights.value=le.state.spot,yt.spotLightShadows.value=le.state.spotShadow,yt.rectAreaLights.value=le.state.rectArea,yt.ltc_1.value=le.state.rectAreaLTC1,yt.ltc_2.value=le.state.rectAreaLTC2,yt.pointLights.value=le.state.point,yt.pointLightShadows.value=le.state.pointShadow,yt.hemisphereLights.value=le.state.hemi,yt.directionalShadowMap.value=le.state.directionalShadowMap,yt.directionalShadowMatrix.value=le.state.directionalShadowMatrix,yt.spotShadowMap.value=le.state.spotShadowMap,yt.spotLightMatrix.value=le.state.spotLightMatrix,yt.spotLightMap.value=le.state.spotLightMap,yt.pointShadowMap.value=le.state.pointShadowMap,yt.pointShadowMatrix.value=le.state.pointShadowMatrix),fe.currentProgram=mt,fe.uniformsList=null,mt}function bd(O){if(O.uniformsList===null){const ie=O.currentProgram.getUniforms();O.uniformsList=l0.seqWithValue(ie.seq,O.uniforms)}return O.uniformsList}function Pd(O,ie){const ue=Ne.get(O);ue.outputColorSpace=ie.outputColorSpace,ue.batching=ie.batching,ue.instancing=ie.instancing,ue.instancingColor=ie.instancingColor,ue.skinning=ie.skinning,ue.morphTargets=ie.morphTargets,ue.morphNormals=ie.morphNormals,ue.morphColors=ie.morphColors,ue.morphTargetsCount=ie.morphTargetsCount,ue.numClippingPlanes=ie.numClippingPlanes,ue.numIntersection=ie.numClipIntersection,ue.vertexAlphas=ie.vertexAlphas,ue.vertexTangents=ie.vertexTangents,ue.toneMapping=ie.toneMapping}function n1(O,ie,ue,fe,le){ie.isScene!==!0&&(ie=je),U.resetTextureUnits();const Ve=ie.fog,$e=fe.isMeshStandardMaterial?ie.environment:null,ut=L===null?w.outputColorSpace:L.isXRRenderTarget===!0?L.texture.colorSpace:cs,ct=(fe.isMeshStandardMaterial?re:I).get(fe.envMap||$e),vt=fe.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,mt=!!ue.attributes.tangent&&(!!fe.normalMap||fe.anisotropy>0),yt=!!ue.morphAttributes.position,rn=!!ue.morphAttributes.normal,Yn=!!ue.morphAttributes.color;let Kt=as;fe.toneMapped&&(L===null||L.isXRRenderTarget===!0)&&(Kt=w.toneMapping);const Fn=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,ft=Fn!==void 0?Fn.length:0,We=Ne.get(fe),nr=x.state.lights;if(q===!0&&(ae===!0||O!==P)){const qn=O===P&&fe.id===D;gt.setState(fe,O,qn)}let Ct=!1;fe.version===We.__version?(We.needsLights&&We.lightsStateVersion!==nr.state.version||We.outputColorSpace!==ut||le.isBatchedMesh&&We.batching===!1||!le.isBatchedMesh&&We.batching===!0||le.isInstancedMesh&&We.instancing===!1||!le.isInstancedMesh&&We.instancing===!0||le.isSkinnedMesh&&We.skinning===!1||!le.isSkinnedMesh&&We.skinning===!0||le.isInstancedMesh&&We.instancingColor===!0&&le.instanceColor===null||le.isInstancedMesh&&We.instancingColor===!1&&le.instanceColor!==null||We.envMap!==ct||fe.fog===!0&&We.fog!==Ve||We.numClippingPlanes!==void 0&&(We.numClippingPlanes!==gt.numPlanes||We.numIntersection!==gt.numIntersection)||We.vertexAlphas!==vt||We.vertexTangents!==mt||We.morphTargets!==yt||We.morphNormals!==rn||We.morphColors!==Yn||We.toneMapping!==Kt||Ae.isWebGL2===!0&&We.morphTargetsCount!==ft)&&(Ct=!0):(Ct=!0,We.__version=fe.version);let cn=We.currentProgram;Ct===!0&&(cn=al(fe,ie,le));let Wr=!1,ir=!1,zn=!1;const vn=cn.getUniforms(),Xr=We.uniforms;if(ge.useProgram(cn.program)&&(Wr=!0,ir=!0,zn=!0),fe.id!==D&&(D=fe.id,ir=!0),Wr||P!==O){vn.setValue(G,"projectionMatrix",O.projectionMatrix),vn.setValue(G,"viewMatrix",O.matrixWorldInverse);const qn=vn.map.cameraPosition;qn!==void 0&&qn.setValue(G,st.setFromMatrixPosition(O.matrixWorld)),Ae.logarithmicDepthBuffer&&vn.setValue(G,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(fe.isMeshPhongMaterial||fe.isMeshToonMaterial||fe.isMeshLambertMaterial||fe.isMeshBasicMaterial||fe.isMeshStandardMaterial||fe.isShaderMaterial)&&vn.setValue(G,"isOrthographic",O.isOrthographicCamera===!0),P!==O&&(P=O,ir=!0,zn=!0)}if(le.isSkinnedMesh){vn.setOptional(G,le,"bindMatrix"),vn.setOptional(G,le,"bindMatrixInverse");const qn=le.skeleton;qn&&(Ae.floatVertexTextures?(qn.boneTexture===null&&qn.computeBoneTexture(),vn.setValue(G,"boneTexture",qn.boneTexture,U)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}le.isBatchedMesh&&(vn.setOptional(G,le,"batchingTexture"),vn.setValue(G,"batchingTexture",le._matricesTexture,U));const ll=ue.morphAttributes;if((ll.position!==void 0||ll.normal!==void 0||ll.color!==void 0&&Ae.isWebGL2===!0)&&St.update(le,ue,cn),(ir||We.receiveShadow!==le.receiveShadow)&&(We.receiveShadow=le.receiveShadow,vn.setValue(G,"receiveShadow",le.receiveShadow)),fe.isMeshGouraudMaterial&&fe.envMap!==null&&(Xr.envMap.value=ct,Xr.flipEnvMap.value=ct.isCubeTexture&&ct.isRenderTargetTexture===!1?-1:1),ir&&(vn.setValue(G,"toneMappingExposure",w.toneMappingExposure),We.needsLights&&i1(Xr,zn),Ve&&fe.fog===!0&&Ie.refreshFogUniforms(Xr,Ve),Ie.refreshMaterialUniforms(Xr,fe,ce,te,_e),l0.upload(G,bd(We),Xr,U)),fe.isShaderMaterial&&fe.uniformsNeedUpdate===!0&&(l0.upload(G,bd(We),Xr,U),fe.uniformsNeedUpdate=!1),fe.isSpriteMaterial&&vn.setValue(G,"center",le.center),vn.setValue(G,"modelViewMatrix",le.modelViewMatrix),vn.setValue(G,"normalMatrix",le.normalMatrix),vn.setValue(G,"modelMatrix",le.matrixWorld),fe.isShaderMaterial||fe.isRawShaderMaterial){const qn=fe.uniformsGroups;for(let ul=0,Bi=qn.length;ul<Bi;ul++)if(Ae.isWebGL2){const Rd=qn[ul];ye.update(Rd,cn),ye.bind(Rd,cn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return cn}function i1(O,ie){O.ambientLightColor.needsUpdate=ie,O.lightProbe.needsUpdate=ie,O.directionalLights.needsUpdate=ie,O.directionalLightShadows.needsUpdate=ie,O.pointLights.needsUpdate=ie,O.pointLightShadows.needsUpdate=ie,O.spotLights.needsUpdate=ie,O.spotLightShadows.needsUpdate=ie,O.rectAreaLights.needsUpdate=ie,O.hemisphereLights.needsUpdate=ie}function r1(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&O.lights===!0}this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return L},this.setRenderTargetTextures=function(O,ie,ue){Ne.get(O.texture).__webglTexture=ie,Ne.get(O.depthTexture).__webglTexture=ue;const fe=Ne.get(O);fe.__hasExternalTextures=!0,fe.__hasExternalTextures&&(fe.__autoAllocateDepthBuffer=ue===void 0,fe.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,ie){const ue=Ne.get(O);ue.__webglFramebuffer=ie,ue.__useDefaultFramebuffer=ie===void 0},this.setRenderTarget=function(O,ie=0,ue=0){L=O,b=ie,C=ue;let fe=!0,le=null,Ve=!1,$e=!1;if(O){const ct=Ne.get(O);ct.__useDefaultFramebuffer!==void 0?(ge.bindFramebuffer(G.FRAMEBUFFER,null),fe=!1):ct.__webglFramebuffer===void 0?U.setupRenderTarget(O):ct.__hasExternalTextures&&U.rebindTextures(O,Ne.get(O.texture).__webglTexture,Ne.get(O.depthTexture).__webglTexture);const vt=O.texture;(vt.isData3DTexture||vt.isDataArrayTexture||vt.isCompressedArrayTexture)&&($e=!0);const mt=Ne.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(Array.isArray(mt[ie])?le=mt[ie][ue]:le=mt[ie],Ve=!0):Ae.isWebGL2&&O.samples>0&&U.useMultisampledRTT(O)===!1?le=Ne.get(O).__webglMultisampledFramebuffer:Array.isArray(mt)?le=mt[ue]:le=mt,R.copy(O.viewport),V.copy(O.scissor),K=O.scissorTest}else R.copy(B).multiplyScalar(ce).floor(),V.copy(Z).multiplyScalar(ce).floor(),K=ee;if(ge.bindFramebuffer(G.FRAMEBUFFER,le)&&Ae.drawBuffers&&fe&&ge.drawBuffers(O,le),ge.viewport(R),ge.scissor(V),ge.setScissorTest(K),Ve){const ct=Ne.get(O.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+ie,ct.__webglTexture,ue)}else if($e){const ct=Ne.get(O.texture),vt=ie||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,ct.__webglTexture,ue||0,vt)}D=-1},this.readRenderTargetPixels=function(O,ie,ue,fe,le,Ve,$e){if(!(O&&O.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ut=Ne.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&$e!==void 0&&(ut=ut[$e]),ut){ge.bindFramebuffer(G.FRAMEBUFFER,ut);try{const ct=O.texture,vt=ct.format,mt=ct.type;if(vt!==Si&&He.convert(vt)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const yt=mt===Iu&&(me.has("EXT_color_buffer_half_float")||Ae.isWebGL2&&me.has("EXT_color_buffer_float"));if(mt!==ls&&He.convert(mt)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(mt===Dr&&(Ae.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float")))&&!yt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ie>=0&&ie<=O.width-fe&&ue>=0&&ue<=O.height-le&&G.readPixels(ie,ue,fe,le,He.convert(vt),He.convert(mt),Ve)}finally{const ct=L!==null?Ne.get(L).__webglFramebuffer:null;ge.bindFramebuffer(G.FRAMEBUFFER,ct)}}},this.copyFramebufferToTexture=function(O,ie,ue=0){const fe=Math.pow(2,-ue),le=Math.floor(ie.image.width*fe),Ve=Math.floor(ie.image.height*fe);U.setTexture2D(ie,0),G.copyTexSubImage2D(G.TEXTURE_2D,ue,0,0,O.x,O.y,le,Ve),ge.unbindTexture()},this.copyTextureToTexture=function(O,ie,ue,fe=0){const le=ie.image.width,Ve=ie.image.height,$e=He.convert(ue.format),ut=He.convert(ue.type);U.setTexture2D(ue,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,ue.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,ue.unpackAlignment),ie.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,fe,O.x,O.y,le,Ve,$e,ut,ie.image.data):ie.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,fe,O.x,O.y,ie.mipmaps[0].width,ie.mipmaps[0].height,$e,ie.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,fe,O.x,O.y,$e,ut,ie.image),fe===0&&ue.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),ge.unbindTexture()},this.copyTextureToTexture3D=function(O,ie,ue,fe,le=0){if(w.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Ve=O.max.x-O.min.x+1,$e=O.max.y-O.min.y+1,ut=O.max.z-O.min.z+1,ct=He.convert(fe.format),vt=He.convert(fe.type);let mt;if(fe.isData3DTexture)U.setTexture3D(fe,0),mt=G.TEXTURE_3D;else if(fe.isDataArrayTexture||fe.isCompressedArrayTexture)U.setTexture2DArray(fe,0),mt=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,fe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,fe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,fe.unpackAlignment);const yt=G.getParameter(G.UNPACK_ROW_LENGTH),rn=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Yn=G.getParameter(G.UNPACK_SKIP_PIXELS),Kt=G.getParameter(G.UNPACK_SKIP_ROWS),Fn=G.getParameter(G.UNPACK_SKIP_IMAGES),ft=ue.isCompressedTexture?ue.mipmaps[le]:ue.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,ft.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,ft.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,O.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,O.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,O.min.z),ue.isDataTexture||ue.isData3DTexture?G.texSubImage3D(mt,le,ie.x,ie.y,ie.z,Ve,$e,ut,ct,vt,ft.data):ue.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(mt,le,ie.x,ie.y,ie.z,Ve,$e,ut,ct,ft.data)):G.texSubImage3D(mt,le,ie.x,ie.y,ie.z,Ve,$e,ut,ct,vt,ft),G.pixelStorei(G.UNPACK_ROW_LENGTH,yt),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,rn),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Yn),G.pixelStorei(G.UNPACK_SKIP_ROWS,Kt),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Fn),le===0&&fe.generateMipmaps&&G.generateMipmap(mt),ge.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?U.setTextureCube(O,0):O.isData3DTexture?U.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?U.setTexture2DArray(O,0):U.setTexture2D(O,0),ge.unbindTexture()},this.resetState=function(){b=0,C=0,L=null,ge.reset(),X.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Nr}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Im?"display-p3":"srgb",t.unpackColorSpace=Vt.workingColorSpace===vd?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===In?zo:C_}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===zo?In:cs}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class M8 extends z_{}M8.prototype.isWebGL1Renderer=!0;class Um{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ze(e),this.density=t}clone(){return new Um(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Om{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new ze(e),this.near=t,this.far=i}clone(){return new Om(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class k_ extends Ft{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Fm{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=qf,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Ji()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ji()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vi=new F;class qa{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyMatrix4(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.applyNormalMatrix(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vi.fromBufferAttribute(this,t),vi.transformDirection(e),this.setXYZ(t,vi.x,vi.y,vi.z);return this}setX(e,t){return this.normalized&&(t=wt(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=wt(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ni(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ni(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ni(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ni(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array),r=wt(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=wt(t,this.array),i=wt(i,this.array),r=wt(r,this.array),s=wt(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Wt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qa(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class B_ extends pi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let zl;const bc=new F,kl=new F,Bl=new F,Vl=new pe,Pc=new pe,w8=new pt,pp=new F,Rc=new F,mp=new F,Kw=new pe,gv=new pe,Jw=new pe;class E8 extends Ft{constructor(e=new B_){if(super(),this.isSprite=!0,this.type="Sprite",zl===void 0){zl=new Et;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new Fm(t,5);zl.setIndex([0,1,2,0,2,3]),zl.setAttribute("position",new qa(i,3,0,!1)),zl.setAttribute("uv",new qa(i,2,3,!1))}this.geometry=zl,this.material=e,this.center=new pe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),kl.setFromMatrixScale(this.matrixWorld),w8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&kl.multiplyScalar(-Bl.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;gp(pp.set(-.5,-.5,0),Bl,o,kl,r,s),gp(Rc.set(.5,-.5,0),Bl,o,kl,r,s),gp(mp.set(.5,.5,0),Bl,o,kl,r,s),Kw.set(0,0),gv.set(1,0),Jw.set(1,1);let a=e.ray.intersectTriangle(pp,Rc,mp,!1,bc);if(a===null&&(gp(Rc.set(-.5,.5,0),Bl,o,kl,r,s),gv.set(0,1),a=e.ray.intersectTriangle(pp,mp,Rc,!1,bc),a===null))return;const l=e.ray.origin.distanceTo(bc);l<e.near||l>e.far||t.push({distance:l,point:bc.clone(),uv:Di.getInterpolation(bc,pp,Rc,mp,Kw,gv,Jw,new pe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function gp(n,e,t,i,r,s){Vl.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Pc.x=s*Vl.x-r*Vl.y,Pc.y=r*Vl.x+s*Vl.y):Pc.copy(Vl),n.copy(e),n.x+=Pc.x,n.y+=Pc.y,n.applyMatrix4(w8)}const vp=new F,Qw=new F;class T8 extends Ft{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){vp.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(vp);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){vp.setFromMatrixPosition(e.matrixWorld),Qw.setFromMatrixPosition(this.matrixWorld);const i=vp.distanceTo(Qw)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let o=t[r].distance;if(t[r].object.visible&&(o-=o*t[r].hysteresis),i>=o)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const o=i[r];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const $w=new F,eE=new Ht,tE=new Ht,bH=new F,nE=new pt,yp=new F,vv=new di,iE=new pt,yv=new tl;class A8 extends Nn{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=o2,this.bindMatrix=new pt,this.bindMatrixInverse=new pt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ei),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,yp),this.boundingBox.expandByPoint(yp)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new di),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,yp),this.boundingSphere.expandByPoint(yp)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),vv.copy(this.boundingSphere),vv.applyMatrix4(r),e.ray.intersectsSphere(vv)!==!1&&(iE.copy(r).invert(),yv.copy(e.ray).applyMatrix4(iE),!(this.boundingBox!==null&&yv.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,yv)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ht,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===o2?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===FC?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;eE.fromBufferAttribute(r.attributes.skinIndex,e),tE.fromBufferAttribute(r.attributes.skinWeight,e),$w.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=tE.getComponent(s);if(o!==0){const a=eE.getComponent(s);nE.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(bH.copy($w).applyMatrix4(nE),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class V_ extends Ft{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ba extends En{constructor(e=null,t=1,i=1,r,s,o,a,l,f=_n,d=_n,h,p){super(null,o,a,l,f,d,r,s,h,p),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const rE=new pt,PH=new pt;class zm{constructor(e=[],t=[]){this.uuid=Ji(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new pt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new pt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:PH;rE.multiplyMatrices(a,t[s]),rE.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new zm(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Ba(t,e,e,Si,Dr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new V_),this.bones.push(o),this.boneInverses.push(new pt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Ou extends Wt{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Hl=new pt,sE=new pt,xp=[],oE=new Ei,RH=new pt,Lc=new Nn,Ic=new di;class C8 extends Nn{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ou(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,RH)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Ei),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Hl),oE.copy(e.boundingBox).applyMatrix4(Hl),this.boundingBox.union(oE)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new di),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,Hl),Ic.copy(e.boundingSphere).applyMatrix4(Hl),this.boundingSphere.union(Ic)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Lc.geometry=this.geometry,Lc.material=this.material,Lc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ic.copy(this.boundingSphere),Ic.applyMatrix4(i),e.ray.intersectsSphere(Ic)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,Hl),sE.multiplyMatrices(i,Hl),Lc.matrixWorld=sE,Lc.raycast(e,xp);for(let o=0,a=xp.length;o<a;o++){const l=xp[o];l.instanceId=s,l.object=this,t.push(l)}xp.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Ou(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function LH(n,e){return n.z-e.z}function IH(n,e){return e.z-n.z}class DH{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const i=this.pool,r=this.list;this.index>=i.length&&i.push({start:-1,count:-1,z:-1});const s=i[this.index];r.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Gl="batchId",uo=new pt,aE=new pt,NH=new pt,lE=new pt,xv=new Sd,_p=new Ei,ha=new di,Dc=new F,_v=new DH,ai=new Nn,Sp=[];function UH(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let o=0;o<i;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*i);e.needsUpdate=!0}class b8 extends Nn{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,i=t*2,r){super(new Et,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new Ba(t,e,e,Si,Dr);this._matricesTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:f,itemSize:d,normalized:h}=l,p=new f.constructor(i*d),m=new l.constructor(p,d,h);m.setUsage(l.usage),t.setAttribute(a,m)}if(e.getIndex()!==null){const a=i>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Wt(a,1))}const o=r>65536?new Uint32Array(i):new Uint16Array(i);t.setAttribute(Gl,new Wt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Gl))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Gl}"`);const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(i===Gl)continue;if(!e.hasAttribute(i))throw new Error(`BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ei);const e=this._geometryCount,t=this.boundingBox,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,uo),this.getBoundingBoxAt(r,_p).applyMatrix4(uo),t.union(_p))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new di);const e=this._geometryCount,t=this.boundingSphere,i=this._active;t.makeEmpty();for(let r=0;r<e;r++)i[r]!==!1&&(this.getMatrixAt(r,uo),this.getBoundingSphereAt(r,ha).applyMatrix4(uo),t.union(ha))}addGeometry(e,t=-1,i=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?r.vertexCount=e.getAttribute("position").count:r.vertexCount=t,s===null?r.vertexStart=0:r.vertexStart=s.vertexStart+s.vertexCount;const f=e.getIndex(),d=f!==null;if(d&&(i===-1?r.indexCount=f.count:r.indexCount=i,s===null?r.indexStart=0:r.indexStart=s.indexStart+s.indexCount),r.indexStart!==-1&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const h=this._visibility,p=this._active,m=this._matricesTexture,y=this._matricesTexture.image.data;h.push(!0),p.push(!0);const _=this._geometryCount;this._geometryCount++,NH.toArray(y,_*16),m.needsUpdate=!0,o.push(r),a.push({start:d?r.indexStart:r.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Ei,sphereInitialized:!1,sphere:new di});const x=this.geometry.getAttribute(Gl);for(let g=0;g<r.vertexCount;g++)x.setX(r.vertexStart+g,_);return x.needsUpdate=!0,this.setGeometryAt(_,e),_}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,f=a.vertexCount;for(const m in i.attributes){if(m===Gl)continue;const y=t.getAttribute(m),_=i.getAttribute(m);UH(y,_,l);const x=y.itemSize;for(let g=y.count,S=f;g<S;g++){const w=l+g;for(let T=0;T<x;T++)_.setComponent(w,T,0)}_.needsUpdate=!0}if(r){const m=a.indexStart;for(let y=0;y<o.count;y++)s.setX(m+y,l+o.getX(y));for(let y=o.count,_=a.indexCount;y<_;y++)s.setX(m+y,l);s.needsUpdate=!0}const d=this._bounds[e];t.boundingBox!==null?(d.box.copy(t.boundingBox),d.boxInitialized=!0):d.boxInitialized=!1,t.boundingSphere!==null?(d.sphere.copy(t.boundingSphere),d.sphereInitialized=!0):d.sphereInitialized=!1;const h=this._drawRanges[e],p=t.getAttribute("position");return h.count=r?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.box,o=this.geometry;if(r.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,f=this._drawRanges[e];for(let d=f.start,h=f.start+f.count;d<h;d++){let p=d;a&&(p=a.getX(p)),s.expandByPoint(Dc.fromBufferAttribute(l,p))}r.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const r=this._bounds[e],s=r.sphere,o=this.geometry;if(r.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,_p),_p.getCenter(s.center);const a=o.index,l=o.attributes.position,f=this._drawRanges[e];let d=0;for(let h=f.start,p=f.start+f.count;h<p;h++){let m=h;a&&(m=a.getX(m)),Dc.fromBufferAttribute(l,m),d=Math.max(d,s.center.distanceToSquared(Dc))}s.radius=Math.sqrt(d),r.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const i=this._active,r=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||i[e]===!1?this:(t.toArray(s,e*16),r.needsUpdate=!0,this)}getMatrixAt(e,t){const i=this._active,r=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||i[e]===!1?null:t.fromArray(r,e*16)}setVisibleAt(e,t){const i=this._visibility,r=this._active,s=this._geometryCount;return e>=s||r[e]===!1||i[e]===t?this:(i[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,i=this._active,r=this._geometryCount;return e>=r||i[e]===!1?!1:t[e]}raycast(e,t){const i=this._visibility,r=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;ai.material=this.material,ai.geometry.index=l.index,ai.geometry.attributes=l.attributes,ai.geometry.boundingBox===null&&(ai.geometry.boundingBox=new Ei),ai.geometry.boundingSphere===null&&(ai.geometry.boundingSphere=new di);for(let f=0;f<o;f++){if(!i[f]||!r[f])continue;const d=s[f];ai.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(f,ai.matrixWorld).premultiply(a),this.getBoundingBoxAt(f,ai.geometry.boundingBox),this.getBoundingSphereAt(f,ai.geometry.boundingSphere),ai.raycast(e,Sp);for(let h=0,p=Sp.length;h<p;h++){const m=Sp[h];m.object=this,m.batchId=f,t.push(m)}Sp.length=0}ai.material=null,ai.geometry.index=null,ai.geometry.attributes={},ai.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,f=this._multiDrawStarts,d=this._multiDrawCounts,h=this._drawRanges,p=this.perObjectFrustumCulled;p&&(lE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),xv.setFromProjectionMatrix(lE,e.isWebGPURenderer?Du:Nr));let m=0;if(this.sortObjects){aE.copy(this.matrixWorld).invert(),Dc.setFromMatrixPosition(i.matrixWorld).applyMatrix4(aE);for(let x=0,g=l.length;x<g;x++)if(l[x]){this.getMatrixAt(x,uo),this.getBoundingSphereAt(x,ha).applyMatrix4(uo);let S=!1;if(p&&(S=!xv.intersectsSphere(ha)),!S){const w=Dc.distanceTo(ha.center);_v.push(h[x],w)}}const y=_v.list,_=this.customSort;_===null?y.sort(s.transparent?IH:LH):_.call(this,y,i);for(let x=0,g=y.length;x<g;x++){const S=y[x];f[m]=S.start*a,d[m]=S.count,m++}_v.reset()}else for(let y=0,_=l.length;y<_;y++)if(l[y]){let x=!1;if(p&&(this.getMatrixAt(y,uo),this.getBoundingSphereAt(y,ha).applyMatrix4(uo),x=!xv.intersectsSphere(ha)),!x){const g=h[y];f[m]=g.start*a,d[m]=g.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,o){this.onBeforeRender(e,null,r,s,o)}}class Ci extends pi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ze(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const uE=new F,cE=new F,fE=new pt,Sv=new tl,Mp=new di;class Wo extends Ft{constructor(e=new Et,t=new Ci){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)uE.fromBufferAttribute(t,r-1),cE.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=uE.distanceTo(cE);e.setAttribute("lineDistance",new Ze(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Mp.copy(i.boundingSphere),Mp.applyMatrix4(r),Mp.radius+=s,e.ray.intersectsSphere(Mp)===!1)return;fE.copy(r).invert(),Sv.copy(e.ray).applyMatrix4(fE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=new F,d=new F,h=new F,p=new F,m=this.isLineSegments?2:1,y=i.index,x=i.attributes.position;if(y!==null){const g=Math.max(0,o.start),S=Math.min(y.count,o.start+o.count);for(let w=g,T=S-1;w<T;w+=m){const b=y.getX(w),C=y.getX(w+1);if(f.fromBufferAttribute(x,b),d.fromBufferAttribute(x,C),Sv.distanceSqToSegment(f,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const D=e.ray.origin.distanceTo(p);D<e.near||D>e.far||t.push({distance:D,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),S=Math.min(x.count,o.start+o.count);for(let w=g,T=S-1;w<T;w+=m){if(f.fromBufferAttribute(x,w),d.fromBufferAttribute(x,w+1),Sv.distanceSqToSegment(f,d,p,h)>l)continue;p.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(p);C<e.near||C>e.far||t.push({distance:C,point:h.clone().applyMatrix4(this.matrixWorld),index:w,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const dE=new F,hE=new F;class ds extends Wo{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)dE.fromBufferAttribute(t,r),hE.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+dE.distanceTo(hE);e.setAttribute("lineDistance",new Ze(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class P8 extends Wo{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class H_ extends pi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ze(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const pE=new pt,F2=new tl,wp=new di,Ep=new F;class R8 extends Ft{constructor(e=new Et,t=new H_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),wp.copy(i.boundingSphere),wp.applyMatrix4(r),wp.radius+=s,e.ray.intersectsSphere(wp)===!1)return;pE.copy(r).invert(),F2.copy(e.ray).applyMatrix4(pE);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,f=i.index,h=i.attributes.position;if(f!==null){const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,_=m;y<_;y++){const x=f.getX(y);Ep.fromBufferAttribute(h,x),mE(Ep,x,l,r,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let y=p,_=m;y<_;y++)Ep.fromBufferAttribute(h,y),mE(Ep,y,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function mE(n,e,t,i,r,s,o){const a=F2.distanceSqToPoint(n);if(a<t){const l=new F;F2.closestPointToPoint(n,l),l.applyMatrix4(i);const f=r.ray.origin.distanceTo(l);if(f<r.near||f>r.far)return;s.push({distance:f,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class OH extends En{constructor(e,t,i,r,s,o,a,l,f){super(e,t,i,r,s,o,a,l,f),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Mn,this.magFilter=s!==void 0?s:Mn,this.generateMipmaps=!1;const d=this;function h(){d.needsUpdate=!0,e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(h)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FH extends En{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=_n,this.minFilter=_n,this.generateMipmaps=!1,this.needsUpdate=!0}}class km extends En{constructor(e,t,i,r,s,o,a,l,f,d,h,p){super(null,o,a,l,f,d,r,s,h,p),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zH extends km{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ci}}class kH extends km{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Ws),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class BH extends En{constructor(e,t,i,r,s,o,a,l,f){super(e,t,i,r,s,o,a,l,f),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Hr{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;t?o=t:o=e*i[s-1];let a=0,l=s-1,f;for(;a<=l;)if(r=Math.floor(a+(l-a)/2),f=i[r]-o,f<0)a=r+1;else if(f>0)l=r-1;else{l=r;break}if(r=l,i[r]===o)return r/(s-1);const d=i[r],p=i[r+1]-d,m=(o-d)/p;return(r+m)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),l=t||(o.isVector2?new pe:new F);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new F,r=[],s=[],o=[],a=new F,l=new pt;for(let m=0;m<=e;m++){const y=m/e;r[m]=this.getTangentAt(y,new F)}s[0]=new F,o[0]=new F;let f=Number.MAX_VALUE;const d=Math.abs(r[0].x),h=Math.abs(r[0].y),p=Math.abs(r[0].z);d<=f&&(f=d,i.set(1,0,0)),h<=f&&(f=h,i.set(0,1,0)),p<=f&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(r[m-1],r[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(pn(r[m-1].dot(r[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(r[m],s[m])}if(t===!0){let m=Math.acos(pn(s[0].dot(s[e]),-1,1));m/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(r[y],m*y)),o[y].crossVectors(r[y],s[y])}return{tangents:r,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Bm extends Hr{constructor(e=0,t=0,i=1,r=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const i=t||new pe,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(o?s=0:s=r),this.aClockwise===!0&&!o&&(s===r?s=-r:s=s-r);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),f=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),p=l-this.aX,m=f-this.aY;l=p*d-m*h+this.aX,f=p*h+m*d+this.aY}return i.set(l,f)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class L8 extends Bm{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function G_(){let n=0,e=0,t=0,i=0;function r(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,i=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,f){r(o,a,f*(a-s),f*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,f,d,h){let p=(o-s)/f-(a-s)/(f+d)+(a-o)/d,m=(a-o)/d-(l-o)/(d+h)+(l-a)/h;p*=d,m*=d,r(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+i*a}}}const Tp=new F,Mv=new G_,wv=new G_,Ev=new G_;class I8 extends Hr{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new F){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let f,d;this.closed||a>0?f=r[(a-1)%s]:(Tp.subVectors(r[0],r[1]).add(r[0]),f=Tp);const h=r[a%s],p=r[(a+1)%s];if(this.closed||a+2<s?d=r[(a+2)%s]:(Tp.subVectors(r[s-1],r[s-2]).add(r[s-1]),d=Tp),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(f.distanceToSquared(h),m),_=Math.pow(h.distanceToSquared(p),m),x=Math.pow(p.distanceToSquared(d),m);_<1e-4&&(_=1),y<1e-4&&(y=_),x<1e-4&&(x=_),Mv.initNonuniformCatmullRom(f.x,h.x,p.x,d.x,y,_,x),wv.initNonuniformCatmullRom(f.y,h.y,p.y,d.y,y,_,x),Ev.initNonuniformCatmullRom(f.z,h.z,p.z,d.z,y,_,x)}else this.curveType==="catmullrom"&&(Mv.initCatmullRom(f.x,h.x,p.x,d.x,this.tension),wv.initCatmullRom(f.y,h.y,p.y,d.y,this.tension),Ev.initCatmullRom(f.z,h.z,p.z,d.z,this.tension));return i.set(Mv.calc(l),wv.calc(l),Ev.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new F().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gE(n,e,t,i,r){const s=(i-e)*.5,o=(r-t)*.5,a=n*n,l=n*a;return(2*t-2*i+s+o)*l+(-3*t+3*i-2*s-o)*a+s*n+t}function VH(n,e){const t=1-n;return t*t*e}function HH(n,e){return 2*(1-n)*n*e}function GH(n,e){return n*n*e}function uf(n,e,t,i){return VH(n,e)+HH(n,t)+GH(n,i)}function WH(n,e){const t=1-n;return t*t*t*e}function XH(n,e){const t=1-n;return 3*t*t*n*e}function jH(n,e){return 3*(1-n)*n*n*e}function YH(n,e){return n*n*n*e}function cf(n,e,t,i,r){return WH(n,e)+XH(n,t)+jH(n,i)+YH(n,r)}class W_ extends Hr{constructor(e=new pe,t=new pe,i=new pe,r=new pe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(cf(e,r.x,s.x,o.x,a.x),cf(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class D8 extends Hr{constructor(e=new F,t=new F,i=new F,r=new F){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(cf(e,r.x,s.x,o.x,a.x),cf(e,r.y,s.y,o.y,a.y),cf(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class X_ extends Hr{constructor(e=new pe,t=new pe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new pe){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new pe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class N8 extends Hr{constructor(e=new F,t=new F){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new F){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new F){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class j_ extends Hr{constructor(e=new pe,t=new pe,i=new pe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new pe){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(uf(e,r.x,s.x,o.x),uf(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Y_ extends Hr{constructor(e=new F,t=new F,i=new F){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new F){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(uf(e,r.x,s.x,o.x),uf(e,r.y,s.y,o.y),uf(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class q_ extends Hr{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new pe){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,l=r[o===0?o:o-1],f=r[o],d=r[o>r.length-2?r.length-1:o+1],h=r[o>r.length-3?r.length-1:o+2];return i.set(gE(a,l.x,f.x,d.x,h.x),gE(a,l.y,f.y,d.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new pe().fromArray(r))}return this}}var Q0=Object.freeze({__proto__:null,ArcCurve:L8,CatmullRomCurve3:I8,CubicBezierCurve:W_,CubicBezierCurve3:D8,EllipseCurve:Bm,LineCurve:X_,LineCurve3:N8,QuadraticBezierCurve:j_,QuadraticBezierCurve3:Y_,SplineCurve:q_});class U8 extends Hr{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Q0[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],l=a.getLength(),f=l===0?0:1-o/l;return a.getPointAt(f,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let f=0;f<l.length;f++){const d=l[f];i&&i.equals(d)||(t.push(d),i=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new Q0[r.type]().fromJSON(r))}return this}}class Kf extends U8{constructor(e){super(),this.type="Path",this.currentPoint=new pe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new X_(this.currentPoint.clone(),new pe(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new j_(this.currentPoint.clone(),new pe(e,t),new pe(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new W_(this.currentPoint.clone(),new pe(e,t),new pe(i,r),new pe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new q_(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,l){const f=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+f,t+d,i,r,s,o,a,l),this}absellipse(e,t,i,r,s,o,a,l){const f=new Bm(e,t,i,r,s,o,a,l);if(this.curves.length>0){const h=f.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(f);const d=f.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class wd extends Et{constructor(e=[new pe(0,-.5),new pe(.5,0),new pe(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=pn(r,0,Math.PI*2);const s=[],o=[],a=[],l=[],f=[],d=1/t,h=new F,p=new pe,m=new F,y=new F,_=new F;let x=0,g=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-x,m.z=g*0,_.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(_.x,_.y,_.z);break;default:x=e[S+1].x-e[S].x,g=e[S+1].y-e[S].y,m.x=g*1,m.y=-x,m.z=g*0,y.copy(m),m.x+=_.x,m.y+=_.y,m.z+=_.z,m.normalize(),l.push(m.x,m.y,m.z),_.copy(y)}for(let S=0;S<=t;S++){const w=i+S*d*r,T=Math.sin(w),b=Math.cos(w);for(let C=0;C<=e.length-1;C++){h.x=e[C].x*T,h.y=e[C].y,h.z=e[C].x*b,o.push(h.x,h.y,h.z),p.x=S/t,p.y=C/(e.length-1),a.push(p.x,p.y);const L=l[3*C+0]*T,D=l[3*C+1],P=l[3*C+0]*b;f.push(L,D,P)}}for(let S=0;S<t;S++)for(let w=0;w<e.length-1;w++){const T=w+S*e.length,b=T,C=T+e.length,L=T+e.length+1,D=T+1;s.push(b,C,D),s.push(L,D,C)}this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("uv",new Ze(a,2)),this.setAttribute("normal",new Ze(f,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wd(e.points,e.segments,e.phiStart,e.phiLength)}}class Vm extends wd{constructor(e=1,t=1,i=4,r=8){const s=new Kf;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(i),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:i,radialSegments:r}}static fromJSON(e){return new Vm(e.radius,e.length,e.capSegments,e.radialSegments)}}class Hm extends Et{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],o=[],a=[],l=[],f=new F,d=new pe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let h=0,p=3;h<=t;h++,p+=3){const m=i+h/t*r;f.x=e*Math.cos(m),f.y=e*Math.sin(m),o.push(f.x,f.y,f.z),a.push(0,0,1),d.x=(o[p]/e+1)/2,d.y=(o[p+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)s.push(h,h+1,0);this.setIndex(s),this.setAttribute("position",new Ze(o,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hm(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Xu extends Et{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const f=this;r=Math.floor(r),s=Math.floor(s);const d=[],h=[],p=[],m=[];let y=0;const _=[],x=i/2;let g=0;S(),o===!1&&(e>0&&w(!0),t>0&&w(!1)),this.setIndex(d),this.setAttribute("position",new Ze(h,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function S(){const T=new F,b=new F;let C=0;const L=(t-e)/i;for(let D=0;D<=s;D++){const P=[],R=D/s,V=R*(t-e)+e;for(let K=0;K<=r;K++){const oe=K/r,H=oe*l+a,$=Math.sin(H),te=Math.cos(H);b.x=V*$,b.y=-R*i+x,b.z=V*te,h.push(b.x,b.y,b.z),T.set($,L,te).normalize(),p.push(T.x,T.y,T.z),m.push(oe,1-R),P.push(y++)}_.push(P)}for(let D=0;D<r;D++)for(let P=0;P<s;P++){const R=_[P][D],V=_[P+1][D],K=_[P+1][D+1],oe=_[P][D+1];d.push(R,V,oe),d.push(V,K,oe),C+=6}f.addGroup(g,C,0),g+=C}function w(T){const b=y,C=new pe,L=new F;let D=0;const P=T===!0?e:t,R=T===!0?1:-1;for(let K=1;K<=r;K++)h.push(0,x*R,0),p.push(0,R,0),m.push(.5,.5),y++;const V=y;for(let K=0;K<=r;K++){const H=K/r*l+a,$=Math.cos(H),te=Math.sin(H);L.x=P*te,L.y=x*R,L.z=P*$,h.push(L.x,L.y,L.z),p.push(0,R,0),C.x=$*.5+.5,C.y=te*.5*R+.5,m.push(C.x,C.y),y++}for(let K=0;K<r;K++){const oe=b+K,H=V+K;T===!0?d.push(H,H+1,oe):d.push(H+1,H,oe),D+=3}f.addGroup(g,D,T===!0?1:2),g+=D}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xu(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Gm extends Xu{constructor(e=1,t=1,i=32,r=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,i,r,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Gm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ko extends Et{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),f(i),d(),this.setAttribute("position",new Ze(s,3)),this.setAttribute("normal",new Ze(s.slice(),3)),this.setAttribute("uv",new Ze(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(S){const w=new F,T=new F,b=new F;for(let C=0;C<t.length;C+=3)m(t[C+0],w),m(t[C+1],T),m(t[C+2],b),l(w,T,b,S)}function l(S,w,T,b){const C=b+1,L=[];for(let D=0;D<=C;D++){L[D]=[];const P=S.clone().lerp(T,D/C),R=w.clone().lerp(T,D/C),V=C-D;for(let K=0;K<=V;K++)K===0&&D===C?L[D][K]=P:L[D][K]=P.clone().lerp(R,K/V)}for(let D=0;D<C;D++)for(let P=0;P<2*(C-D)-1;P++){const R=Math.floor(P/2);P%2===0?(p(L[D][R+1]),p(L[D+1][R]),p(L[D][R])):(p(L[D][R+1]),p(L[D+1][R+1]),p(L[D+1][R]))}}function f(S){const w=new F;for(let T=0;T<s.length;T+=3)w.x=s[T+0],w.y=s[T+1],w.z=s[T+2],w.normalize().multiplyScalar(S),s[T+0]=w.x,s[T+1]=w.y,s[T+2]=w.z}function d(){const S=new F;for(let w=0;w<s.length;w+=3){S.x=s[w+0],S.y=s[w+1],S.z=s[w+2];const T=x(S)/2/Math.PI+.5,b=g(S)/Math.PI+.5;o.push(T,1-b)}y(),h()}function h(){for(let S=0;S<o.length;S+=6){const w=o[S+0],T=o[S+2],b=o[S+4],C=Math.max(w,T,b),L=Math.min(w,T,b);C>.9&&L<.1&&(w<.2&&(o[S+0]+=1),T<.2&&(o[S+2]+=1),b<.2&&(o[S+4]+=1))}}function p(S){s.push(S.x,S.y,S.z)}function m(S,w){const T=S*3;w.x=e[T+0],w.y=e[T+1],w.z=e[T+2]}function y(){const S=new F,w=new F,T=new F,b=new F,C=new pe,L=new pe,D=new pe;for(let P=0,R=0;P<s.length;P+=9,R+=6){S.set(s[P+0],s[P+1],s[P+2]),w.set(s[P+3],s[P+4],s[P+5]),T.set(s[P+6],s[P+7],s[P+8]),C.set(o[R+0],o[R+1]),L.set(o[R+2],o[R+3]),D.set(o[R+4],o[R+5]),b.copy(S).add(w).add(T).divideScalar(3);const V=x(b);_(C,R+0,S,V),_(L,R+2,w,V),_(D,R+4,T,V)}}function _(S,w,T,b){b<0&&S.x===1&&(o[w]=S.x-1),T.x===0&&T.z===0&&(o[w]=b/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function g(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ko(e.vertices,e.indices,e.radius,e.details)}}class Wm extends Ko{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Wm(e.radius,e.detail)}}const Ap=new F,Cp=new F,Tv=new F,bp=new Di;class O8 extends Et{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(za*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,f=[0,0,0],d=["a","b","c"],h=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(f[0]=o.getX(y),f[1]=o.getX(y+1),f[2]=o.getX(y+2)):(f[0]=y,f[1]=y+1,f[2]=y+2);const{a:_,b:x,c:g}=bp;if(_.fromBufferAttribute(a,f[0]),x.fromBufferAttribute(a,f[1]),g.fromBufferAttribute(a,f[2]),bp.getNormal(Tv),h[0]=`${Math.round(_.x*r)},${Math.round(_.y*r)},${Math.round(_.z*r)}`,h[1]=`${Math.round(x.x*r)},${Math.round(x.y*r)},${Math.round(x.z*r)}`,h[2]=`${Math.round(g.x*r)},${Math.round(g.y*r)},${Math.round(g.z*r)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let S=0;S<3;S++){const w=(S+1)%3,T=h[S],b=h[w],C=bp[d[S]],L=bp[d[w]],D=`${T}_${b}`,P=`${b}_${T}`;P in p&&p[P]?(Tv.dot(p[P].normal)<=s&&(m.push(C.x,C.y,C.z),m.push(L.x,L.y,L.z)),p[P]=null):D in p||(p[D]={index0:f[S],index1:f[w],normal:Tv.clone()})}}for(const y in p)if(p[y]){const{index0:_,index1:x}=p[y];Ap.fromBufferAttribute(a,_),Cp.fromBufferAttribute(a,x),m.push(Ap.x,Ap.y,Ap.z),m.push(Cp.x,Cp.y,Cp.z)}this.setAttribute("position",new Ze(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Va extends Kf{constructor(e){super(e),this.uuid=Ji(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new Kf().fromJSON(r))}return this}}const qH={triangulate:function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=F8(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,f,d,h,p,m;if(i&&(s=$H(n,e,s,t)),n.length>80*t){a=f=n[0],l=d=n[1];for(let y=t;y<r;y+=t)h=n[y],p=n[y+1],h<a&&(a=h),p<l&&(l=p),h>f&&(f=h),p>d&&(d=p);m=Math.max(f-a,d-l),m=m!==0?32767/m:0}return Jf(s,o,t,a,l,m,0),o}};function F8(n,e,t,i,r){let s,o;if(r===cG(n,e,t,i)>0)for(s=e;s<t;s+=i)o=vE(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=vE(s,n[s],n[s+1],o);return o&&Xm(o,o.next)&&($f(o),o=o.next),o}function Za(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Xm(t,t.next)||an(t.prev,t,t.next)===0)){if($f(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function Jf(n,e,t,i,r,s,o){if(!n)return;!o&&s&&rG(n,i,r,s);let a=n,l,f;for(;n.prev!==n.next;){if(l=n.prev,f=n.next,s?KH(n,i,r,s):ZH(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(f.i/t|0),$f(n),n=f.next,a=f.next;continue}if(n=f,n===a){o?o===1?(n=JH(Za(n),e,t),Jf(n,e,t,i,r,s,2)):o===2&&QH(n,e,t,i,r,s):Jf(Za(n),e,t,i,r,s,1);break}}}function ZH(n){const e=n.prev,t=n,i=n.next;if(an(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,l=t.y,f=i.y,d=r<s?r<o?r:o:s<o?s:o,h=a<l?a<f?a:f:l<f?l:f,p=r>s?r>o?r:o:s>o?s:o,m=a>l?a>f?a:f:l>f?l:f;let y=i.next;for(;y!==e;){if(y.x>=d&&y.x<=p&&y.y>=h&&y.y<=m&&hu(r,a,s,l,o,f,y.x,y.y)&&an(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function KH(n,e,t,i){const r=n.prev,s=n,o=n.next;if(an(r,s,o)>=0)return!1;const a=r.x,l=s.x,f=o.x,d=r.y,h=s.y,p=o.y,m=a<l?a<f?a:f:l<f?l:f,y=d<h?d<p?d:p:h<p?h:p,_=a>l?a>f?a:f:l>f?l:f,x=d>h?d>p?d:p:h>p?h:p,g=z2(m,y,e,t,i),S=z2(_,x,e,t,i);let w=n.prevZ,T=n.nextZ;for(;w&&w.z>=g&&T&&T.z<=S;){if(w.x>=m&&w.x<=_&&w.y>=y&&w.y<=x&&w!==r&&w!==o&&hu(a,d,l,h,f,p,w.x,w.y)&&an(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=m&&T.x<=_&&T.y>=y&&T.y<=x&&T!==r&&T!==o&&hu(a,d,l,h,f,p,T.x,T.y)&&an(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=g;){if(w.x>=m&&w.x<=_&&w.y>=y&&w.y<=x&&w!==r&&w!==o&&hu(a,d,l,h,f,p,w.x,w.y)&&an(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=S;){if(T.x>=m&&T.x<=_&&T.y>=y&&T.y<=x&&T!==r&&T!==o&&hu(a,d,l,h,f,p,T.x,T.y)&&an(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function JH(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!Xm(r,s)&&z8(r,i,i.next,s)&&Qf(r,s)&&Qf(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),$f(i),$f(i.next),i=n=s),i=i.next}while(i!==n);return Za(i)}function QH(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&aG(o,a)){let l=k8(o,a);o=Za(o,o.next),l=Za(l,l.next),Jf(o,e,t,i,r,s,0),Jf(l,e,t,i,r,s,0);return}a=a.next}o=o.next}while(o!==n)}function $H(n,e,t,i){const r=[];let s,o,a,l,f;for(s=0,o=e.length;s<o;s++)a=e[s]*i,l=s<o-1?e[s+1]*i:n.length,f=F8(n,a,l,i,!1),f===f.next&&(f.steiner=!0),r.push(oG(f));for(r.sort(eG),s=0;s<r.length;s++)t=tG(r[s],t);return t}function eG(n,e){return n.x-e.x}function tG(n,e){const t=nG(n,e);if(!t)return e;const i=k8(t,n);return Za(i,i.next),Za(t,t.next)}function nG(n,e){let t=e,i=-1/0,r;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>i&&(i=p,r=t.x<t.next.x?t:t.next,p===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,l=r.x,f=r.y;let d=1/0,h;t=r;do s>=t.x&&t.x>=l&&s!==t.x&&hu(o<f?s:i,o,l,f,o<f?i:s,o,t.x,t.y)&&(h=Math.abs(o-t.y)/(s-t.x),Qf(t,n)&&(h<d||h===d&&(t.x>r.x||t.x===r.x&&iG(r,t)))&&(r=t,d=h)),t=t.next;while(t!==a);return r}function iG(n,e){return an(n.prev,n,e.prev)<0&&an(e.next,n,n.next)<0}function rG(n,e,t,i){let r=n;do r.z===0&&(r.z=z2(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,sG(r)}function sG(n){let e,t,i,r,s,o,a,l,f=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<f&&(a++,i=i.nextZ,!!i);e++);for(l=f;a>0||l>0&&i;)a!==0&&(l===0||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,f*=2}while(o>1);return n}function z2(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function oG(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function hu(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function aG(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!lG(n,e)&&(Qf(n,e)&&Qf(e,n)&&uG(n,e)&&(an(n.prev,n,e.prev)||an(n,e.prev,e))||Xm(n,e)&&an(n.prev,n,n.next)>0&&an(e.prev,e,e.next)>0)}function an(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Xm(n,e){return n.x===e.x&&n.y===e.y}function z8(n,e,t,i){const r=Rp(an(n,e,t)),s=Rp(an(n,e,i)),o=Rp(an(t,i,n)),a=Rp(an(t,i,e));return!!(r!==s&&o!==a||r===0&&Pp(n,t,e)||s===0&&Pp(n,i,e)||o===0&&Pp(t,n,i)||a===0&&Pp(t,e,i))}function Pp(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Rp(n){return n>0?1:n<0?-1:0}function lG(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&z8(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Qf(n,e){return an(n.prev,n,n.next)<0?an(n,e,n.next)>=0&&an(n,n.prev,e)>=0:an(n,e,n.prev)<0||an(n,n.next,e)<0}function uG(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function k8(n,e){const t=new k2(n.i,n.x,n.y),i=new k2(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function vE(n,e,t,i){const r=new k2(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function $f(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function k2(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function cG(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}class us{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return us.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];yE(e),xE(i,e);let o=e.length;t.forEach(yE);for(let l=0;l<t.length;l++)r.push(o),o+=t[l].length,xE(i,t[l]);const a=qH.triangulate(i,r);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function yE(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function xE(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class jm extends Et{constructor(e=new Va([new pe(.5,.5),new pe(-.5,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,l=e.length;a<l;a++){const f=e[a];o(f)}this.setAttribute("position",new Ze(r,3)),this.setAttribute("uv",new Ze(s,2)),this.computeVertexNormals();function o(a){const l=[],f=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,y=t.bevelSize!==void 0?t.bevelSize:m-.1,_=t.bevelOffset!==void 0?t.bevelOffset:0,x=t.bevelSegments!==void 0?t.bevelSegments:3;const g=t.extrudePath,S=t.UVGenerator!==void 0?t.UVGenerator:fG;let w,T=!1,b,C,L,D;g&&(w=g.getSpacedPoints(d),T=!0,p=!1,b=g.computeFrenetFrames(d,!1),C=new F,L=new F,D=new F),p||(x=0,m=0,y=0,_=0);const P=a.extractPoints(f);let R=P.shape;const V=P.holes;if(!us.isClockWise(R)){R=R.reverse();for(let G=0,Ee=V.length;G<Ee;G++){const me=V[G];us.isClockWise(me)&&(V[G]=me.reverse())}}const oe=us.triangulateShape(R,V),H=R;for(let G=0,Ee=V.length;G<Ee;G++){const me=V[G];R=R.concat(me)}function $(G,Ee,me){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(Ee,me)}const te=R.length,ce=oe.length;function N(G,Ee,me){let Ae,ge,Ke;const Ne=G.x-Ee.x,U=G.y-Ee.y,I=me.x-G.x,re=me.y-G.y,Se=Ne*Ne+U*U,xe=Ne*re-U*I;if(Math.abs(xe)>Number.EPSILON){const ve=Math.sqrt(Se),Ye=Math.sqrt(I*I+re*re),Ie=Ee.x-U/ve,Be=Ee.y+Ne/ve,it=me.x-re/Ye,gt=me.y+I/Ye,Me=((it-Ie)*re-(gt-Be)*I)/(Ne*re-U*I);Ae=Ie+Ne*Me-G.x,ge=Be+U*Me-G.y;const Lt=Ae*Ae+ge*ge;if(Lt<=2)return new pe(Ae,ge);Ke=Math.sqrt(Lt/2)}else{let ve=!1;Ne>Number.EPSILON?I>Number.EPSILON&&(ve=!0):Ne<-Number.EPSILON?I<-Number.EPSILON&&(ve=!0):Math.sign(U)===Math.sign(re)&&(ve=!0),ve?(Ae=-U,ge=Ne,Ke=Math.sqrt(Se)):(Ae=Ne,ge=U,Ke=Math.sqrt(Se/2))}return new pe(Ae/Ke,ge/Ke)}const k=[];for(let G=0,Ee=H.length,me=Ee-1,Ae=G+1;G<Ee;G++,me++,Ae++)me===Ee&&(me=0),Ae===Ee&&(Ae=0),k[G]=N(H[G],H[me],H[Ae]);const B=[];let Z,ee=k.concat();for(let G=0,Ee=V.length;G<Ee;G++){const me=V[G];Z=[];for(let Ae=0,ge=me.length,Ke=ge-1,Ne=Ae+1;Ae<ge;Ae++,Ke++,Ne++)Ke===ge&&(Ke=0),Ne===ge&&(Ne=0),Z[Ae]=N(me[Ae],me[Ke],me[Ne]);B.push(Z),ee=ee.concat(Z)}for(let G=0;G<x;G++){const Ee=G/x,me=m*Math.cos(Ee*Math.PI/2),Ae=y*Math.sin(Ee*Math.PI/2)+_;for(let ge=0,Ke=H.length;ge<Ke;ge++){const Ne=$(H[ge],k[ge],Ae);Ce(Ne.x,Ne.y,-me)}for(let ge=0,Ke=V.length;ge<Ke;ge++){const Ne=V[ge];Z=B[ge];for(let U=0,I=Ne.length;U<I;U++){const re=$(Ne[U],Z[U],Ae);Ce(re.x,re.y,-me)}}}const Y=y+_;for(let G=0;G<te;G++){const Ee=p?$(R[G],ee[G],Y):R[G];T?(L.copy(b.normals[0]).multiplyScalar(Ee.x),C.copy(b.binormals[0]).multiplyScalar(Ee.y),D.copy(w[0]).add(L).add(C),Ce(D.x,D.y,D.z)):Ce(Ee.x,Ee.y,0)}for(let G=1;G<=d;G++)for(let Ee=0;Ee<te;Ee++){const me=p?$(R[Ee],ee[Ee],Y):R[Ee];T?(L.copy(b.normals[G]).multiplyScalar(me.x),C.copy(b.binormals[G]).multiplyScalar(me.y),D.copy(w[G]).add(L).add(C),Ce(D.x,D.y,D.z)):Ce(me.x,me.y,h/d*G)}for(let G=x-1;G>=0;G--){const Ee=G/x,me=m*Math.cos(Ee*Math.PI/2),Ae=y*Math.sin(Ee*Math.PI/2)+_;for(let ge=0,Ke=H.length;ge<Ke;ge++){const Ne=$(H[ge],k[ge],Ae);Ce(Ne.x,Ne.y,h+me)}for(let ge=0,Ke=V.length;ge<Ke;ge++){const Ne=V[ge];Z=B[ge];for(let U=0,I=Ne.length;U<I;U++){const re=$(Ne[U],Z[U],Ae);T?Ce(re.x,re.y+w[d-1].y,w[d-1].x+me):Ce(re.x,re.y,h+me)}}}q(),ae();function q(){const G=r.length/3;if(p){let Ee=0,me=te*Ee;for(let Ae=0;Ae<ce;Ae++){const ge=oe[Ae];nt(ge[2]+me,ge[1]+me,ge[0]+me)}Ee=d+x*2,me=te*Ee;for(let Ae=0;Ae<ce;Ae++){const ge=oe[Ae];nt(ge[0]+me,ge[1]+me,ge[2]+me)}}else{for(let Ee=0;Ee<ce;Ee++){const me=oe[Ee];nt(me[2],me[1],me[0])}for(let Ee=0;Ee<ce;Ee++){const me=oe[Ee];nt(me[0]+te*d,me[1]+te*d,me[2]+te*d)}}i.addGroup(G,r.length/3-G,0)}function ae(){const G=r.length/3;let Ee=0;_e(H,Ee),Ee+=H.length;for(let me=0,Ae=V.length;me<Ae;me++){const ge=V[me];_e(ge,Ee),Ee+=ge.length}i.addGroup(G,r.length/3-G,1)}function _e(G,Ee){let me=G.length;for(;--me>=0;){const Ae=me;let ge=me-1;ge<0&&(ge=G.length-1);for(let Ke=0,Ne=d+x*2;Ke<Ne;Ke++){const U=te*Ke,I=te*(Ke+1),re=Ee+Ae+U,Se=Ee+ge+U,xe=Ee+ge+I,ve=Ee+Ae+I;st(re,Se,xe,ve)}}}function Ce(G,Ee,me){l.push(G),l.push(Ee),l.push(me)}function nt(G,Ee,me){je(G),je(Ee),je(me);const Ae=r.length/3,ge=S.generateTopUV(i,r,Ae-3,Ae-2,Ae-1);Qe(ge[0]),Qe(ge[1]),Qe(ge[2])}function st(G,Ee,me,Ae){je(G),je(Ee),je(Ae),je(Ee),je(me),je(Ae);const ge=r.length/3,Ke=S.generateSideWallUV(i,r,ge-6,ge-3,ge-2,ge-1);Qe(Ke[0]),Qe(Ke[1]),Qe(Ke[3]),Qe(Ke[1]),Qe(Ke[2]),Qe(Ke[3])}function je(G){r.push(l[G*3+0]),r.push(l[G*3+1]),r.push(l[G*3+2])}function Qe(G){s.push(G.x),s.push(G.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return dG(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];i.push(a)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new Q0[r.type]().fromJSON(r)),new jm(i,e.options)}}const fG={generateTopUV:function(n,e,t,i,r){const s=e[t*3],o=e[t*3+1],a=e[i*3],l=e[i*3+1],f=e[r*3],d=e[r*3+1];return[new pe(s,o),new pe(a,l),new pe(f,d)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],f=e[i*3],d=e[i*3+1],h=e[i*3+2],p=e[r*3],m=e[r*3+1],y=e[r*3+2],_=e[s*3],x=e[s*3+1],g=e[s*3+2];return Math.abs(a-d)<Math.abs(o-f)?[new pe(o,1-l),new pe(f,1-h),new pe(p,1-y),new pe(_,1-g)]:[new pe(a,1-l),new pe(d,1-h),new pe(m,1-y),new pe(x,1-g)]}};function dG(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ym extends Ko{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ym(e.radius,e.detail)}}class Ed extends Ko{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ed(e.radius,e.detail)}}class qm extends Et{constructor(e=.5,t=1,i=32,r=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:o},i=Math.max(3,i),r=Math.max(1,r);const a=[],l=[],f=[],d=[];let h=e;const p=(t-e)/r,m=new F,y=new pe;for(let _=0;_<=r;_++){for(let x=0;x<=i;x++){const g=s+x/i*o;m.x=h*Math.cos(g),m.y=h*Math.sin(g),l.push(m.x,m.y,m.z),f.push(0,0,1),y.x=(m.x/t+1)/2,y.y=(m.y/t+1)/2,d.push(y.x,y.y)}h+=p}for(let _=0;_<r;_++){const x=_*(i+1);for(let g=0;g<i;g++){const S=g+x,w=S,T=S+i+1,b=S+i+2,C=S+1;a.push(w,T,C),a.push(T,b,C)}}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(f,3)),this.setAttribute("uv",new Ze(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qm(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Zm extends Et{constructor(e=new Va([new pe(0,.5),new pe(-.5,-.5),new pe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)f(e);else for(let d=0;d<e.length;d++)f(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(i),this.setAttribute("position",new Ze(r,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(o,2));function f(d){const h=r.length/3,p=d.extractPoints(t);let m=p.shape;const y=p.holes;us.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,g=y.length;x<g;x++){const S=y[x];us.isClockWise(S)===!0&&(y[x]=S.reverse())}const _=us.triangulateShape(m,y);for(let x=0,g=y.length;x<g;x++){const S=y[x];m=m.concat(S)}for(let x=0,g=m.length;x<g;x++){const S=m[x];r.push(S.x,S.y,0),s.push(0,0,1),o.push(S.x,S.y)}for(let x=0,g=_.length;x<g;x++){const S=_[x],w=S[0]+h,T=S[1]+h,b=S[2]+h;i.push(w,T,b),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return hG(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const o=t[e.shapes[r]];i.push(o)}return new Zm(i,e.curveSegments)}}function hG(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class Td extends Et{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let f=0;const d=[],h=new F,p=new F,m=[],y=[],_=[],x=[];for(let g=0;g<=i;g++){const S=[],w=g/i;let T=0;g===0&&o===0?T=.5/t:g===i&&l===Math.PI&&(T=-.5/t);for(let b=0;b<=t;b++){const C=b/t;h.x=-e*Math.cos(r+C*s)*Math.sin(o+w*a),h.y=e*Math.cos(o+w*a),h.z=e*Math.sin(r+C*s)*Math.sin(o+w*a),y.push(h.x,h.y,h.z),p.copy(h).normalize(),_.push(p.x,p.y,p.z),x.push(C+T,1-w),S.push(f++)}d.push(S)}for(let g=0;g<i;g++)for(let S=0;S<t;S++){const w=d[g][S+1],T=d[g][S],b=d[g+1][S],C=d[g+1][S+1];(g!==0||o>0)&&m.push(w,T,C),(g!==i-1||l<Math.PI)&&m.push(T,b,C)}this.setIndex(m),this.setAttribute("position",new Ze(y,3)),this.setAttribute("normal",new Ze(_,3)),this.setAttribute("uv",new Ze(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Td(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Km extends Ko{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Km(e.radius,e.detail)}}class Jm extends Et{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],f=[],d=new F,h=new F,p=new F;for(let m=0;m<=i;m++)for(let y=0;y<=r;y++){const _=y/r*s,x=m/i*Math.PI*2;h.x=(e+t*Math.cos(x))*Math.cos(_),h.y=(e+t*Math.cos(x))*Math.sin(_),h.z=t*Math.sin(x),a.push(h.x,h.y,h.z),d.x=e*Math.cos(_),d.y=e*Math.sin(_),p.subVectors(h,d).normalize(),l.push(p.x,p.y,p.z),f.push(y/r),f.push(m/i)}for(let m=1;m<=i;m++)for(let y=1;y<=r;y++){const _=(r+1)*m+y-1,x=(r+1)*(m-1)+y-1,g=(r+1)*(m-1)+y,S=(r+1)*m+y;o.push(_,x,S),o.push(x,g,S)}this.setIndex(o),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(l,3)),this.setAttribute("uv",new Ze(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jm(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Qm extends Et{constructor(e=1,t=.4,i=64,r=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:o},i=Math.floor(i),r=Math.floor(r);const a=[],l=[],f=[],d=[],h=new F,p=new F,m=new F,y=new F,_=new F,x=new F,g=new F;for(let w=0;w<=i;++w){const T=w/i*s*Math.PI*2;S(T,s,o,e,m),S(T+.01,s,o,e,y),x.subVectors(y,m),g.addVectors(y,m),_.crossVectors(x,g),g.crossVectors(_,x),_.normalize(),g.normalize();for(let b=0;b<=r;++b){const C=b/r*Math.PI*2,L=-t*Math.cos(C),D=t*Math.sin(C);h.x=m.x+(L*g.x+D*_.x),h.y=m.y+(L*g.y+D*_.y),h.z=m.z+(L*g.z+D*_.z),l.push(h.x,h.y,h.z),p.subVectors(h,m).normalize(),f.push(p.x,p.y,p.z),d.push(w/i),d.push(b/r)}}for(let w=1;w<=i;w++)for(let T=1;T<=r;T++){const b=(r+1)*(w-1)+(T-1),C=(r+1)*w+(T-1),L=(r+1)*w+T,D=(r+1)*(w-1)+T;a.push(b,C,D),a.push(C,L,D)}this.setIndex(a),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(f,3)),this.setAttribute("uv",new Ze(d,2));function S(w,T,b,C,L){const D=Math.cos(w),P=Math.sin(w),R=b/T*w,V=Math.cos(R);L.x=C*(2+V)*.5*D,L.y=C*(2+V)*P*.5,L.z=C*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Qm(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class $m extends Et{constructor(e=new Y_(new F(-1,-1,0),new F(-1,1,0),new F(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new F,l=new F,f=new pe;let d=new F;const h=[],p=[],m=[],y=[];_(),this.setIndex(y),this.setAttribute("position",new Ze(h,3)),this.setAttribute("normal",new Ze(p,3)),this.setAttribute("uv",new Ze(m,2));function _(){for(let w=0;w<t;w++)x(w);x(s===!1?t:0),S(),g()}function x(w){d=e.getPointAt(w/t,d);const T=o.normals[w],b=o.binormals[w];for(let C=0;C<=r;C++){const L=C/r*Math.PI*2,D=Math.sin(L),P=-Math.cos(L);l.x=P*T.x+D*b.x,l.y=P*T.y+D*b.y,l.z=P*T.z+D*b.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=d.x+i*l.x,a.y=d.y+i*l.y,a.z=d.z+i*l.z,h.push(a.x,a.y,a.z)}}function g(){for(let w=1;w<=t;w++)for(let T=1;T<=r;T++){const b=(r+1)*(w-1)+(T-1),C=(r+1)*w+(T-1),L=(r+1)*w+T,D=(r+1)*(w-1)+T;y.push(b,C,D),y.push(C,L,D)}}function S(){for(let w=0;w<=t;w++)for(let T=0;T<=r;T++)f.x=w/t,f.y=T/r,m.push(f.x,f.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new $m(new Q0[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class B8 extends Et{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new F,s=new F;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let f=0,d=l.length;f<d;++f){const h=l[f],p=h.start,m=h.count;for(let y=p,_=p+m;y<_;y+=3)for(let x=0;x<3;x++){const g=a.getX(y+x),S=a.getX(y+(x+1)%3);r.fromBufferAttribute(o,g),s.fromBufferAttribute(o,S),_E(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let f=0;f<3;f++){const d=3*a+f,h=3*a+(f+1)%3;r.fromBufferAttribute(o,d),s.fromBufferAttribute(o,h),_E(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ze(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function _E(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var SE=Object.freeze({__proto__:null,BoxGeometry:nl,CapsuleGeometry:Vm,CircleGeometry:Hm,ConeGeometry:Gm,CylinderGeometry:Xu,DodecahedronGeometry:Wm,EdgesGeometry:O8,ExtrudeGeometry:jm,IcosahedronGeometry:Ym,LatheGeometry:wd,OctahedronGeometry:Ed,PlaneGeometry:Md,PolyhedronGeometry:Ko,RingGeometry:qm,ShapeGeometry:Zm,SphereGeometry:Td,TetrahedronGeometry:Km,TorusGeometry:Jm,TorusKnotGeometry:Qm,TubeGeometry:$m,WireframeGeometry:B8});class V8 extends pi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ze(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class H8 extends fs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Z_ extends pi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ze(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class G8 extends Z_{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new pe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return pn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ze(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ze(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ze(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class W8 extends pi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ze(16777215),this.specular=new ze(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class X8 extends pi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ze(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class j8 extends pi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Y8 extends pi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ze(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ze(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=gd,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class q8 extends pi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ze(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=qo,this.normalScale=new pe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Z8 extends Ci{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Da(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function K8(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function J8(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function B2(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function K_(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}function pG(n,e,t,i,r=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const f=s.tracks[l],d=f.getValueSize(),h=[],p=[];for(let m=0;m<f.times.length;++m){const y=f.times[m]*r;if(!(y<t||y>=i)){h.push(f.times[m]);for(let _=0;_<d;++_)p.push(f.values[m*d+_])}}h.length!==0&&(f.times=Da(h,f.times.constructor),f.values=Da(p,f.values.constructor),o.push(f))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function mG(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let o=0;o<r;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const f=n.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(f===void 0)continue;let d=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let p=0;const m=f.getValueSize();f.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let _;if(s<=a.times[0]){const g=d,S=h-d;_=a.values.slice(g,S)}else if(s>=a.times[y]){const g=y*h+d,S=g+h-d;_=a.values.slice(g,S)}else{const g=a.createInterpolant(),S=d,w=h-d;g.evaluate(s),_=g.resultBuffer.slice(S,w)}l==="quaternion"&&new fi().fromArray(_).normalize().conjugate().toArray(_);const x=f.times.length;for(let g=0;g<x;++g){const S=g*m+p;if(l==="quaternion")fi.multiplyQuaternionsFlat(f.values,S,_,0,f.values,S);else{const w=m-p*2;for(let T=0;T<w;++T)f.values[S+T]-=_[T]}}}return n.blendMode=A_,n}const gG={convertArray:Da,isTypedArray:K8,getKeyframeOrder:J8,sortedArray:B2,flattenJSON:K_,subclip:pG,makeClipAdditive:mG};class Ad{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0;break n}break e}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Q8 extends Ad{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ra,endingEnd:Ra}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case La:s=e,a=2*t-i;break;case Wf:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case La:o=e,l=2*i-t;break;case Wf:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const f=(i-t)*.5,d=this.valueSize;this._weightPrev=f/(t-a),this._weightNext=f/(l-i),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,d=this._offsetPrev,h=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(i-t)/(r-t),_=y*y,x=_*y,g=-p*x+2*p*_-p*y,S=(1+p)*x+(-1.5-2*p)*_+(-.5+p)*y+1,w=(-1-m)*x+(1.5+m)*_+.5*y,T=m*x-m*_;for(let b=0;b!==a;++b)s[b]=g*o[d+b]+S*o[f+b]+w*o[l+b]+T*o[h+b];return s}}class J_ extends Ad{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,f=l-a,d=(i-t)/(r-t),h=1-d;for(let p=0;p!==a;++p)s[p]=o[f+p]*h+o[l+p]*d;return s}}class $8 extends Ad{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Gr{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Da(t,this.TimeBufferType),this.values=Da(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Da(e.times,Array),values:Da(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new $8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new J_(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Q8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Hf:t=this.InterpolantFactoryMethodDiscrete;break;case Gf:t=this.InterpolantFactoryMethodLinear;break;case a0:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hf;case this.InterpolantFactoryMethodLinear:return Gf;case this.InterpolantFactoryMethodSmooth:return a0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&K8(r))for(let a=0,l=r.length;a!==l;++a){const f=r[a];if(isNaN(f)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,f),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===a0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const f=e[a],d=e[a+1];if(f!==d&&(a!==1||f!==e[0]))if(r)l=!0;else{const h=a*i,p=h-i,m=h+i;for(let y=0;y!==i;++y){const _=t[h+y];if(_!==t[p+y]||_!==t[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const h=a*i,p=o*i;for(let m=0;m!==i;++m)t[p+m]=t[h+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,f=0;f!==i;++f)t[l+f]=t[a+f];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Gr.prototype.TimeBufferType=Float32Array;Gr.prototype.ValueBufferType=Float32Array;Gr.prototype.DefaultInterpolation=Gf;class il extends Gr{}il.prototype.ValueTypeName="bool";il.prototype.ValueBufferType=Array;il.prototype.DefaultInterpolation=Hf;il.prototype.InterpolantFactoryMethodLinear=void 0;il.prototype.InterpolantFactoryMethodSmooth=void 0;class Q_ extends Gr{}Q_.prototype.ValueTypeName="color";class ed extends Gr{}ed.prototype.ValueTypeName="number";class eb extends Ad{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let f=e*a;for(let d=f+a;f!==d;f+=4)fi.slerpFlat(s,0,o,f-a,o,f,l);return s}}class ju extends Gr{InterpolantFactoryMethodLinear(e){return new eb(this.times,this.values,this.getValueSize(),e)}}ju.prototype.ValueTypeName="quaternion";ju.prototype.DefaultInterpolation=Gf;ju.prototype.InterpolantFactoryMethodSmooth=void 0;class rl extends Gr{}rl.prototype.ValueTypeName="string";rl.prototype.ValueBufferType=Array;rl.prototype.DefaultInterpolation=Hf;rl.prototype.InterpolantFactoryMethodLinear=void 0;rl.prototype.InterpolantFactoryMethodSmooth=void 0;class td extends Gr{}td.prototype.ValueTypeName="vector";class nd{constructor(e,t=-1,i,r=Lm){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Ji(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(yG(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(Gr.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],f=[];l.push((a+s-1)%s,a,(a+1)%s),f.push(0,1,0);const d=J8(l);l=B2(l,1,d),f=B2(f,1,d),!r&&l[0]===0&&(l.push(s),f.push(f[0])),o.push(new ed(".morphTargetInfluences["+t[a].name+"]",l,f).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const f=e[a],d=f.name.match(s);if(d&&d.length>1){const h=d[1];let p=r[h];p||(r[h]=p=[]),p.push(f)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(h,p,m,y,_){if(m.length!==0){const x=[],g=[];K_(m,x,g,y),x.length!==0&&_.push(new h(p,x,g))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const f=e.hierarchy||[];for(let h=0;h<f.length;h++){const p=f[h].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let _=0;_<p[y].morphTargets.length;_++)m[p[y].morphTargets[_]]=-1;for(const _ in m){const x=[],g=[];for(let S=0;S!==p[y].morphTargets.length;++S){const w=p[y];x.push(w.time),g.push(w.morphTarget===_?1:0)}r.push(new ed(".morphTargetInfluence["+_+"]",x,g))}l=m.length*o}else{const m=".bones["+t[h].name+"]";i(td,m+".position",p,"pos",r),i(ju,m+".quaternion",p,"rot",r),i(td,m+".scale",p,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function vG(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ed;case"vector":case"vector2":case"vector3":case"vector4":return td;case"color":return Q_;case"quaternion":return ju;case"bool":case"boolean":return il;case"string":return rl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function yG(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=vG(n.type);if(n.times===void 0){const t=[],i=[];K_(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ds={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class $_{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const f=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(d){a++,s===!1&&r.onStart!==void 0&&r.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,r.onProgress!==void 0&&r.onProgress(d,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(d){r.onError!==void 0&&r.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return f.push(d,h),this},this.removeHandler=function(d){const h=f.indexOf(d);return h!==-1&&f.splice(h,2),this},this.getHandler=function(d){for(let h=0,p=f.length;h<p;h+=2){const m=f[h],y=f[h+1];if(m.global&&(m.lastIndex=0),m.test(d))return y}return null}}}const tb=new $_;class ki{constructor(e){this.manager=e!==void 0?e:tb,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ki.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ts={};class xG extends Error{constructor(e,t){super(e),this.response=t}}class Xs extends ki{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ds.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ts[e]!==void 0){Ts[e].push({onLoad:t,onProgress:i,onError:r});return}Ts[e]=[],Ts[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(f=>{if(f.status===200||f.status===0){if(f.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||f.body===void 0||f.body.getReader===void 0)return f;const d=Ts[e],h=f.body.getReader(),p=f.headers.get("Content-Length")||f.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let _=0;const x=new ReadableStream({start(g){S();function S(){h.read().then(({done:w,value:T})=>{if(w)g.close();else{_+=T.byteLength;const b=new ProgressEvent("progress",{lengthComputable:y,loaded:_,total:m});for(let C=0,L=d.length;C<L;C++){const D=d[C];D.onProgress&&D.onProgress(b)}g.enqueue(T),S()}})}}});return new Response(x)}else throw new xG(`fetch for "${f.url}" responded with ${f.status}: ${f.statusText}`,f)}).then(f=>{switch(l){case"arraybuffer":return f.arrayBuffer();case"blob":return f.blob();case"document":return f.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return f.json();default:if(a===void 0)return f.text();{const h=/charset="?([^;"\s]*)"?/i.exec(a),p=h&&h[1]?h[1].toLowerCase():void 0,m=new TextDecoder(p);return f.arrayBuffer().then(y=>m.decode(y))}}}).then(f=>{Ds.add(e,f);const d=Ts[e];delete Ts[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onLoad&&m.onLoad(f)}}).catch(f=>{const d=Ts[e];if(d===void 0)throw this.manager.itemError(e),f;delete Ts[e];for(let h=0,p=d.length;h<p;h++){const m=d[h];m.onError&&m.onError(f)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class _G extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Xs(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=nd.parse(e[i]);t.push(r)}return t}}class SG extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=[],a=new km,l=new Xs(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let f=0;function d(h){l.load(e[h],function(p){const m=s.parse(p,!0);o[h]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},f+=1,f===6&&(m.mipmapCount===1&&(a.minFilter=Mn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},i,r)}if(Array.isArray(e))for(let h=0,p=e.length;h<p;++h)d(h);else l.load(e,function(h){const p=s.parse(h,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let _=0;_<p.mipmapCount;_++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+_]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Mn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},i,r);return a}}class id extends ki{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ds.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Zf("img");function l(){d(),Ds.add(e,this),t&&t(this),s.manager.itemEnd(e)}function f(h){d(),r&&r(h),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",f,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",f,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class MG extends ki{constructor(e){super(e)}load(e,t,i,r){const s=new _d;s.colorSpace=In;const o=new id(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(f){o.load(e[f],function(d){s.images[f]=d,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let f=0;f<e.length;++f)l(f);return s}}class wG extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Ba,a=new Xs(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let f;try{f=s.parse(l)}catch(d){if(r!==void 0)r(d);else{console.error(d);return}}f.image!==void 0?o.image=f.image:f.data!==void 0&&(o.image.width=f.width,o.image.height=f.height,o.image.data=f.data),o.wrapS=f.wrapS!==void 0?f.wrapS:ci,o.wrapT=f.wrapT!==void 0?f.wrapT:ci,o.magFilter=f.magFilter!==void 0?f.magFilter:Mn,o.minFilter=f.minFilter!==void 0?f.minFilter:Mn,o.anisotropy=f.anisotropy!==void 0?f.anisotropy:1,f.colorSpace!==void 0?o.colorSpace=f.colorSpace:f.encoding!==void 0&&(o.encoding=f.encoding),f.flipY!==void 0&&(o.flipY=f.flipY),f.format!==void 0&&(o.format=f.format),f.type!==void 0&&(o.type=f.type),f.mipmaps!==void 0&&(o.mipmaps=f.mipmaps,o.minFilter=Go),f.mipmapCount===1&&(o.minFilter=Mn),f.generateMipmaps!==void 0&&(o.generateMipmaps=f.generateMipmaps),o.needsUpdate=!0,t&&t(o,f)},i,r),o}}class EG extends ki{constructor(e){super(e)}load(e,t,i,r){const s=new En,o=new id(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class Jo extends Ft{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ze(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class nb extends Jo{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ze(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Av=new pt,ME=new F,wE=new F;class e3{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new pe(512,512),this.map=null,this.mapPass=null,this.matrix=new pt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Sd,this._frameExtents=new pe(1,1),this._viewportCount=1,this._viewports=[new Ht(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;ME.setFromMatrixPosition(e.matrixWorld),t.position.copy(ME),wE.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(wE),t.updateMatrixWorld(),Av.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Av),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Av)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class TG extends e3{constructor(){super(new wn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Nu*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class ib extends Jo{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new TG}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const EE=new pt,Nc=new F,Cv=new F;class AG extends e3{constructor(){super(new wn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new pe(4,2),this._viewportCount=6,this._viewports=[new Ht(2,1,1,1),new Ht(0,1,1,1),new Ht(3,1,1,1),new Ht(1,1,1,1),new Ht(3,0,1,1),new Ht(1,0,1,1)],this._cubeDirections=[new F(1,0,0),new F(-1,0,0),new F(0,0,1),new F(0,0,-1),new F(0,1,0),new F(0,-1,0)],this._cubeUps=[new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,1,0),new F(0,0,1),new F(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Nc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Nc),Cv.copy(i.position),Cv.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Cv),i.updateMatrixWorld(),r.makeTranslation(-Nc.x,-Nc.y,-Nc.z),EE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(EE)}}class rb extends Jo{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new AG}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class CG extends e3{constructor(){super(new ko(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class sb extends Jo{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ft.DEFAULT_UP),this.updateMatrix(),this.target=new Ft,this.shadow=new CG}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ob extends Jo{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class ab extends Jo{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class lb{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new F)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*i),t.addScaledVector(o[4],1.092548*(i*r)),t.addScaledVector(o[5],1.092548*(r*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(i*s)),t.addScaledVector(o[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*r),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*i),t.addScaledVector(o[4],2*.429043*i*r),t.addScaledVector(o[5],2*.429043*r*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*i*s),t.addScaledVector(o[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class ub extends Jo{constructor(e=new lb,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class e1 extends ki{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,o=new Xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=e1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new ze().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(r.uniforms[s]={},o.type){case"t":r.uniforms[s].value=i(o.value);break;case"c":r.uniforms[s].value=new ze().setHex(o.value);break;case"v2":r.uniforms[s].value=new pe().fromArray(o.value);break;case"v3":r.uniforms[s].value=new F().fromArray(o.value);break;case"v4":r.uniforms[s].value=new Ht().fromArray(o.value);break;case"m3":r.uniforms[s].value=new At().fromArray(o.value);break;case"m4":r.uniforms[s].value=new pt().fromArray(o.value);break;default:r.uniforms[s].value=o.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new pe().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new pe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:V8,SpriteMaterial:B_,RawShaderMaterial:H8,ShaderMaterial:fs,PointsMaterial:H_,MeshPhysicalMaterial:G8,MeshStandardMaterial:Z_,MeshPhongMaterial:W8,MeshToonMaterial:X8,MeshNormalMaterial:j8,MeshLambertMaterial:Y8,MeshDepthMaterial:O_,MeshDistanceMaterial:F_,MeshBasicMaterial:Zo,MeshMatcapMaterial:q8,LineDashedMaterial:Z8,LineBasicMaterial:Ci,Material:pi};return new t[e]}}class V2{static decodeText(e){if(typeof TextDecoder!="undefined")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class cb extends Et{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class fb extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Xs(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(m,y){if(t[y]!==void 0)return t[y];const x=m.interleavedBuffers[y],g=s(m,x.buffer),S=uu(x.type,g),w=new Fm(S,x.stride);return w.uuid=x.uuid,t[y]=w,w}function s(m,y){if(i[y]!==void 0)return i[y];const x=m.arrayBuffers[y],g=new Uint32Array(x).buffer;return i[y]=g,g}const o=e.isInstancedBufferGeometry?new cb:new Et,a=e.data.index;if(a!==void 0){const m=uu(a.type,a.array);o.setIndex(new Wt(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let _;if(y.isInterleavedBufferAttribute){const x=r(e.data,y.data);_=new qa(x,y.itemSize,y.offset,y.normalized)}else{const x=uu(y.type,y.array),g=y.isInstancedBufferAttribute?Ou:Wt;_=new g(x,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),y.usage!==void 0&&_.setUsage(y.usage),o.setAttribute(m,_)}const f=e.data.morphAttributes;if(f)for(const m in f){const y=f[m],_=[];for(let x=0,g=y.length;x<g;x++){const S=y[x];let w;if(S.isInterleavedBufferAttribute){const T=r(e.data,S.data);w=new qa(T,S.itemSize,S.offset,S.normalized)}else{const T=uu(S.type,S.array);w=new Wt(T,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),_.push(w)}o.morphAttributes[m]=_}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let m=0,y=h.length;m!==y;++m){const _=h[m];o.addGroup(_.start,_.count,_.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new F;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new di(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class bG extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=this.path===""?V2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Xs(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let f=null;try{f=JSON.parse(l)}catch(h){r!==void 0&&r(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=f.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(f,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?V2.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Xs(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(a)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){t!==void 0&&t(f)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),f=this.parseObject(e.object,s,l,a,i),d=this.parseSkeletons(e.skeletons,f);if(this.bindSkeletons(f,d),t!==void 0){let h=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(f)}return f}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,r,a,o,t),f=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,f),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Va().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new zm().fromJSON(e[s],r);i[a.uuid]=a}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new fb;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;default:l.type in SE?a=SE[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),i[l.uuid]=a}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new e1;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=nd.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function o(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const f=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(f)?f:i.resourcePath+f;return o(d)}else return l.data?{data:uu(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new $_(t);s=new id(l),s.setCrossOrigin(this.crossOrigin);for(let f=0,d=e.length;f<d;f++){const h=e[f],p=h.url;if(Array.isArray(p)){const m=[];for(let y=0,_=p.length;y<_;y++){const x=p[y],g=a(x);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new Ba(g.data,g.width,g.height)))}r[h.uuid]=new Ia(m)}else{const m=a(h.url);r[h.uuid]=new Ia(m)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await r.loadAsync(l)}else return o.data?{data:uu(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){r=new id(this.manager),r.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],f=l.url;if(Array.isArray(f)){const d=[];for(let h=0,p=f.length;h<p;h++){const m=f[h],y=await s(m);y!==null&&(y instanceof HTMLImageElement?d.push(y):d.push(new Ba(y.data,y.width,y.height)))}i[l.uuid]=new Ia(d)}else{const d=await s(l.url);i[l.uuid]=new Ia(d)}}}return i}parseTextures(e,t){function i(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const r={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],f=l.data;let d;Array.isArray(f)?(d=new _d,f.length===6&&(d.needsUpdate=!0)):(f&&f.data?d=new Ba:d=new En,f&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=i(a.mapping,PG)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=i(a.wrap[0],TE),d.wrapT=i(a.wrap[1],TE)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.encoding!==void 0&&(d.encoding=a.encoding),a.minFilter!==void 0&&(d.minFilter=i(a.minFilter,AE)),a.magFilter!==void 0&&(d.magFilter=i(a.magFilter,AE)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),r[a.uuid]=d}return r}parseObject(e,t,i,r,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,_=p.length;y<_;y++){const x=p[y];i[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(i[x])}return m}return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),i[p]}}function f(p){return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),r[p]}let d,h;switch(e.type){case"Scene":o=new k_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ze(e.background):o.background=f(e.background)),e.environment!==void 0&&(o.environment=f(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Om(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Um(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new wn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new ko(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new ob(e.color,e.intensity);break;case"DirectionalLight":o=new sb(e.color,e.intensity);break;case"PointLight":o=new rb(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new ab(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new ib(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new nb(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new ub().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),h=l(e.material),o=new A8(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),h=l(e.material),o=new Nn(d,h);break;case"InstancedMesh":d=a(e.geometry),h=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new C8(d,h,p),o.instanceMatrix=new Ou(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Ou(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":d=a(e.geometry),h=l(e.material),o=new b8(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(_=>{const x=new Ei;x.min.fromArray(_.boxMin),x.max.fromArray(_.boxMax);const g=new di;return g.radius=_.sphereRadius,g.center.fromArray(_.sphereCenter),{boxInitialized:_.boxInitialized,box:x,sphereInitialized:_.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=f(e.matricesTexture.uuid);break;case"LOD":o=new T8;break;case"Line":o=new Wo(a(e.geometry),l(e.material));break;case"LineLoop":o=new P8(a(e.geometry),l(e.material));break;case"LineSegments":o=new ds(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new R8(a(e.geometry),l(e.material));break;case"Sprite":o=new E8(l(e.material));break;case"Group":o=new du;break;case"Bone":o=new V_;break;default:o=new Ft}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,i,r,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],_=o.getObjectByProperty("uuid",y.object);_!==void 0&&o.addLevel(_,y.distance,y.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}}const PG={UVMapping:Pm,CubeReflectionMapping:Ws,CubeRefractionMapping:Ho,EquirectangularReflectionMapping:zf,EquirectangularRefractionMapping:kf,CubeUVReflectionMapping:Gu},TE={RepeatWrapping:Bf,ClampToEdgeWrapping:ci,MirroredRepeatWrapping:Vf},AE={NearestFilter:_n,NearestMipmapNearestFilter:Z0,NearestMipmapLinearFilter:of,LinearFilter:Mn,LinearMipmapNearestFilter:y_,LinearMipmapLinearFilter:Go};class RG extends ki{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ds.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(f=>{t&&t(f),s.manager.itemEnd(e)}).catch(f=>{r&&r(f)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(f){return f.blob()}).then(function(f){return createImageBitmap(f,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(f){return Ds.add(e,f),t&&t(f),s.manager.itemEnd(e),f}).catch(function(f){r&&r(f),Ds.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ds.add(e,l),s.manager.itemStart(e)}}let Lp;class t3{static getContext(){return Lp===void 0&&(Lp=new(window.AudioContext||window.webkitAudioContext)),Lp}static setContext(e){Lp=e}}class LG extends ki{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Xs(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const f=l.slice(0);t3.getContext().decodeAudioData(f,function(h){t(h)}).catch(a)}catch(f){a(f)}},i,r);function a(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const CE=new pt,bE=new pt,pa=new pt;class IG{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new wn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new wn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,pa.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,o=t.near*Math.tan(za*t.fov*.5)/t.zoom;let a,l;bE.elements[12]=-r,CE.elements[12]=r,a=-o*t.aspect+s,l=o*t.aspect+s,pa.elements[0]=2*t.near/(l-a),pa.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(pa),a=-o*t.aspect-s,l=o*t.aspect-s,pa.elements[0]=2*t.near/(l-a),pa.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(pa)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(bE),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CE)}}class n3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=PE(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=PE();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function PE(){return(typeof performance=="undefined"?Date:performance).now()}const ma=new F,RE=new fi,DG=new F,ga=new F;class NG extends Ft{constructor(){super(),this.type="AudioListener",this.context=t3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new n3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ma,RE,DG),ga.set(0,0,-1).applyQuaternion(RE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(ma.x,r),t.positionY.linearRampToValueAtTime(ma.y,r),t.positionZ.linearRampToValueAtTime(ma.z,r),t.forwardX.linearRampToValueAtTime(ga.x,r),t.forwardY.linearRampToValueAtTime(ga.y,r),t.forwardZ.linearRampToValueAtTime(ga.z,r),t.upX.linearRampToValueAtTime(i.x,r),t.upY.linearRampToValueAtTime(i.y,r),t.upZ.linearRampToValueAtTime(i.z,r)}else t.setPosition(ma.x,ma.y,ma.z),t.setOrientation(ga.x,ga.y,ga.z,i.x,i.y,i.z)}}class db extends Ft{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const va=new F,LE=new fi,UG=new F,ya=new F;class OG extends db{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(va,LE,UG),ya.set(0,0,1).applyQuaternion(LE);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(va.x,i),t.positionY.linearRampToValueAtTime(va.y,i),t.positionZ.linearRampToValueAtTime(va.z,i),t.orientationX.linearRampToValueAtTime(ya.x,i),t.orientationY.linearRampToValueAtTime(ya.y,i),t.orientationZ.linearRampToValueAtTime(ya.z,i)}else t.setPosition(va.x,va.y,va.z),t.setOrientation(ya.x,ya.y,ya.z)}}class FG{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class hb{constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,o;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==r;++a)i[s+a]=i[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(i,s,0,a,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,f=t+t;l!==f;++l)if(i[l]!==i[l+t]){a.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,o=r;s!==o;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let o=0;o!==s;++o)e[t+o]=e[i+o]}_slerp(e,t,i,r){fi.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const o=this._workIndex*s;fi.multiplyQuaternionsFlat(e,o,e,t,e,i),fi.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,i,r,s){const o=1-r;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[i+a]*r}}_lerpAdditive(e,t,i,r,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[i+o]*r}}}const i3="\\[\\]\\.:\\/",zG=new RegExp("["+i3+"]","g"),r3="[^"+i3+"]",kG="[^"+i3.replace("\\.","")+"]",BG=/((?:WC+[\/:])*)/.source.replace("WC",r3),VG=/(WCOD+)?/.source.replace("WCOD",kG),HG=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",r3),GG=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",r3),WG=new RegExp("^"+BG+VG+HG+GG+"$"),XG=["material","materials","bones","map"];class jG{constructor(e,t,i){const r=i||Ut.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Ut{constructor(e,t,i){this.path=t,this.parsedPath=i||Ut.parseTrackName(t),this.node=Ut.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Ut.Composite(e,t,i):new Ut(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(zG,"")}static parseTrackName(e){const t=WG.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);XG.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Ut.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let f=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===f){f=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(f!==void 0){if(e[f]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[f]}}const o=e[r];if(o===void 0){const f=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ut.Composite=jG;Ut.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ut.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ut.prototype.GetterByBindingType=[Ut.prototype._getValue_direct,Ut.prototype._getValue_array,Ut.prototype._getValue_arrayElement,Ut.prototype._getValue_toArray];Ut.prototype.SetterByBindingTypeAndVersioning=[[Ut.prototype._setValue_direct,Ut.prototype._setValue_direct_setNeedsUpdate,Ut.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_array,Ut.prototype._setValue_array_setNeedsUpdate,Ut.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_arrayElement,Ut.prototype._setValue_arrayElement_setNeedsUpdate,Ut.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ut.prototype._setValue_fromArray,Ut.prototype._setValue_fromArray_setNeedsUpdate,Ut.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class YG{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ji(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,f=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const p=arguments[d],m=p.uuid;let y=t[m];if(y===void 0){y=l++,t[m]=y,e.push(p);for(let _=0,x=o;_!==x;++_)s[_].push(new Ut(p,i[_],r[_]))}else if(y<f){a=e[y];const _=--f,x=e[_];t[x.uuid]=y,e[y]=x,t[m]=_,e[_]=p;for(let g=0,S=o;g!==S;++g){const w=s[g],T=w[_];let b=w[y];w[y]=T,b===void 0&&(b=new Ut(p,i[g],r[g])),w[_]=b}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=f}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],f=l.uuid,d=t[f];if(d!==void 0&&d>=s){const h=s++,p=e[h];t[p.uuid]=d,e[d]=p,t[f]=h,e[h]=l;for(let m=0,y=r;m!==y;++m){const _=i[m],x=_[h],g=_[d];_[d]=x,_[h]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const f=arguments[a],d=f.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<s){const p=--s,m=e[p],y=--o,_=e[y];t[m.uuid]=h,e[h]=m,t[_.uuid]=p,e[p]=_,e.pop();for(let x=0,g=r;x!==g;++x){const S=i[x],w=S[p],T=S[y];S[h]=w,S[p]=T,S.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=h),e[h]=m,e.pop();for(let y=0,_=r;y!==_;++y){const x=i[y];x[h]=x[p],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const o=this._paths,a=this._parsedPaths,l=this._objects,f=l.length,d=this.nCachedObjects_,h=new Array(f);r=s.length,i[e]=r,o.push(e),a.push(t),s.push(h);for(let p=d,m=l.length;p!==m;++p){const y=l[p];h[p]=new Ut(y,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],f=e[a];t[f]=i,o[i]=l,o.pop(),s[i]=s[a],s.pop(),r[i]=r[a],r.pop()}}}class pb{constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:Ra,endingEnd:Ra};for(let f=0;f!==o;++f){const d=s[f].createInterpolant(null);a[f]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=YC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const r=this._clip.duration,s=e._clip.duration,o=s/r,a=r/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,f=a.sampleValues;return l[0]=s,l[1]=s+i,f[0]=e/o,f[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,f=this._propertyBindings;switch(this.blendMode){case A_:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),f[d].accumulateAdditive(a);break;case Lm:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),f[d].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;i!==null&&(t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t))}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const o=i===qC;if(e===0)return s===-1?r:o&&(s&1)===1?t-r:r;if(i===jC){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),r>=t||r<0){const a=Math.floor(r/t);r-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const f=e<0;this._setEndings(f,!f,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=La,r.endingEnd=La):(e?r.endingStart=this.zeroSlopeAtStart?La:Ra:r.endingStart=Wf,t?r.endingEnd=this.zeroSlopeAtEnd?La:Ra:r.endingEnd=Wf)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let o=this._weightInterpolant;o===null&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=i,this}}const qG=new Float32Array(1);class ZG extends Ys{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,o=e._propertyBindings,a=e._interpolants,l=i.uuid,f=this._bindingsByRootAndName;let d=f[l];d===void 0&&(d={},f[l]=d);for(let h=0;h!==s;++h){const p=r[h],m=p.name;let y=d[m];if(y!==void 0)++y.referenceCount,o[h]=y;else{if(y=o[h],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const _=t&&t._propertyBindings[h].binding.parsedPath;y=new hb(Ut.create(i,m,_),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[h]=y}a[h].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,f=l[l.length-1],d=e._byClipCacheIndex;f._byClipCacheIndex=d,l[d]=f,l.pop(),e._byClipCacheIndex=null;const h=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete h[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let o=r[t];o===void 0&&(o={},r[t]=o),o[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,o=this._bindingsByRootAndName,a=o[r],l=t[t.length-1],f=e._cacheIndex;l._cacheIndex=f,t[f]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new J_(new Float32Array(2),new Float32Array(2),1,qG),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let o=typeof e=="string"?nd.findByName(r,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let f=null;if(i===void 0&&(o!==null?i=o.blendMode:i=Lm),l!==void 0){const h=l.actionByRoot[s];if(h!==void 0&&h.blendMode===i)return h;f=l.knownActions[0],o===null&&(o=f._clip)}if(o===null)return null;const d=new pb(this,o,t,i);return this._bindAction(d,f),this._addInactiveAction(d,a,s),d}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?nd.findByName(i,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let f=0;f!==i;++f)t[f]._update(r,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let f=0;f!==l;++f)a[f].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const f=o[a];this._deactivateAction(f);const d=f._cacheIndex,h=t[t.length-1];f._cacheIndex=null,f._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(f)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const o in i){const a=i[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class s3{constructor(e){this.value=e}clone(){return new s3(this.value.clone===void 0?this.value:this.value.clone())}}let KG=0;class JG extends Ys{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:KG++}),this.name="",this.usage=qf,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class QG extends Fm{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class $G{constructor(e,t,i,r,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class mb{constructor(e,t,i=0,r=1/0){this.ray=new tl(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new ka,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return H2(e,this,i,t),i.sort(IE),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)H2(e[r],this,i,t);return i.sort(IE),i}}function IE(n,e){return n.distance-e.distance}function H2(n,e,t,i){if(n.layers.test(e.layers)&&n.raycast(e,t),i===!0){const r=n.children;for(let s=0,o=r.length;s<o;s++)H2(r[s],e,t,!0)}}class G2{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(pn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class eW{constructor(e=1,t=0,i=0){return this.radius=e,this.theta=t,this.y=i,this}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}const DE=new pe;class tW{constructor(e=new pe(1/0,1/0),t=new pe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=DE.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,DE).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const NE=new F,Ip=new F;class nW{constructor(e=new F,t=new F){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){NE.subVectors(e,this.start),Ip.subVectors(this.end,this.start);const i=Ip.dot(Ip);let s=Ip.dot(NE)/i;return t&&(s=pn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const UE=new F;class iW extends Ft{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new Et,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const f=o/l*Math.PI*2,d=a/l*Math.PI*2;r.push(Math.cos(f),Math.sin(f),1,Math.cos(d),Math.sin(d),1)}i.setAttribute("position",new Ze(r,3));const s=new Ci({fog:!1,toneMapped:!1});this.cone=new ds(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),UE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(UE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const co=new F,Dp=new pt,bv=new pt;class rW extends ds{constructor(e){const t=gb(e),i=new Et,r=[],s=[],o=new ze(0,0,1),a=new ze(0,1,0);for(let f=0;f<t.length;f++){const d=t[f];d.parent&&d.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}i.setAttribute("position",new Ze(r,3)),i.setAttribute("color",new Ze(s,3));const l=new Ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");bv.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Dp.multiplyMatrices(bv,a.matrixWorld),co.setFromMatrixPosition(Dp),r.setXYZ(o,co.x,co.y,co.z),Dp.multiplyMatrices(bv,a.parent.matrixWorld),co.setFromMatrixPosition(Dp),r.setXYZ(o+1,co.x,co.y,co.z),o+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function gb(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,gb(n.children[t]));return e}class sW extends Nn{constructor(e,t,i){const r=new Td(t,4,2),s=new Zo({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const oW=new F,OE=new ze,FE=new ze;class aW extends Ft{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new Ed(t);r.rotateY(Math.PI*.5),this.material=new Zo({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),o=new Float32Array(s.count*3);r.setAttribute("color",new Wt(o,3)),this.add(new Nn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");OE.copy(this.light.color),FE.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?OE:FE;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(oW.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lW extends ds{constructor(e=10,t=10,i=4473924,r=8947848){i=new ze(i),r=new ze(r);const s=t/2,o=e/t,a=e/2,l=[],f=[];for(let p=0,m=0,y=-a;p<=t;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const _=p===s?i:r;_.toArray(f,m),m+=3,_.toArray(f,m),m+=3,_.toArray(f,m),m+=3,_.toArray(f,m),m+=3}const d=new Et;d.setAttribute("position",new Ze(l,3)),d.setAttribute("color",new Ze(f,3));const h=new Ci({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class uW extends ds{constructor(e=10,t=16,i=8,r=64,s=4473924,o=8947848){s=new ze(s),o=new ze(o);const a=[],l=[];if(t>1)for(let h=0;h<t;h++){const p=h/t*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const _=h&1?s:o;l.push(_.r,_.g,_.b),l.push(_.r,_.g,_.b)}for(let h=0;h<i;h++){const p=h&1?s:o,m=e-e/i*h;for(let y=0;y<r;y++){let _=y/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m;a.push(x,0,g),l.push(p.r,p.g,p.b),_=(y+1)/r*(Math.PI*2),x=Math.sin(_)*m,g=Math.cos(_)*m,a.push(x,0,g),l.push(p.r,p.g,p.b)}}const f=new Et;f.setAttribute("position",new Ze(a,3)),f.setAttribute("color",new Ze(l,3));const d=new Ci({vertexColors:!0,toneMapped:!1});super(f,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const zE=new F,Np=new F,kE=new F;class cW extends Ft{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Et;r.setAttribute("position",new Ze([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Ci({fog:!1,toneMapped:!1});this.lightPlane=new Wo(r,s),this.add(this.lightPlane),r=new Et,r.setAttribute("position",new Ze([0,0,0,0,0,1],3)),this.targetLine=new Wo(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),zE.setFromMatrixPosition(this.light.matrixWorld),Np.setFromMatrixPosition(this.light.target.matrixWorld),kE.subVectors(Np,zE),this.lightPlane.lookAt(Np),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Np),this.targetLine.scale.z=kE.length()}}const Up=new F,dn=new xd;class fW extends ds{constructor(e){const t=new Et,i=new Ci({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,_){l(y),l(_)}function l(y){r.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(r.length/3-1)}t.setAttribute("position",new Ze(r,3)),t.setAttribute("color",new Ze(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const f=new ze(16755200),d=new ze(16711680),h=new ze(43775),p=new ze(16777215),m=new ze(3355443);this.setColors(f,d,h,p,m)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;dn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),xn("c",t,e,dn,0,0,-1),xn("t",t,e,dn,0,0,1),xn("n1",t,e,dn,-i,-r,-1),xn("n2",t,e,dn,i,-r,-1),xn("n3",t,e,dn,-i,r,-1),xn("n4",t,e,dn,i,r,-1),xn("f1",t,e,dn,-i,-r,1),xn("f2",t,e,dn,i,-r,1),xn("f3",t,e,dn,-i,r,1),xn("f4",t,e,dn,i,r,1),xn("u1",t,e,dn,i*.7,r*1.1,-1),xn("u2",t,e,dn,-i*.7,r*1.1,-1),xn("u3",t,e,dn,0,r*2,-1),xn("cf1",t,e,dn,-i,0,1),xn("cf2",t,e,dn,i,0,1),xn("cf3",t,e,dn,0,-r,1),xn("cf4",t,e,dn,0,r,1),xn("cn1",t,e,dn,-i,0,-1),xn("cn2",t,e,dn,i,0,-1),xn("cn3",t,e,dn,0,-r,-1),xn("cn4",t,e,dn,0,r,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xn(n,e,t,i,r,s,o){Up.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let f=0,d=a.length;f<d;f++)l.setXYZ(a[f],Up.x,Up.y,Up.z)}}const Op=new Ei;class dW extends ds{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new Et;s.setIndex(new Wt(i,1)),s.setAttribute("position",new Wt(r,3)),super(s,new Ci({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Op.setFromObject(this.object),Op.isEmpty())return;const t=Op.min,i=Op.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=t.x,s[4]=i.y,s[5]=i.z,s[6]=t.x,s[7]=t.y,s[8]=i.z,s[9]=i.x,s[10]=t.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=t.z,s[15]=t.x,s[16]=i.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=i.x,s[22]=t.y,s[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hW extends ds{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Et;s.setIndex(new Wt(i,1)),s.setAttribute("position",new Ze(r,3)),super(s,new Ci({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class pW extends Wo{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Et;o.setAttribute("position",new Ze(s,3)),o.computeBoundingSphere(),super(o,new Ci({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Et;l.setAttribute("position",new Ze(a,3)),l.computeBoundingSphere(),this.add(new Nn(l,new Zo({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const BE=new F;let Fp,Pv;class mW extends Ft{constructor(e=new F(0,0,1),t=new F(0,0,0),i=1,r=16776960,s=i*.2,o=s*.2){super(),this.type="ArrowHelper",Fp===void 0&&(Fp=new Et,Fp.setAttribute("position",new Ze([0,0,0,0,1,0],3)),Pv=new Xu(0,.5,1,5,1),Pv.translate(0,-.5,0)),this.position.copy(t),this.line=new Wo(Fp,new Ci({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Nn(Pv,new Zo({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{BE.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(BE,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class gW extends ds{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new Et;r.setAttribute("position",new Ze(t,3)),r.setAttribute("color",new Ze(i,3));const s=new Ci({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new ze,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vW{constructor(){this.type="ShapePath",this.color=new ze,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Kf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(g){const S=[];for(let w=0,T=g.length;w<T;w++){const b=g[w],C=new Va;C.curves=b.curves,S.push(C)}return S}function i(g,S){const w=S.length;let T=!1;for(let b=w-1,C=0;C<w;b=C++){let L=S[b],D=S[C],P=D.x-L.x,R=D.y-L.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(L=S[C],P=-P,D=S[b],R=-R),g.y<L.y||g.y>D.y)continue;if(g.y===L.y){if(g.x===L.x)return!0}else{const V=R*(g.x-L.x)-P*(g.y-L.y);if(V===0)return!0;if(V<0)continue;T=!T}}else{if(g.y!==L.y)continue;if(D.x<=g.x&&g.x<=L.x||L.x<=g.x&&g.x<=D.x)return!0}}return T}const r=us.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const f=[];if(s.length===1)return a=s[0],l=new Va,l.curves=a.curves,f.push(l),f;let d=!r(s[0].getPoints());d=e?!d:d;const h=[],p=[];let m=[],y=0,_;p[y]=void 0,m[y]=[];for(let g=0,S=s.length;g<S;g++)a=s[g],_=a.getPoints(),o=r(_),o=e?!o:o,o?(!d&&p[y]&&y++,p[y]={s:new Va,p:_},p[y].s.curves=a.curves,d&&y++,m[y]=[]):m[y].push({h:a,p:_[0]});if(!p[0])return t(s);if(p.length>1){let g=!1,S=0;for(let w=0,T=p.length;w<T;w++)h[w]=[];for(let w=0,T=p.length;w<T;w++){const b=m[w];for(let C=0;C<b.length;C++){const L=b[C];let D=!0;for(let P=0;P<p.length;P++)i(L.p,p[P].p)&&(w!==P&&S++,D?(D=!1,h[P].push(L)):g=!0);D&&h[w].push(L)}}S>0&&g===!1&&(m=h)}let x;for(let g=0,S=p.length;g<S;g++){l=p[g].s,f.push(l),x=m[g];for(let w=0,T=x.length;w<T;w++)l.holes.push(x[w].h)}return f}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Cm}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Cm);var yW=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:v_,AddEquation:_o,AddOperation:LC,AdditiveAnimationBlendMode:A_,AdditiveBlending:Of,AgXToneMapping:OC,AlphaFormat:BC,AlwaysCompare:r8,AlwaysDepth:EC,AlwaysStencilFunc:I2,AmbientLight:ob,AnimationAction:pb,AnimationClip:nd,AnimationLoader:_G,AnimationMixer:ZG,AnimationObjectGroup:YG,AnimationUtils:gG,ArcCurve:L8,ArrayCamera:S8,ArrowHelper:mW,AttachedBindMode:o2,Audio:db,AudioAnalyser:FG,AudioContext:t3,AudioListener:NG,AudioLoader:LG,AxesHelper:gW,BackSide:wi,BasicDepthPacking:ZC,BasicShadowMap:oC,BatchedMesh:b8,Bone:V_,BooleanKeyframeTrack:il,Box2:tW,Box3:Ei,Box3Helper:hW,BoxGeometry:nl,BoxHelper:dW,BufferAttribute:Wt,BufferGeometry:Et,BufferGeometryLoader:fb,ByteType:zC,Cache:Ds,Camera:xd,CameraHelper:fW,CanvasTexture:BH,CapsuleGeometry:Vm,CatmullRomCurve3:I8,CineonToneMapping:NC,CircleGeometry:Hm,ClampToEdgeWrapping:ci,Clock:n3,Color:ze,ColorKeyframeTrack:Q_,ColorManagement:Vt,CompressedArrayTexture:zH,CompressedCubeTexture:kH,CompressedTexture:km,CompressedTextureLoader:SG,ConeGeometry:Gm,ConstantAlphaFactor:SC,ConstantColorFactor:xC,CubeCamera:d8,CubeReflectionMapping:Ws,CubeRefractionMapping:Ho,CubeTexture:_d,CubeTextureLoader:MG,CubeUVReflectionMapping:Gu,CubicBezierCurve:W_,CubicBezierCurve3:D8,CubicInterpolant:Q8,CullFaceBack:t2,CullFaceFront:sC,CullFaceFrontBack:bO,CullFaceNone:rC,Curve:Hr,CurvePath:U8,CustomBlending:aC,CustomToneMapping:UC,CylinderGeometry:Xu,Cylindrical:eW,Data3DTexture:L_,DataArrayTexture:Dm,DataTexture:Ba,DataTextureLoader:wG,DataUtils:FF,DecrementStencilOp:BO,DecrementWrapStencilOp:HO,DefaultLoadingManager:tb,DepthFormat:Fo,DepthStencilFormat:Ya,DepthTexture:U_,DetachedBindMode:FC,DirectionalLight:sb,DirectionalLightHelper:cW,DiscreteInterpolant:$8,DisplayP3ColorSpace:Im,DodecahedronGeometry:Wm,DoubleSide:is,DstAlphaFactor:pC,DstColorFactor:gC,DynamicCopyUsage:iF,DynamicDrawUsage:JO,DynamicReadUsage:eF,EdgesGeometry:O8,EllipseCurve:Bm,EqualCompare:e8,EqualDepth:AC,EqualStencilFunc:jO,EquirectangularReflectionMapping:zf,EquirectangularRefractionMapping:kf,Euler:yd,EventDispatcher:Ys,ExtrudeGeometry:jm,FileLoader:Xs,Float16BufferAttribute:GF,Float32BufferAttribute:Ze,Float64BufferAttribute:WF,FloatType:Dr,Fog:Om,FogExp2:Um,FramebufferTexture:FH,FrontSide:Gs,Frustum:Sd,GLBufferAttribute:$G,GLSL1:sF,GLSL3:D2,GreaterCompare:t8,GreaterDepth:bC,GreaterEqualCompare:i8,GreaterEqualDepth:CC,GreaterEqualStencilFunc:KO,GreaterStencilFunc:qO,GridHelper:lW,Group:du,HalfFloatType:Iu,HemisphereLight:nb,HemisphereLightHelper:aW,IcosahedronGeometry:Ym,ImageBitmapLoader:RG,ImageLoader:id,ImageUtils:R_,IncrementStencilOp:kO,IncrementWrapStencilOp:VO,InstancedBufferAttribute:Ou,InstancedBufferGeometry:cb,InstancedInterleavedBuffer:QG,InstancedMesh:C8,Int16BufferAttribute:VF,Int32BufferAttribute:HF,Int8BufferAttribute:zF,IntType:x_,InterleavedBuffer:Fm,InterleavedBufferAttribute:qa,Interpolant:Ad,InterpolateDiscrete:Hf,InterpolateLinear:Gf,InterpolateSmooth:a0,InvertStencilOp:GO,KeepStencilOp:wa,KeyframeTrack:Gr,LOD:T8,LatheGeometry:wd,Layers:ka,LessCompare:$C,LessDepth:TC,LessEqualCompare:b_,LessEqualDepth:Ff,LessEqualStencilFunc:YO,LessStencilFunc:XO,Light:Jo,LightProbe:ub,Line:Wo,Line3:nW,LineBasicMaterial:Ci,LineCurve:X_,LineCurve3:N8,LineDashedMaterial:Z8,LineLoop:P8,LineSegments:ds,LinearDisplayP3ColorSpace:vd,LinearEncoding:C_,LinearFilter:Mn,LinearInterpolant:J_,LinearMipMapLinearFilter:DO,LinearMipMapNearestFilter:IO,LinearMipmapLinearFilter:Go,LinearMipmapNearestFilter:y_,LinearSRGBColorSpace:cs,LinearToneMapping:IC,LinearTransfer:Xf,Loader:ki,LoaderUtils:V2,LoadingManager:$_,LoopOnce:jC,LoopPingPong:qC,LoopRepeat:YC,LuminanceAlphaFormat:HC,LuminanceFormat:VC,MOUSE:Sa,Material:pi,MaterialLoader:e1,MathUtils:s8,Matrix3:At,Matrix4:pt,MaxEquation:s2,Mesh:Nn,MeshBasicMaterial:Zo,MeshDepthMaterial:O_,MeshDistanceMaterial:F_,MeshLambertMaterial:Y8,MeshMatcapMaterial:q8,MeshNormalMaterial:j8,MeshPhongMaterial:W8,MeshPhysicalMaterial:G8,MeshStandardMaterial:Z_,MeshToonMaterial:X8,MinEquation:r2,MirroredRepeatWrapping:Vf,MixOperation:RC,MultiplyBlending:i2,MultiplyOperation:gd,NearestFilter:_n,NearestMipMapLinearFilter:LO,NearestMipMapNearestFilter:RO,NearestMipmapLinearFilter:of,NearestMipmapNearestFilter:Z0,NeverCompare:QC,NeverDepth:wC,NeverStencilFunc:WO,NoBlending:Us,NoColorSpace:qi,NoToneMapping:as,NormalAnimationBlendMode:Lm,NormalBlending:Fa,NotEqualCompare:n8,NotEqualDepth:PC,NotEqualStencilFunc:ZO,NumberKeyframeTrack:ed,Object3D:Ft,ObjectLoader:bG,ObjectSpaceNormalMap:JC,OctahedronGeometry:Ed,OneFactor:fC,OneMinusConstantAlphaFactor:MC,OneMinusConstantColorFactor:_C,OneMinusDstAlphaFactor:mC,OneMinusDstColorFactor:vC,OneMinusSrcAlphaFactor:q0,OneMinusSrcColorFactor:hC,OrthographicCamera:ko,P3Primaries:Yf,PCFShadowMap:bm,PCFSoftShadowMap:sf,PMREMGenerator:U2,Path:Kf,PerspectiveCamera:wn,Plane:bs,PlaneGeometry:Md,PlaneHelper:pW,PointLight:rb,PointLightHelper:sW,Points:R8,PointsMaterial:H_,PolarGridHelper:uW,PolyhedronGeometry:Ko,PositionalAudio:OG,PropertyBinding:Ut,PropertyMixer:hb,QuadraticBezierCurve:j_,QuadraticBezierCurve3:Y_,Quaternion:fi,QuaternionKeyframeTrack:ju,QuaternionLinearInterpolant:eb,RED_GREEN_RGTC2_Format:R2,RED_RGTC1_Format:XC,REVISION:Cm,RGBADepthPacking:KC,RGBAFormat:Si,RGBAIntegerFormat:E_,RGBA_ASTC_10x10_Format:E2,RGBA_ASTC_10x5_Format:S2,RGBA_ASTC_10x6_Format:M2,RGBA_ASTC_10x8_Format:w2,RGBA_ASTC_12x10_Format:T2,RGBA_ASTC_12x12_Format:A2,RGBA_ASTC_4x4_Format:h2,RGBA_ASTC_5x4_Format:p2,RGBA_ASTC_5x5_Format:m2,RGBA_ASTC_6x5_Format:g2,RGBA_ASTC_6x6_Format:v2,RGBA_ASTC_8x5_Format:y2,RGBA_ASTC_8x6_Format:x2,RGBA_ASTC_8x8_Format:_2,RGBA_BPTC_Format:o0,RGBA_ETC2_EAC_Format:d2,RGBA_PVRTC_2BPPV1_Format:c2,RGBA_PVRTC_4BPPV1_Format:u2,RGBA_S3TC_DXT1_Format:i0,RGBA_S3TC_DXT3_Format:r0,RGBA_S3TC_DXT5_Format:s0,RGB_BPTC_SIGNED_Format:C2,RGB_BPTC_UNSIGNED_Format:b2,RGB_ETC1_Format:T_,RGB_ETC2_Format:f2,RGB_PVRTC_2BPPV1_Format:l2,RGB_PVRTC_4BPPV1_Format:a2,RGB_S3TC_DXT1_Format:n0,RGFormat:WC,RGIntegerFormat:w_,RawShaderMaterial:H8,Ray:tl,Raycaster:mb,Rec709Primaries:jf,RectAreaLight:ab,RedFormat:GC,RedIntegerFormat:M_,ReinhardToneMapping:DC,RenderTarget:l8,RepeatWrapping:Bf,ReplaceStencilOp:zO,ReverseSubtractEquation:uC,RingGeometry:qm,SIGNED_RED_GREEN_RGTC2_Format:L2,SIGNED_RED_RGTC1_Format:P2,SRGBColorSpace:In,SRGBTransfer:Yt,Scene:k_,ShaderChunk:Mt,ShaderLib:Ir,ShaderMaterial:fs,ShadowMaterial:V8,Shape:Va,ShapeGeometry:Zm,ShapePath:vW,ShapeUtils:us,ShortType:kC,Skeleton:zm,SkeletonHelper:rW,SkinnedMesh:A8,Source:Ia,Sphere:di,SphereGeometry:Td,Spherical:G2,SphericalHarmonics3:lb,SplineCurve:q_,SpotLight:ib,SpotLightHelper:iW,Sprite:E8,SpriteMaterial:B_,SrcAlphaFactor:Y0,SrcAlphaSaturateFactor:yC,SrcColorFactor:dC,StaticCopyUsage:nF,StaticDrawUsage:qf,StaticReadUsage:$O,StereoCamera:IG,StreamCopyUsage:rF,StreamDrawUsage:QO,StreamReadUsage:tF,StringKeyframeTrack:rl,SubtractEquation:lC,SubtractiveBlending:n2,TOUCH:Ma,TangentSpaceNormalMap:qo,TetrahedronGeometry:Km,Texture:En,TextureLoader:EG,TorusGeometry:Jm,TorusKnotGeometry:Qm,Triangle:Di,TriangleFanDrawMode:OO,TriangleStripDrawMode:UO,TrianglesDrawMode:NO,TubeGeometry:$m,TwoPassDoubleSide:PO,UVMapping:Pm,Uint16BufferAttribute:I_,Uint32BufferAttribute:D_,Uint8BufferAttribute:kF,Uint8ClampedBufferAttribute:BF,Uniform:s3,UniformsGroup:JG,UniformsLib:Le,UniformsUtils:f8,UnsignedByteType:ls,UnsignedInt248Type:Oo,UnsignedIntType:Is,UnsignedShort4444Type:__,UnsignedShort5551Type:S_,UnsignedShortType:Rm,VSMShadowMap:br,Vector2:pe,Vector3:F,Vector4:Ht,VectorKeyframeTrack:td,VideoTexture:OH,WebGL1Renderer:M8,WebGL3DRenderTarget:TF,WebGLArrayRenderTarget:EF,WebGLCoordinateSystem:Nr,WebGLCubeRenderTarget:h8,WebGLMultipleRenderTargets:AF,WebGLRenderTarget:Vr,WebGLRenderer:z_,WebGLUtils:_8,WebGPUCoordinateSystem:Du,WireframeGeometry:B8,WrapAroundEnding:Wf,ZeroCurvatureEnding:Ra,ZeroFactor:cC,ZeroSlopeEnding:La,ZeroStencilOp:FO,_SRGBAFormat:K0,createCanvasElement:a8,sRGBEncoding:zo},Symbol.toStringTag,{value:"Module"})),Na={exports:{}},sl={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */sl.ConcurrentRoot=1;sl.ContinuousEventPriority=4;sl.DefaultEventPriority=16;sl.DiscreteEventPriority=1;sl.IdleEventPriority=536870912;sl.LegacyRoot=0;Na.exports=sl;function xW(n){let e;const t=new Set,i=(f,d)=>{const h=typeof f=="function"?f(e):f;if(h!==e){const p=e;e=d?h:Object.assign({},e,h),t.forEach(m=>m(e,p))}},r=()=>e,s=(f,d=r,h=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=d(e);function m(){const y=d(e);if(!h(p,y)){const _=p;f(p=y,_)}}return t.add(m),()=>t.delete(m)},l={setState:i,getState:r,subscribe:(f,d,h)=>d||h?s(f,d,h):(t.add(f),()=>t.delete(f)),destroy:()=>t.clear()};return e=n(i,r,l),l}const _W=typeof window=="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),VE=_W?W.exports.useEffect:W.exports.useLayoutEffect;function SW(n){const e=typeof n=="function"?xW(n):n,t=(i=e.getState,r=Object.is)=>{const[,s]=W.exports.useReducer(x=>x+1,0),o=e.getState(),a=W.exports.useRef(o),l=W.exports.useRef(i),f=W.exports.useRef(r),d=W.exports.useRef(!1),h=W.exports.useRef();h.current===void 0&&(h.current=i(o));let p,m=!1;(a.current!==o||l.current!==i||f.current!==r||d.current)&&(p=i(o),m=!r(h.current,p)),VE(()=>{m&&(h.current=p),a.current=o,l.current=i,f.current=r,d.current=!1});const y=W.exports.useRef(o);VE(()=>{const x=()=>{try{const S=e.getState(),w=l.current(S);f.current(h.current,w)||(a.current=S,h.current=w,s())}catch{d.current=!0,s()}},g=e.subscribe(x);return e.getState()!==y.current&&x(),g},[]);const _=m?p:h.current;return W.exports.useDebugValue(_),_};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const i=[t,e];return{next(){const r=i.length<=0;return{value:i.shift(),done:r}}}},t}var vb={exports:{}},yb={exports:{}},xb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,k){var B=N.length;N.push(k);e:for(;0<B;){var Z=B-1>>>1,ee=N[Z];if(0<r(ee,k))N[Z]=k,N[B]=ee,B=Z;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var k=N[0],B=N.pop();if(B!==k){N[0]=B;e:for(var Z=0,ee=N.length,Y=ee>>>1;Z<Y;){var q=2*(Z+1)-1,ae=N[q],_e=q+1,Ce=N[_e];if(0>r(ae,B))_e<ee&&0>r(Ce,ae)?(N[Z]=Ce,N[_e]=B,Z=_e):(N[Z]=ae,N[q]=B,Z=q);else if(_e<ee&&0>r(Ce,B))N[Z]=Ce,N[_e]=B,Z=_e;else break e}}return k}function r(N,k){var B=N.sortIndex-k.sortIndex;return B!==0?B:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,h=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var k=t(f);k!==null;){if(k.callback===null)i(f);else if(k.startTime<=N)i(f),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(f)}}function T(N){if(_=!1,w(N),!y)if(t(l)!==null)y=!0,te(b);else{var k=t(f);k!==null&&ce(T,k.startTime-N)}}function b(N,k){y=!1,_&&(_=!1,g(D),D=-1),m=!0;var B=p;try{for(w(k),h=t(l);h!==null&&(!(h.expirationTime>k)||N&&!V());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var ee=Z(h.expirationTime<=k);k=n.unstable_now(),typeof ee=="function"?h.callback=ee:h===t(l)&&i(l),w(k)}else i(l);h=t(l)}if(h!==null)var Y=!0;else{var q=t(f);q!==null&&ce(T,q.startTime-k),Y=!1}return Y}finally{h=null,p=B,m=!1}}var C=!1,L=null,D=-1,P=5,R=-1;function V(){return!(n.unstable_now()-R<P)}function K(){if(L!==null){var N=n.unstable_now();R=N;var k=!0;try{k=L(!0,N)}finally{k?oe():(C=!1,L=null)}}else C=!1}var oe;if(typeof S=="function")oe=function(){S(K)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=K,oe=function(){$.postMessage(null)}}else oe=function(){x(K,0)};function te(N){L=N,C||(C=!0,oe())}function ce(N,k){D=x(function(){N(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(b))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var B=p;p=k;try{return N()}finally{p=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=p;p=N;try{return k()}finally{p=B}},n.unstable_scheduleCallback=function(N,k,B){var Z=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,N={id:d++,callback:k,priorityLevel:N,startTime:B,expirationTime:ee,sortIndex:-1},B>Z?(N.sortIndex=B,e(f,N),t(l)===null&&N===t(f)&&(_?(g(D),D=-1):_=!0,ce(T,B-Z))):(N.sortIndex=ee,e(l,N),y||m||(y=!0,te(b))),N},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(N){var k=p;return function(){var B=p;p=k;try{return N.apply(this,arguments)}finally{p=B}}}})(xb);yb.exports=xb;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MW=function(e){var t={},i=W.exports,r=yb.exports,s=Object.assign;function o(u){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)c+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),f=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),b=Symbol.iterator;function C(u){return u===null||typeof u!="object"?null:(u=b&&u[b]||u["@@iterator"],typeof u=="function"?u:null)}function L(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case d:return"Fragment";case f:return"Portal";case p:return"Profiler";case h:return"StrictMode";case x:return"Suspense";case g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Consumer";case m:return(u._context.displayName||"Context")+".Provider";case _:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case S:return c=u.displayName||null,c!==null?c:L(u.type)||"Memo";case w:c=u._payload,u=u._init;try{return L(u(c))}catch{}}return null}function D(u){var c=u.type;switch(u.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=c.render,u=u.displayName||u.name||"",c.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(c);case 8:return c===h?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function P(u){var c=u,v=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,(c.flags&4098)!==0&&(v=c.return),u=c.return;while(u)}return c.tag===3?v:null}function R(u){if(P(u)!==u)throw Error(o(188))}function V(u){var c=u.alternate;if(!c){if(c=P(u),c===null)throw Error(o(188));return c!==u?null:u}for(var v=u,M=c;;){var E=v.return;if(E===null)break;var A=E.alternate;if(A===null){if(M=E.return,M!==null){v=M;continue}break}if(E.child===A.child){for(A=E.child;A;){if(A===v)return R(E),u;if(A===M)return R(E),c;A=A.sibling}throw Error(o(188))}if(v.return!==M.return)v=E,M=A;else{for(var z=!1,J=E.child;J;){if(J===v){z=!0,v=E,M=A;break}if(J===M){z=!0,M=E,v=A;break}J=J.sibling}if(!z){for(J=A.child;J;){if(J===v){z=!0,v=A,M=E;break}if(J===M){z=!0,M=A,v=E;break}J=J.sibling}if(!z)throw Error(o(189))}}if(v.alternate!==M)throw Error(o(190))}if(v.tag!==3)throw Error(o(188));return v.stateNode.current===v?u:c}function K(u){return u=V(u),u!==null?oe(u):null}function oe(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var c=oe(u);if(c!==null)return c;u=u.sibling}return null}function H(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){if(u.tag!==4){var c=H(u);if(c!==null)return c}u=u.sibling}return null}var $=Array.isArray,te=e.getPublicInstance,ce=e.getRootHostContext,N=e.getChildHostContext,k=e.prepareForCommit,B=e.resetAfterCommit,Z=e.createInstance,ee=e.appendInitialChild,Y=e.finalizeInitialChildren,q=e.prepareUpdate,ae=e.shouldSetTextContent,_e=e.createTextInstance,Ce=e.scheduleTimeout,nt=e.cancelTimeout,st=e.noTimeout,je=e.isPrimaryRenderer,Qe=e.supportsMutation,G=e.supportsPersistence,Ee=e.supportsHydration,me=e.getInstanceFromNode,Ae=e.preparePortalMount,ge=e.getCurrentEventPriority,Ke=e.detachDeletedInstance,Ne=e.supportsMicrotasks,U=e.scheduleMicrotask,I=e.supportsTestSelectors,re=e.findFiberRoot,Se=e.getBoundingRect,xe=e.getTextContent,ve=e.isHiddenSubtree,Ye=e.matchAccessibilityRole,Ie=e.setFocusIfFocusable,Be=e.setupIntersectionObserver,it=e.appendChild,gt=e.appendChildToContainer,Me=e.commitTextUpdate,Lt=e.commitMount,St=e.commitUpdate,ht=e.insertBefore,tt=e.insertInContainerBefore,He=e.removeChild,X=e.removeChildFromContainer,ye=e.resetTextContent,ke=e.hideInstance,Oe=e.hideTextInstance,we=e.unhideInstance,j=e.unhideTextInstance,Re=e.clearContainer,De=e.cloneInstance,ot=e.createContainerChildSet,qe=e.appendChildToContainerChildSet,Pt=e.finalizeContainerChildren,Dt=e.replaceContainerChildren,Xt=e.cloneHiddenInstance,en=e.cloneHiddenTextInstance,Nt=e.canHydrateInstance,jn=e.canHydrateTextInstance,tr=e.canHydrateSuspenseInstance,Yu=e.isSuspenseInstancePending,qu=e.isSuspenseInstanceFallback,ol=e.registerSuspenseInstanceRetry,qs=e.getNextHydratableSibling,al=e.getFirstHydratableChild,bd=e.getFirstHydratableChildWithinContainer,Pd=e.getFirstHydratableChildWithinSuspenseInstance,n1=e.hydrateInstance,i1=e.hydrateTextInstance,r1=e.hydrateSuspenseInstance,O=e.getNextHydratableInstanceAfterSuspenseInstance,ie=e.commitHydratedContainer,ue=e.commitHydratedSuspenseInstance,fe=e.clearSuspenseBoundary,le=e.clearSuspenseBoundaryFromContainer,Ve=e.shouldDeleteUnhydratedTailInstances,$e=e.didNotMatchHydratedContainerTextInstance,ut=e.didNotMatchHydratedTextInstance,ct;function vt(u){if(ct===void 0)try{throw Error()}catch(v){var c=v.stack.trim().match(/\n( *(at )?)/);ct=c&&c[1]||""}return`
`+ct+u}var mt=!1;function yt(u,c){if(!u||mt)return"";mt=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(Pe){var M=Pe}Reflect.construct(u,[],c)}else{try{c.call()}catch(Pe){M=Pe}u.call(c.prototype)}else{try{throw Error()}catch(Pe){M=Pe}u()}}catch(Pe){if(Pe&&M&&typeof Pe.stack=="string"){for(var E=Pe.stack.split(`
`),A=M.stack.split(`
`),z=E.length-1,J=A.length-1;1<=z&&0<=J&&E[z]!==A[J];)J--;for(;1<=z&&0<=J;z--,J--)if(E[z]!==A[J]){if(z!==1||J!==1)do if(z--,J--,0>J||E[z]!==A[J]){var he=`
`+E[z].replace(" at new "," at ");return u.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",u.displayName)),he}while(1<=z&&0<=J);break}}}finally{mt=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?vt(u):""}var rn=Object.prototype.hasOwnProperty,Yn=[],Kt=-1;function Fn(u){return{current:u}}function ft(u){0>Kt||(u.current=Yn[Kt],Yn[Kt]=null,Kt--)}function We(u,c){Kt++,Yn[Kt]=u.current,u.current=c}var nr={},Ct=Fn(nr),cn=Fn(!1),Wr=nr;function ir(u,c){var v=u.type.contextTypes;if(!v)return nr;var M=u.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===c)return M.__reactInternalMemoizedMaskedChildContext;var E={},A;for(A in v)E[A]=c[A];return M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=c,u.__reactInternalMemoizedMaskedChildContext=E),E}function zn(u){return u=u.childContextTypes,u!=null}function vn(){ft(cn),ft(Ct)}function Xr(u,c,v){if(Ct.current!==nr)throw Error(o(168));We(Ct,c),We(cn,v)}function ll(u,c,v){var M=u.stateNode;if(c=c.childContextTypes,typeof M.getChildContext!="function")return v;M=M.getChildContext();for(var E in M)if(!(E in c))throw Error(o(108,D(u)||"Unknown",E));return s({},v,M)}function qn(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||nr,Wr=Ct.current,We(Ct,u),We(cn,cn.current),!0}function ul(u,c,v){var M=u.stateNode;if(!M)throw Error(o(169));v?(u=ll(u,c,Wr),M.__reactInternalMemoizedMergedChildContext=u,ft(cn),ft(Ct),We(Ct,u)):ft(cn),We(cn,v)}var Bi=Math.clz32?Math.clz32:zb,Rd=Math.log,Fb=Math.LN2;function zb(u){return u>>>=0,u===0?32:31-(Rd(u)/Fb|0)|0}var Ld=64,Id=4194304;function Zu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Dd(u,c){var v=u.pendingLanes;if(v===0)return 0;var M=0,E=u.suspendedLanes,A=u.pingedLanes,z=v&268435455;if(z!==0){var J=z&~E;J!==0?M=Zu(J):(A&=z,A!==0&&(M=Zu(A)))}else z=v&~E,z!==0?M=Zu(z):A!==0&&(M=Zu(A));if(M===0)return 0;if(c!==0&&c!==M&&(c&E)===0&&(E=M&-M,A=c&-c,E>=A||E===16&&(A&4194240)!==0))return c;if((M&4)!==0&&(M|=v&16),c=u.entangledLanes,c!==0)for(u=u.entanglements,c&=M;0<c;)v=31-Bi(c),E=1<<v,M|=u[v],c&=~E;return M}function kb(u,c){switch(u){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bb(u,c){for(var v=u.suspendedLanes,M=u.pingedLanes,E=u.expirationTimes,A=u.pendingLanes;0<A;){var z=31-Bi(A),J=1<<z,he=E[z];he===-1?((J&v)===0||(J&M)!==0)&&(E[z]=kb(J,c)):he<=c&&(u.expiredLanes|=J),A&=~J}}function s1(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function o1(u){for(var c=[],v=0;31>v;v++)c.push(u);return c}function Ku(u,c,v){u.pendingLanes|=c,c!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,c=31-Bi(c),u[c]=v}function Vb(u,c){var v=u.pendingLanes&~c;u.pendingLanes=c,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=c,u.mutableReadLanes&=c,u.entangledLanes&=c,c=u.entanglements;var M=u.eventTimes;for(u=u.expirationTimes;0<v;){var E=31-Bi(v),A=1<<E;c[E]=0,M[E]=-1,u[E]=-1,v&=~A}}function a1(u,c){var v=u.entangledLanes|=c;for(u=u.entanglements;v;){var M=31-Bi(v),E=1<<M;E&c|u[M]&c&&(u[M]|=c),v&=~E}}var zt=0;function l3(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var l1=r.unstable_scheduleCallback,u3=r.unstable_cancelCallback,Hb=r.unstable_shouldYield,Gb=r.unstable_requestPaint,kn=r.unstable_now,u1=r.unstable_ImmediatePriority,Wb=r.unstable_UserBlockingPriority,c1=r.unstable_NormalPriority,Xb=r.unstable_IdlePriority,Nd=null,jr=null;function jb(u){if(jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(Nd,u,void 0,(u.current.flags&128)===128)}catch{}}function Yb(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var Yr=typeof Object.is=="function"?Object.is:Yb,hs=null,Ud=!1,f1=!1;function c3(u){hs===null?hs=[u]:hs.push(u)}function qb(u){Ud=!0,c3(u)}function qr(){if(!f1&&hs!==null){f1=!0;var u=0,c=zt;try{var v=hs;for(zt=1;u<v.length;u++){var M=v[u];do M=M(!0);while(M!==null)}hs=null,Ud=!1}catch(E){throw hs!==null&&(hs=hs.slice(u+1)),l1(u1,qr),E}finally{zt=c,f1=!1}}return null}var Zb=a.ReactCurrentBatchConfig;function Od(u,c){if(Yr(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var v=Object.keys(u),M=Object.keys(c);if(v.length!==M.length)return!1;for(M=0;M<v.length;M++){var E=v[M];if(!rn.call(c,E)||!Yr(u[E],c[E]))return!1}return!0}function Kb(u){switch(u.tag){case 5:return vt(u.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 2:case 15:return u=yt(u.type,!1),u;case 11:return u=yt(u.type.render,!1),u;case 1:return u=yt(u.type,!0),u;default:return""}}function _r(u,c){if(u&&u.defaultProps){c=s({},c),u=u.defaultProps;for(var v in u)c[v]===void 0&&(c[v]=u[v]);return c}return c}var Fd=Fn(null),zd=null,cl=null,d1=null;function h1(){d1=cl=zd=null}function f3(u,c,v){je?(We(Fd,c._currentValue),c._currentValue=v):(We(Fd,c._currentValue2),c._currentValue2=v)}function p1(u){var c=Fd.current;ft(Fd),je?u._currentValue=c:u._currentValue2=c}function m1(u,c,v){for(;u!==null;){var M=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,M!==null&&(M.childLanes|=c)):M!==null&&(M.childLanes&c)!==c&&(M.childLanes|=c),u===v)break;u=u.return}}function fl(u,c){zd=u,d1=cl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&c)!==0&&(Gi=!0),u.firstContext=null)}function rr(u){var c=je?u._currentValue:u._currentValue2;if(d1!==u)if(u={context:u,memoizedValue:c,next:null},cl===null){if(zd===null)throw Error(o(308));cl=u,zd.dependencies={lanes:0,firstContext:u}}else cl=cl.next=u;return c}var Zr=null,Zs=!1;function g1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d3(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ps(u,c){return{eventTime:u,lane:c,tag:0,payload:null,callback:null,next:null}}function Ks(u,c){var v=u.updateQueue;v!==null&&(v=v.shared,Tn!==null&&(u.mode&1)!==0&&(bt&2)===0?(u=v.interleaved,u===null?(c.next=c,Zr===null?Zr=[v]:Zr.push(v)):(c.next=u.next,u.next=c),v.interleaved=c):(u=v.pending,u===null?c.next=c:(c.next=u.next,u.next=c),v.pending=c))}function kd(u,c,v){if(c=c.updateQueue,c!==null&&(c=c.shared,(v&4194240)!==0)){var M=c.lanes;M&=u.pendingLanes,v|=M,c.lanes=v,a1(u,v)}}function h3(u,c){var v=u.updateQueue,M=u.alternate;if(M!==null&&(M=M.updateQueue,v===M)){var E=null,A=null;if(v=v.firstBaseUpdate,v!==null){do{var z={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};A===null?E=A=z:A=A.next=z,v=v.next}while(v!==null);A===null?E=A=c:A=A.next=c}else E=A=c;v={baseState:M.baseState,firstBaseUpdate:E,lastBaseUpdate:A,shared:M.shared,effects:M.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=c:u.next=c,v.lastBaseUpdate=c}function Bd(u,c,v,M){var E=u.updateQueue;Zs=!1;var A=E.firstBaseUpdate,z=E.lastBaseUpdate,J=E.shared.pending;if(J!==null){E.shared.pending=null;var he=J,Pe=he.next;he.next=null,z===null?A=Pe:z.next=Pe,z=he;var Xe=u.alternate;Xe!==null&&(Xe=Xe.updateQueue,J=Xe.lastBaseUpdate,J!==z&&(J===null?Xe.firstBaseUpdate=Pe:J.next=Pe,Xe.lastBaseUpdate=he))}if(A!==null){var xt=E.baseState;z=0,Xe=Pe=he=null,J=A;do{var at=J.lane,jt=J.eventTime;if((M&at)===at){Xe!==null&&(Xe=Xe.next={eventTime:jt,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var et=u,ni=J;switch(at=c,jt=v,ni.tag){case 1:if(et=ni.payload,typeof et=="function"){xt=et.call(jt,xt,at);break e}xt=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=ni.payload,at=typeof et=="function"?et.call(jt,xt,at):et,at==null)break e;xt=s({},xt,at);break e;case 2:Zs=!0}}J.callback!==null&&J.lane!==0&&(u.flags|=64,at=E.effects,at===null?E.effects=[J]:at.push(J))}else jt={eventTime:jt,lane:at,tag:J.tag,payload:J.payload,callback:J.callback,next:null},Xe===null?(Pe=Xe=jt,he=xt):Xe=Xe.next=jt,z|=at;if(J=J.next,J===null){if(J=E.shared.pending,J===null)break;at=J,J=at.next,at.next=null,E.lastBaseUpdate=at,E.shared.pending=null}}while(1);if(Xe===null&&(he=xt),E.baseState=he,E.firstBaseUpdate=Pe,E.lastBaseUpdate=Xe,c=E.shared.interleaved,c!==null){E=c;do z|=E.lane,E=E.next;while(E!==c)}else A===null&&(E.shared.lanes=0);_l|=z,u.lanes=z,u.memoizedState=xt}}function p3(u,c,v){if(u=c.effects,c.effects=null,u!==null)for(c=0;c<u.length;c++){var M=u[c],E=M.callback;if(E!==null){if(M.callback=null,M=v,typeof E!="function")throw Error(o(191,E));E.call(M)}}}var m3=new i.Component().refs;function v1(u,c,v,M){c=u.memoizedState,v=v(M,c),v=v==null?c:s({},c,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Vd={isMounted:function(u){return(u=u._reactInternals)?P(u)===u:!1},enqueueSetState:function(u,c,v){u=u._reactInternals;var M=gi(),E=$s(u),A=ps(M,E);A.payload=c,v!=null&&(A.callback=v),Ks(u,A),c=ur(u,E,M),c!==null&&kd(c,u,E)},enqueueReplaceState:function(u,c,v){u=u._reactInternals;var M=gi(),E=$s(u),A=ps(M,E);A.tag=1,A.payload=c,v!=null&&(A.callback=v),Ks(u,A),c=ur(u,E,M),c!==null&&kd(c,u,E)},enqueueForceUpdate:function(u,c){u=u._reactInternals;var v=gi(),M=$s(u),E=ps(v,M);E.tag=2,c!=null&&(E.callback=c),Ks(u,E),c=ur(u,M,v),c!==null&&kd(c,u,M)}};function g3(u,c,v,M,E,A,z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(M,A,z):c.prototype&&c.prototype.isPureReactComponent?!Od(v,M)||!Od(E,A):!0}function v3(u,c,v){var M=!1,E=nr,A=c.contextType;return typeof A=="object"&&A!==null?A=rr(A):(E=zn(c)?Wr:Ct.current,M=c.contextTypes,A=(M=M!=null)?ir(u,E):nr),c=new c(v,A),u.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Vd,u.stateNode=c,c._reactInternals=u,M&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=A),c}function y3(u,c,v,M){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(v,M),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(v,M),c.state!==u&&Vd.enqueueReplaceState(c,c.state,null)}function y1(u,c,v,M){var E=u.stateNode;E.props=v,E.state=u.memoizedState,E.refs=m3,g1(u);var A=c.contextType;typeof A=="object"&&A!==null?E.context=rr(A):(A=zn(c)?Wr:Ct.current,E.context=ir(u,A)),E.state=u.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(v1(u,c,A,v),E.state=u.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(c=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),c!==E.state&&Vd.enqueueReplaceState(E,E.state,null),Bd(u,v,E,M),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}var dl=[],hl=0,Hd=null,Gd=0,sr=[],or=0,Qo=null,ms=1,gs="";function $o(u,c){dl[hl++]=Gd,dl[hl++]=Hd,Hd=u,Gd=c}function x3(u,c,v){sr[or++]=ms,sr[or++]=gs,sr[or++]=Qo,Qo=u;var M=ms;u=gs;var E=32-Bi(M)-1;M&=~(1<<E),v+=1;var A=32-Bi(c)+E;if(30<A){var z=E-E%5;A=(M&(1<<z)-1).toString(32),M>>=z,E-=z,ms=1<<32-Bi(c)+E|v<<E|M,gs=A+u}else ms=1<<A|v<<E|M,gs=u}function x1(u){u.return!==null&&($o(u,1),x3(u,1,0))}function _1(u){for(;u===Hd;)Hd=dl[--hl],dl[hl]=null,Gd=dl[--hl],dl[hl]=null;for(;u===Qo;)Qo=sr[--or],sr[or]=null,gs=sr[--or],sr[or]=null,ms=sr[--or],sr[or]=null}var Vi=null,Hi=null,tn=!1,Ju=!1,Sr=null;function _3(u,c){var v=cr(5,null,null,0);v.elementType="DELETED",v.stateNode=c,v.return=u,c=u.deletions,c===null?(u.deletions=[v],u.flags|=16):c.push(v)}function S3(u,c){switch(u.tag){case 5:return c=Nt(c,u.type,u.pendingProps),c!==null?(u.stateNode=c,Vi=u,Hi=al(c),!0):!1;case 6:return c=jn(c,u.pendingProps),c!==null?(u.stateNode=c,Vi=u,Hi=null,!0):!1;case 13:if(c=tr(c),c!==null){var v=Qo!==null?{id:ms,overflow:gs}:null;return u.memoizedState={dehydrated:c,treeContext:v,retryLane:1073741824},v=cr(18,null,null,0),v.stateNode=c,v.return=u,u.child=v,Vi=u,Hi=null,!0}return!1;default:return!1}}function S1(u){return(u.mode&1)!==0&&(u.flags&128)===0}function M1(u){if(tn){var c=Hi;if(c){var v=c;if(!S3(u,c)){if(S1(u))throw Error(o(418));c=qs(v);var M=Vi;c&&S3(u,c)?_3(M,v):(u.flags=u.flags&-4097|2,tn=!1,Vi=u)}}else{if(S1(u))throw Error(o(418));u.flags=u.flags&-4097|2,tn=!1,Vi=u}}}function M3(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Vi=u}function Qu(u){if(!Ee||u!==Vi)return!1;if(!tn)return M3(u),tn=!0,!1;if(u.tag!==3&&(u.tag!==5||Ve(u.type)&&!ae(u.type,u.memoizedProps))){var c=Hi;if(c){if(S1(u)){for(u=Hi;u;)u=qs(u);throw Error(o(418))}for(;c;)_3(u,c),c=qs(c)}}if(M3(u),u.tag===13){if(!Ee)throw Error(o(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));Hi=O(u)}else Hi=Vi?qs(u.stateNode):null;return!0}function pl(){Ee&&(Hi=Vi=null,Ju=tn=!1)}function w1(u){Sr===null?Sr=[u]:Sr.push(u)}function $u(u,c,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(o(309));var M=v.stateNode}if(!M)throw Error(o(147,u));var E=M,A=""+u;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===A?c.ref:(c=function(z){var J=E.refs;J===m3&&(J=E.refs={}),z===null?delete J[A]:J[A]=z},c._stringRef=A,c)}if(typeof u!="string")throw Error(o(284));if(!v._owner)throw Error(o(290,u))}return u}function Wd(u,c){throw u=Object.prototype.toString.call(c),Error(o(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u))}function w3(u){var c=u._init;return c(u._payload)}function E3(u){function c(se,Q){if(u){var de=se.deletions;de===null?(se.deletions=[Q],se.flags|=16):de.push(Q)}}function v(se,Q){if(!u)return null;for(;Q!==null;)c(se,Q),Q=Q.sibling;return null}function M(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function E(se,Q){return se=to(se,Q),se.index=0,se.sibling=null,se}function A(se,Q,de){return se.index=de,u?(de=se.alternate,de!==null?(de=de.index,de<Q?(se.flags|=2,Q):de):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function z(se){return u&&se.alternate===null&&(se.flags|=2),se}function J(se,Q,de,Fe){return Q===null||Q.tag!==6?(Q=og(de,se.mode,Fe),Q.return=se,Q):(Q=E(Q,de),Q.return=se,Q)}function he(se,Q,de,Fe){var Je=de.type;return Je===d?Xe(se,Q,de.props.children,Fe,de.key):Q!==null&&(Q.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===w&&w3(Je)===Q.type)?(Fe=E(Q,de.props),Fe.ref=$u(se,Q,de),Fe.return=se,Fe):(Fe=Sh(de.type,de.key,de.props,null,se.mode,Fe),Fe.ref=$u(se,Q,de),Fe.return=se,Fe)}function Pe(se,Q,de,Fe){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==de.containerInfo||Q.stateNode.implementation!==de.implementation?(Q=ag(de,se.mode,Fe),Q.return=se,Q):(Q=E(Q,de.children||[]),Q.return=se,Q)}function Xe(se,Q,de,Fe,Je){return Q===null||Q.tag!==7?(Q=oa(de,se.mode,Fe,Je),Q.return=se,Q):(Q=E(Q,de),Q.return=se,Q)}function xt(se,Q,de){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=og(""+Q,se.mode,de),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return de=Sh(Q.type,Q.key,Q.props,null,se.mode,de),de.ref=$u(se,null,Q),de.return=se,de;case f:return Q=ag(Q,se.mode,de),Q.return=se,Q;case w:var Fe=Q._init;return xt(se,Fe(Q._payload),de)}if($(Q)||C(Q))return Q=oa(Q,se.mode,de,null),Q.return=se,Q;Wd(se,Q)}return null}function at(se,Q,de,Fe){var Je=Q!==null?Q.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Je!==null?null:J(se,Q,""+de,Fe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return de.key===Je?he(se,Q,de,Fe):null;case f:return de.key===Je?Pe(se,Q,de,Fe):null;case w:return Je=de._init,at(se,Q,Je(de._payload),Fe)}if($(de)||C(de))return Je!==null?null:Xe(se,Q,de,Fe,null);Wd(se,de)}return null}function jt(se,Q,de,Fe,Je){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return se=se.get(de)||null,J(Q,se,""+Fe,Je);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return se=se.get(Fe.key===null?de:Fe.key)||null,he(Q,se,Fe,Je);case f:return se=se.get(Fe.key===null?de:Fe.key)||null,Pe(Q,se,Fe,Je);case w:var Tt=Fe._init;return jt(se,Q,de,Tt(Fe._payload),Je)}if($(Fe)||C(Fe))return se=se.get(de)||null,Xe(Q,se,Fe,Je,null);Wd(Q,Fe)}return null}function et(se,Q,de,Fe){for(var Je=null,Tt=null,_t=Q,kt=Q=0,Vn=null;_t!==null&&kt<de.length;kt++){_t.index>kt?(Vn=_t,_t=null):Vn=_t.sibling;var Bt=at(se,_t,de[kt],Fe);if(Bt===null){_t===null&&(_t=Vn);break}u&&_t&&Bt.alternate===null&&c(se,_t),Q=A(Bt,Q,kt),Tt===null?Je=Bt:Tt.sibling=Bt,Tt=Bt,_t=Vn}if(kt===de.length)return v(se,_t),tn&&$o(se,kt),Je;if(_t===null){for(;kt<de.length;kt++)_t=xt(se,de[kt],Fe),_t!==null&&(Q=A(_t,Q,kt),Tt===null?Je=_t:Tt.sibling=_t,Tt=_t);return tn&&$o(se,kt),Je}for(_t=M(se,_t);kt<de.length;kt++)Vn=jt(_t,se,kt,de[kt],Fe),Vn!==null&&(u&&Vn.alternate!==null&&_t.delete(Vn.key===null?kt:Vn.key),Q=A(Vn,Q,kt),Tt===null?Je=Vn:Tt.sibling=Vn,Tt=Vn);return u&&_t.forEach(function(no){return c(se,no)}),tn&&$o(se,kt),Je}function ni(se,Q,de,Fe){var Je=C(de);if(typeof Je!="function")throw Error(o(150));if(de=Je.call(de),de==null)throw Error(o(151));for(var Tt=Je=null,_t=Q,kt=Q=0,Vn=null,Bt=de.next();_t!==null&&!Bt.done;kt++,Bt=de.next()){_t.index>kt?(Vn=_t,_t=null):Vn=_t.sibling;var no=at(se,_t,Bt.value,Fe);if(no===null){_t===null&&(_t=Vn);break}u&&_t&&no.alternate===null&&c(se,_t),Q=A(no,Q,kt),Tt===null?Je=no:Tt.sibling=no,Tt=no,_t=Vn}if(Bt.done)return v(se,_t),tn&&$o(se,kt),Je;if(_t===null){for(;!Bt.done;kt++,Bt=de.next())Bt=xt(se,Bt.value,Fe),Bt!==null&&(Q=A(Bt,Q,kt),Tt===null?Je=Bt:Tt.sibling=Bt,Tt=Bt);return tn&&$o(se,kt),Je}for(_t=M(se,_t);!Bt.done;kt++,Bt=de.next())Bt=jt(_t,se,kt,Bt.value,Fe),Bt!==null&&(u&&Bt.alternate!==null&&_t.delete(Bt.key===null?kt:Bt.key),Q=A(Bt,Q,kt),Tt===null?Je=Bt:Tt.sibling=Bt,Tt=Bt);return u&&_t.forEach(function(AP){return c(se,AP)}),tn&&$o(se,kt),Je}function fr(se,Q,de,Fe){if(typeof de=="object"&&de!==null&&de.type===d&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case l:e:{for(var Je=de.key,Tt=Q;Tt!==null;){if(Tt.key===Je){if(Je=de.type,Je===d){if(Tt.tag===7){v(se,Tt.sibling),Q=E(Tt,de.props.children),Q.return=se,se=Q;break e}}else if(Tt.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===w&&w3(Je)===Tt.type){v(se,Tt.sibling),Q=E(Tt,de.props),Q.ref=$u(se,Tt,de),Q.return=se,se=Q;break e}v(se,Tt);break}else c(se,Tt);Tt=Tt.sibling}de.type===d?(Q=oa(de.props.children,se.mode,Fe,de.key),Q.return=se,se=Q):(Fe=Sh(de.type,de.key,de.props,null,se.mode,Fe),Fe.ref=$u(se,Q,de),Fe.return=se,se=Fe)}return z(se);case f:e:{for(Tt=de.key;Q!==null;){if(Q.key===Tt)if(Q.tag===4&&Q.stateNode.containerInfo===de.containerInfo&&Q.stateNode.implementation===de.implementation){v(se,Q.sibling),Q=E(Q,de.children||[]),Q.return=se,se=Q;break e}else{v(se,Q);break}else c(se,Q);Q=Q.sibling}Q=ag(de,se.mode,Fe),Q.return=se,se=Q}return z(se);case w:return Tt=de._init,fr(se,Q,Tt(de._payload),Fe)}if($(de))return et(se,Q,de,Fe);if(C(de))return ni(se,Q,de,Fe);Wd(se,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,Q!==null&&Q.tag===6?(v(se,Q.sibling),Q=E(Q,de),Q.return=se,se=Q):(v(se,Q),Q=og(de,se.mode,Fe),Q.return=se,se=Q),z(se)):v(se,Q)}return fr}var ml=E3(!0),T3=E3(!1),ec={},ar=Fn(ec),tc=Fn(ec),gl=Fn(ec);function Kr(u){if(u===ec)throw Error(o(174));return u}function E1(u,c){We(gl,c),We(tc,u),We(ar,ec),u=ce(c),ft(ar),We(ar,u)}function vl(){ft(ar),ft(tc),ft(gl)}function A3(u){var c=Kr(gl.current),v=Kr(ar.current);c=N(v,u.type,c),v!==c&&(We(tc,u),We(ar,c))}function T1(u){tc.current===u&&(ft(ar),ft(tc))}var sn=Fn(0);function Xd(u){for(var c=u;c!==null;){if(c.tag===13){var v=c.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||Yu(v)||qu(v)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var A1=[];function C1(){for(var u=0;u<A1.length;u++){var c=A1[u];je?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}A1.length=0}var jd=a.ReactCurrentDispatcher,lr=a.ReactCurrentBatchConfig,yl=0,fn=null,$n=null,Bn=null,Yd=!1,nc=!1,ic=0,Jb=0;function ei(){throw Error(o(321))}function b1(u,c){if(c===null)return!1;for(var v=0;v<c.length&&v<u.length;v++)if(!Yr(u[v],c[v]))return!1;return!0}function P1(u,c,v,M,E,A){if(yl=A,fn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,jd.current=u===null||u.memoizedState===null?tP:nP,u=v(M,E),nc){A=0;do{if(nc=!1,ic=0,25<=A)throw Error(o(301));A+=1,Bn=$n=null,c.updateQueue=null,jd.current=iP,u=v(M,E)}while(nc)}if(jd.current=Qd,c=$n!==null&&$n.next!==null,yl=0,Bn=$n=fn=null,Yd=!1,c)throw Error(o(300));return u}function R1(){var u=ic!==0;return ic=0,u}function vs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?fn.memoizedState=Bn=u:Bn=Bn.next=u,Bn}function Jr(){if($n===null){var u=fn.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var c=Bn===null?fn.memoizedState:Bn.next;if(c!==null)Bn=c,$n=u;else{if(u===null)throw Error(o(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},Bn===null?fn.memoizedState=Bn=u:Bn=Bn.next=u}return Bn}function ea(u,c){return typeof c=="function"?c(u):c}function qd(u){var c=Jr(),v=c.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=u;var M=$n,E=M.baseQueue,A=v.pending;if(A!==null){if(E!==null){var z=E.next;E.next=A.next,A.next=z}M.baseQueue=E=A,v.pending=null}if(E!==null){A=E.next,M=M.baseState;var J=z=null,he=null,Pe=A;do{var Xe=Pe.lane;if((yl&Xe)===Xe)he!==null&&(he=he.next={lane:0,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),M=Pe.hasEagerState?Pe.eagerState:u(M,Pe.action);else{var xt={lane:Xe,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null};he===null?(J=he=xt,z=M):he=he.next=xt,fn.lanes|=Xe,_l|=Xe}Pe=Pe.next}while(Pe!==null&&Pe!==A);he===null?z=M:he.next=J,Yr(M,c.memoizedState)||(Gi=!0),c.memoizedState=M,c.baseState=z,c.baseQueue=he,v.lastRenderedState=M}if(u=v.interleaved,u!==null){E=u;do A=E.lane,fn.lanes|=A,_l|=A,E=E.next;while(E!==u)}else E===null&&(v.lanes=0);return[c.memoizedState,v.dispatch]}function Zd(u){var c=Jr(),v=c.queue;if(v===null)throw Error(o(311));v.lastRenderedReducer=u;var M=v.dispatch,E=v.pending,A=c.memoizedState;if(E!==null){v.pending=null;var z=E=E.next;do A=u(A,z.action),z=z.next;while(z!==E);Yr(A,c.memoizedState)||(Gi=!0),c.memoizedState=A,c.baseQueue===null&&(c.baseState=A),v.lastRenderedState=A}return[A,M]}function C3(){}function b3(u,c){var v=fn,M=Jr(),E=c(),A=!Yr(M.memoizedState,E);if(A&&(M.memoizedState=E,Gi=!0),M=M.queue,sc(L3.bind(null,v,M,u),[u]),M.getSnapshot!==c||A||Bn!==null&&Bn.memoizedState.tag&1){if(v.flags|=2048,rc(9,R3.bind(null,v,M,E,c),void 0,null),Tn===null)throw Error(o(349));(yl&30)!==0||P3(v,c,E)}return E}function P3(u,c,v){u.flags|=16384,u={getSnapshot:c,value:v},c=fn.updateQueue,c===null?(c={lastEffect:null,stores:null},fn.updateQueue=c,c.stores=[u]):(v=c.stores,v===null?c.stores=[u]:v.push(u))}function R3(u,c,v,M){c.value=v,c.getSnapshot=M,I3(c)&&ur(u,1,-1)}function L3(u,c,v){return v(function(){I3(c)&&ur(u,1,-1)})}function I3(u){var c=u.getSnapshot;u=u.value;try{var v=c();return!Yr(u,v)}catch{return!0}}function L1(u){var c=vs();return typeof u=="function"&&(u=u()),c.memoizedState=c.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:u},c.queue=u,u=u.dispatch=eP.bind(null,fn,u),[c.memoizedState,u]}function rc(u,c,v,M){return u={tag:u,create:c,destroy:v,deps:M,next:null},c=fn.updateQueue,c===null?(c={lastEffect:null,stores:null},fn.updateQueue=c,c.lastEffect=u.next=u):(v=c.lastEffect,v===null?c.lastEffect=u.next=u:(M=v.next,v.next=u,u.next=M,c.lastEffect=u)),u}function D3(){return Jr().memoizedState}function Kd(u,c,v,M){var E=vs();fn.flags|=u,E.memoizedState=rc(1|c,v,void 0,M===void 0?null:M)}function Jd(u,c,v,M){var E=Jr();M=M===void 0?null:M;var A=void 0;if($n!==null){var z=$n.memoizedState;if(A=z.destroy,M!==null&&b1(M,z.deps)){E.memoizedState=rc(c,v,A,M);return}}fn.flags|=u,E.memoizedState=rc(1|c,v,A,M)}function I1(u,c){return Kd(8390656,8,u,c)}function sc(u,c){return Jd(2048,8,u,c)}function N3(u,c){return Jd(4,2,u,c)}function U3(u,c){return Jd(4,4,u,c)}function O3(u,c){if(typeof c=="function")return u=u(),c(u),function(){c(null)};if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function F3(u,c,v){return v=v!=null?v.concat([u]):null,Jd(4,4,O3.bind(null,c,u),v)}function D1(){}function z3(u,c){var v=Jr();c=c===void 0?null:c;var M=v.memoizedState;return M!==null&&c!==null&&b1(c,M[1])?M[0]:(v.memoizedState=[u,c],u)}function k3(u,c){var v=Jr();c=c===void 0?null:c;var M=v.memoizedState;return M!==null&&c!==null&&b1(c,M[1])?M[0]:(u=u(),v.memoizedState=[u,c],u)}function Qb(u,c){var v=zt;zt=v!==0&&4>v?v:4,u(!0);var M=lr.transition;lr.transition={};try{u(!1),c()}finally{zt=v,lr.transition=M}}function B3(){return Jr().memoizedState}function $b(u,c,v){var M=$s(u);v={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null},V3(u)?H3(c,v):(G3(u,c,v),v=gi(),u=ur(u,M,v),u!==null&&W3(u,c,M))}function eP(u,c,v){var M=$s(u),E={lane:M,action:v,hasEagerState:!1,eagerState:null,next:null};if(V3(u))H3(c,E);else{G3(u,c,E);var A=u.alternate;if(u.lanes===0&&(A===null||A.lanes===0)&&(A=c.lastRenderedReducer,A!==null))try{var z=c.lastRenderedState,J=A(z,v);if(E.hasEagerState=!0,E.eagerState=J,Yr(J,z))return}catch{}finally{}v=gi(),u=ur(u,M,v),u!==null&&W3(u,c,M)}}function V3(u){var c=u.alternate;return u===fn||c!==null&&c===fn}function H3(u,c){nc=Yd=!0;var v=u.pending;v===null?c.next=c:(c.next=v.next,v.next=c),u.pending=c}function G3(u,c,v){Tn!==null&&(u.mode&1)!==0&&(bt&2)===0?(u=c.interleaved,u===null?(v.next=v,Zr===null?Zr=[c]:Zr.push(c)):(v.next=u.next,u.next=v),c.interleaved=v):(u=c.pending,u===null?v.next=v:(v.next=u.next,u.next=v),c.pending=v)}function W3(u,c,v){if((v&4194240)!==0){var M=c.lanes;M&=u.pendingLanes,v|=M,c.lanes=v,a1(u,v)}}var Qd={readContext:rr,useCallback:ei,useContext:ei,useEffect:ei,useImperativeHandle:ei,useInsertionEffect:ei,useLayoutEffect:ei,useMemo:ei,useReducer:ei,useRef:ei,useState:ei,useDebugValue:ei,useDeferredValue:ei,useTransition:ei,useMutableSource:ei,useSyncExternalStore:ei,useId:ei,unstable_isNewReconciler:!1},tP={readContext:rr,useCallback:function(u,c){return vs().memoizedState=[u,c===void 0?null:c],u},useContext:rr,useEffect:I1,useImperativeHandle:function(u,c,v){return v=v!=null?v.concat([u]):null,Kd(4194308,4,O3.bind(null,c,u),v)},useLayoutEffect:function(u,c){return Kd(4194308,4,u,c)},useInsertionEffect:function(u,c){return Kd(4,2,u,c)},useMemo:function(u,c){var v=vs();return c=c===void 0?null:c,u=u(),v.memoizedState=[u,c],u},useReducer:function(u,c,v){var M=vs();return c=v!==void 0?v(c):c,M.memoizedState=M.baseState=c,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:c},M.queue=u,u=u.dispatch=$b.bind(null,fn,u),[M.memoizedState,u]},useRef:function(u){var c=vs();return u={current:u},c.memoizedState=u},useState:L1,useDebugValue:D1,useDeferredValue:function(u){var c=L1(u),v=c[0],M=c[1];return I1(function(){var E=lr.transition;lr.transition={};try{M(u)}finally{lr.transition=E}},[u]),v},useTransition:function(){var u=L1(!1),c=u[0];return u=Qb.bind(null,u[1]),vs().memoizedState=u,[c,u]},useMutableSource:function(){},useSyncExternalStore:function(u,c,v){var M=fn,E=vs();if(tn){if(v===void 0)throw Error(o(407));v=v()}else{if(v=c(),Tn===null)throw Error(o(349));(yl&30)!==0||P3(M,c,v)}E.memoizedState=v;var A={value:v,getSnapshot:c};return E.queue=A,I1(L3.bind(null,M,A,u),[u]),M.flags|=2048,rc(9,R3.bind(null,M,A,v,c),void 0,null),v},useId:function(){var u=vs(),c=Tn.identifierPrefix;if(tn){var v=gs,M=ms;v=(M&~(1<<32-Bi(M)-1)).toString(32)+v,c=":"+c+"R"+v,v=ic++,0<v&&(c+="H"+v.toString(32)),c+=":"}else v=Jb++,c=":"+c+"r"+v.toString(32)+":";return u.memoizedState=c},unstable_isNewReconciler:!1},nP={readContext:rr,useCallback:z3,useContext:rr,useEffect:sc,useImperativeHandle:F3,useInsertionEffect:N3,useLayoutEffect:U3,useMemo:k3,useReducer:qd,useRef:D3,useState:function(){return qd(ea)},useDebugValue:D1,useDeferredValue:function(u){var c=qd(ea),v=c[0],M=c[1];return sc(function(){var E=lr.transition;lr.transition={};try{M(u)}finally{lr.transition=E}},[u]),v},useTransition:function(){var u=qd(ea)[0],c=Jr().memoizedState;return[u,c]},useMutableSource:C3,useSyncExternalStore:b3,useId:B3,unstable_isNewReconciler:!1},iP={readContext:rr,useCallback:z3,useContext:rr,useEffect:sc,useImperativeHandle:F3,useInsertionEffect:N3,useLayoutEffect:U3,useMemo:k3,useReducer:Zd,useRef:D3,useState:function(){return Zd(ea)},useDebugValue:D1,useDeferredValue:function(u){var c=Zd(ea),v=c[0],M=c[1];return sc(function(){var E=lr.transition;lr.transition={};try{M(u)}finally{lr.transition=E}},[u]),v},useTransition:function(){var u=Zd(ea)[0],c=Jr().memoizedState;return[u,c]},useMutableSource:C3,useSyncExternalStore:b3,useId:B3,unstable_isNewReconciler:!1};function N1(u,c){try{var v="",M=c;do v+=Kb(M),M=M.return;while(M);var E=v}catch(A){E=`
Error generating stack: `+A.message+`
`+A.stack}return{value:u,source:c,stack:E}}function U1(u,c){try{console.error(c.value)}catch(v){setTimeout(function(){throw v})}}var rP=typeof WeakMap=="function"?WeakMap:Map;function X3(u,c,v){v=ps(-1,v),v.tag=3,v.payload={element:null};var M=c.value;return v.callback=function(){ph||(ph=!0,$1=M),U1(u,c)},v}function j3(u,c,v){v=ps(-1,v),v.tag=3;var M=u.type.getDerivedStateFromError;if(typeof M=="function"){var E=c.value;v.payload=function(){return M(E)},v.callback=function(){U1(u,c)}}var A=u.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(v.callback=function(){U1(u,c),typeof M!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})}),v}function Y3(u,c,v){var M=u.pingCache;if(M===null){M=u.pingCache=new rP;var E=new Set;M.set(c,E)}else E=M.get(c),E===void 0&&(E=new Set,M.set(c,E));E.has(v)||(E.add(v),u=yP.bind(null,u,c,v),c.then(u,u))}function q3(u){do{var c;if((c=u.tag===13)&&(c=u.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return u;u=u.return}while(u!==null);return null}function Z3(u,c,v,M,E){return(u.mode&1)===0?(u===c?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(c=ps(-1,1),c.tag=2,Ks(v,c))),v.lanes|=1),u):(u.flags|=65536,u.lanes=E,u)}function Qr(u){u.flags|=4}function K3(u,c){if(u!==null&&u.child===c.child)return!0;if((c.flags&16)!==0)return!1;for(u=c.child;u!==null;){if((u.flags&12854)!==0||(u.subtreeFlags&12854)!==0)return!1;u=u.sibling}return!0}var oc,ac,$d,eh;if(Qe)oc=function(u,c){for(var v=c.child;v!==null;){if(v.tag===5||v.tag===6)ee(u,v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===c)break;for(;v.sibling===null;){if(v.return===null||v.return===c)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},ac=function(){},$d=function(u,c,v,M,E){if(u=u.memoizedProps,u!==M){var A=c.stateNode,z=Kr(ar.current);v=q(A,v,u,M,E,z),(c.updateQueue=v)&&Qr(c)}},eh=function(u,c,v,M){v!==M&&Qr(c)};else if(G){oc=function(u,c,v,M){for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;v&&M&&(A=Xt(A,E.type,E.memoizedProps,E)),ee(u,A)}else if(E.tag===6)A=E.stateNode,v&&M&&(A=en(A,E.memoizedProps,E)),ee(u,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)A=E.child,A!==null&&(A.return=E),oc(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};var J3=function(u,c,v,M){for(var E=c.child;E!==null;){if(E.tag===5){var A=E.stateNode;v&&M&&(A=Xt(A,E.type,E.memoizedProps,E)),qe(u,A)}else if(E.tag===6)A=E.stateNode,v&&M&&(A=en(A,E.memoizedProps,E)),qe(u,A);else if(E.tag!==4){if(E.tag===22&&E.memoizedState!==null)A=E.child,A!==null&&(A.return=E),J3(u,E,!0,!0);else if(E.child!==null){E.child.return=E,E=E.child;continue}}if(E===c)break;for(;E.sibling===null;){if(E.return===null||E.return===c)return;E=E.return}E.sibling.return=E.return,E=E.sibling}};ac=function(u,c){var v=c.stateNode;if(!K3(u,c)){u=v.containerInfo;var M=ot(u);J3(M,c,!1,!1),v.pendingChildren=M,Qr(c),Pt(u,M)}},$d=function(u,c,v,M,E){var A=u.stateNode,z=u.memoizedProps;if((u=K3(u,c))&&z===M)c.stateNode=A;else{var J=c.stateNode,he=Kr(ar.current),Pe=null;z!==M&&(Pe=q(J,v,z,M,E,he)),u&&Pe===null?c.stateNode=A:(A=De(A,Pe,v,z,M,c,u,J),Y(A,v,M,E,he)&&Qr(c),c.stateNode=A,u?Qr(c):oc(A,c,!1,!1))}},eh=function(u,c,v,M){v!==M?(u=Kr(gl.current),v=Kr(ar.current),c.stateNode=_e(M,u,v,c),Qr(c)):c.stateNode=u.stateNode}}else ac=function(){},$d=function(){},eh=function(){};function lc(u,c){if(!tn)switch(u.tailMode){case"hidden":c=u.tail;for(var v=null;c!==null;)c.alternate!==null&&(v=c),c=c.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var M=null;v!==null;)v.alternate!==null&&(M=v),v=v.sibling;M===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:M.sibling=null}}function ti(u){var c=u.alternate!==null&&u.alternate.child===u.child,v=0,M=0;if(c)for(var E=u.child;E!==null;)v|=E.lanes|E.childLanes,M|=E.subtreeFlags&14680064,M|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)v|=E.lanes|E.childLanes,M|=E.subtreeFlags,M|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=M,u.childLanes=v,c}function sP(u,c,v){var M=c.pendingProps;switch(_1(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ti(c),null;case 1:return zn(c.type)&&vn(),ti(c),null;case 3:return M=c.stateNode,vl(),ft(cn),ft(Ct),C1(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(u===null||u.child===null)&&(Qu(c)?Qr(c):u===null||u.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Sr!==null&&(ng(Sr),Sr=null))),ac(u,c),ti(c),null;case 5:T1(c),v=Kr(gl.current);var E=c.type;if(u!==null&&c.stateNode!=null)$d(u,c,E,M,v),u.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!M){if(c.stateNode===null)throw Error(o(166));return ti(c),null}if(u=Kr(ar.current),Qu(c)){if(!Ee)throw Error(o(175));u=n1(c.stateNode,c.type,c.memoizedProps,v,u,c,!Ju),c.updateQueue=u,u!==null&&Qr(c)}else{var A=Z(E,M,v,u,c);oc(A,c,!1,!1),c.stateNode=A,Y(A,E,M,v,u)&&Qr(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return ti(c),null;case 6:if(u&&c.stateNode!=null)eh(u,c,u.memoizedProps,M);else{if(typeof M!="string"&&c.stateNode===null)throw Error(o(166));if(u=Kr(gl.current),v=Kr(ar.current),Qu(c)){if(!Ee)throw Error(o(176));if(u=c.stateNode,M=c.memoizedProps,(v=i1(u,M,c,!Ju))&&(E=Vi,E!==null))switch(A=(E.mode&1)!==0,E.tag){case 3:$e(E.stateNode.containerInfo,u,M,A);break;case 5:ut(E.type,E.memoizedProps,E.stateNode,u,M,A)}v&&Qr(c)}else c.stateNode=_e(M,u,v,c)}return ti(c),null;case 13:if(ft(sn),M=c.memoizedState,tn&&Hi!==null&&(c.mode&1)!==0&&(c.flags&128)===0){for(u=Hi;u;)u=qs(u);return pl(),c.flags|=98560,c}if(M!==null&&M.dehydrated!==null){if(M=Qu(c),u===null){if(!M)throw Error(o(318));if(!Ee)throw Error(o(344));if(u=c.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));r1(u,c)}else pl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;return ti(c),null}return Sr!==null&&(ng(Sr),Sr=null),(c.flags&128)!==0?(c.lanes=v,c):(M=M!==null,v=!1,u===null?Qu(c):v=u.memoizedState!==null,M&&!v&&(c.child.flags|=8192,(c.mode&1)!==0&&(u===null||(sn.current&1)!==0?Rn===0&&(Rn=3):rg())),c.updateQueue!==null&&(c.flags|=4),ti(c),null);case 4:return vl(),ac(u,c),u===null&&Ae(c.stateNode.containerInfo),ti(c),null;case 10:return p1(c.type._context),ti(c),null;case 17:return zn(c.type)&&vn(),ti(c),null;case 19:if(ft(sn),E=c.memoizedState,E===null)return ti(c),null;if(M=(c.flags&128)!==0,A=E.rendering,A===null)if(M)lc(E,!1);else{if(Rn!==0||u!==null&&(u.flags&128)!==0)for(u=c.child;u!==null;){if(A=Xd(u),A!==null){for(c.flags|=128,lc(E,!1),u=A.updateQueue,u!==null&&(c.updateQueue=u,c.flags|=4),c.subtreeFlags=0,u=v,M=c.child;M!==null;)v=M,E=u,v.flags&=14680066,A=v.alternate,A===null?(v.childLanes=0,v.lanes=E,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,E=A.dependencies,v.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext}),M=M.sibling;return We(sn,sn.current&1|2),c.child}u=u.sibling}E.tail!==null&&kn()>Q1&&(c.flags|=128,M=!0,lc(E,!1),c.lanes=4194304)}else{if(!M)if(u=Xd(A),u!==null){if(c.flags|=128,M=!0,u=u.updateQueue,u!==null&&(c.updateQueue=u,c.flags|=4),lc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!A.alternate&&!tn)return ti(c),null}else 2*kn()-E.renderingStartTime>Q1&&v!==1073741824&&(c.flags|=128,M=!0,lc(E,!1),c.lanes=4194304);E.isBackwards?(A.sibling=c.child,c.child=A):(u=E.last,u!==null?u.sibling=A:c.child=A,E.last=A)}return E.tail!==null?(c=E.tail,E.rendering=c,E.tail=c.sibling,E.renderingStartTime=kn(),c.sibling=null,u=sn.current,We(sn,M?u&1|2:u&1),c):(ti(c),null);case 22:case 23:return ig(),M=c.memoizedState!==null,u!==null&&u.memoizedState!==null!==M&&(c.flags|=8192),M&&(c.mode&1)!==0?(Wi&1073741824)!==0&&(ti(c),Qe&&c.subtreeFlags&6&&(c.flags|=8192)):ti(c),null;case 24:return null;case 25:return null}throw Error(o(156,c.tag))}var oP=a.ReactCurrentOwner,Gi=!1;function mi(u,c,v,M){c.child=u===null?T3(c,null,v,M):ml(c,u.child,v,M)}function Q3(u,c,v,M,E){v=v.render;var A=c.ref;return fl(c,E),M=P1(u,c,v,M,A,E),v=R1(),u!==null&&!Gi?(c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~E,ys(u,c,E)):(tn&&v&&x1(c),c.flags|=1,mi(u,c,M,E),c.child)}function $3(u,c,v,M,E){if(u===null){var A=v.type;return typeof A=="function"&&!sg(A)&&A.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(c.tag=15,c.type=A,eS(u,c,A,M,E)):(u=Sh(v.type,null,M,c,c.mode,E),u.ref=c.ref,u.return=c,c.child=u)}if(A=u.child,(u.lanes&E)===0){var z=A.memoizedProps;if(v=v.compare,v=v!==null?v:Od,v(z,M)&&u.ref===c.ref)return ys(u,c,E)}return c.flags|=1,u=to(A,M),u.ref=c.ref,u.return=c,c.child=u}function eS(u,c,v,M,E){if(u!==null&&Od(u.memoizedProps,M)&&u.ref===c.ref)if(Gi=!1,(u.lanes&E)!==0)(u.flags&131072)!==0&&(Gi=!0);else return c.lanes=u.lanes,ys(u,c,E);return O1(u,c,v,M,E)}function tS(u,c,v){var M=c.pendingProps,E=M.children,A=u!==null?u.memoizedState:null;if(M.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null},We(xl,Wi),Wi|=v;else if((v&1073741824)!==0)c.memoizedState={baseLanes:0,cachePool:null},M=A!==null?A.baseLanes:v,We(xl,Wi),Wi|=M;else return u=A!==null?A.baseLanes|v:v,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:u,cachePool:null},c.updateQueue=null,We(xl,Wi),Wi|=u,null;else A!==null?(M=A.baseLanes|v,c.memoizedState=null):M=v,We(xl,Wi),Wi|=M;return mi(u,c,E,v),c.child}function nS(u,c){var v=c.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(c.flags|=512,c.flags|=2097152)}function O1(u,c,v,M,E){var A=zn(v)?Wr:Ct.current;return A=ir(c,A),fl(c,E),v=P1(u,c,v,M,A,E),M=R1(),u!==null&&!Gi?(c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~E,ys(u,c,E)):(tn&&M&&x1(c),c.flags|=1,mi(u,c,v,E),c.child)}function iS(u,c,v,M,E){if(zn(v)){var A=!0;qn(c)}else A=!1;if(fl(c,E),c.stateNode===null)u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),v3(c,v,M),y1(c,v,M,E),M=!0;else if(u===null){var z=c.stateNode,J=c.memoizedProps;z.props=J;var he=z.context,Pe=v.contextType;typeof Pe=="object"&&Pe!==null?Pe=rr(Pe):(Pe=zn(v)?Wr:Ct.current,Pe=ir(c,Pe));var Xe=v.getDerivedStateFromProps,xt=typeof Xe=="function"||typeof z.getSnapshotBeforeUpdate=="function";xt||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==M||he!==Pe)&&y3(c,z,M,Pe),Zs=!1;var at=c.memoizedState;z.state=at,Bd(c,M,z,E),he=c.memoizedState,J!==M||at!==he||cn.current||Zs?(typeof Xe=="function"&&(v1(c,v,Xe,M),he=c.memoizedState),(J=Zs||g3(c,v,J,M,at,he,Pe))?(xt||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(c.flags|=4194308)):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=M,c.memoizedState=he),z.props=M,z.state=he,z.context=Pe,M=J):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),M=!1)}else{z=c.stateNode,d3(u,c),J=c.memoizedProps,Pe=c.type===c.elementType?J:_r(c.type,J),z.props=Pe,xt=c.pendingProps,at=z.context,he=v.contextType,typeof he=="object"&&he!==null?he=rr(he):(he=zn(v)?Wr:Ct.current,he=ir(c,he));var jt=v.getDerivedStateFromProps;(Xe=typeof jt=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(J!==xt||at!==he)&&y3(c,z,M,he),Zs=!1,at=c.memoizedState,z.state=at,Bd(c,M,z,E);var et=c.memoizedState;J!==xt||at!==et||cn.current||Zs?(typeof jt=="function"&&(v1(c,v,jt,M),et=c.memoizedState),(Pe=Zs||g3(c,v,Pe,M,at,et,he)||!1)?(Xe||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(M,et,he),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(M,et,he)),typeof z.componentDidUpdate=="function"&&(c.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof z.componentDidUpdate!="function"||J===u.memoizedProps&&at===u.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&at===u.memoizedState||(c.flags|=1024),c.memoizedProps=M,c.memoizedState=et),z.props=M,z.state=et,z.context=he,M=Pe):(typeof z.componentDidUpdate!="function"||J===u.memoizedProps&&at===u.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||J===u.memoizedProps&&at===u.memoizedState||(c.flags|=1024),M=!1)}return F1(u,c,v,M,A,E)}function F1(u,c,v,M,E,A){nS(u,c);var z=(c.flags&128)!==0;if(!M&&!z)return E&&ul(c,v,!1),ys(u,c,A);M=c.stateNode,oP.current=c;var J=z&&typeof v.getDerivedStateFromError!="function"?null:M.render();return c.flags|=1,u!==null&&z?(c.child=ml(c,u.child,null,A),c.child=ml(c,null,J,A)):mi(u,c,J,A),c.memoizedState=M.state,E&&ul(c,v,!0),c.child}function rS(u){var c=u.stateNode;c.pendingContext?Xr(u,c.pendingContext,c.pendingContext!==c.context):c.context&&Xr(u,c.context,!1),E1(u,c.containerInfo)}function sS(u,c,v,M,E){return pl(),w1(E),c.flags|=256,mi(u,c,v,M),c.child}var th={dehydrated:null,treeContext:null,retryLane:0};function nh(u){return{baseLanes:u,cachePool:null}}function oS(u,c,v){var M=c.pendingProps,E=sn.current,A=!1,z=(c.flags&128)!==0,J;if((J=z)||(J=u!==null&&u.memoizedState===null?!1:(E&2)!==0),J?(A=!0,c.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),We(sn,E&1),u===null)return M1(c),u=c.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((c.mode&1)===0?c.lanes=1:qu(u)?c.lanes=8:c.lanes=1073741824,null):(E=M.children,u=M.fallback,A?(M=c.mode,A=c.child,E={mode:"hidden",children:E},(M&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=E):A=Mh(E,M,0,null),u=oa(u,M,v,null),A.return=c,u.return=c,A.sibling=u,c.child=A,c.child.memoizedState=nh(v),c.memoizedState=th,u):z1(c,E));if(E=u.memoizedState,E!==null){if(J=E.dehydrated,J!==null){if(z)return c.flags&256?(c.flags&=-257,ih(u,c,v,Error(o(422)))):c.memoizedState!==null?(c.child=u.child,c.flags|=128,null):(A=M.fallback,E=c.mode,M=Mh({mode:"visible",children:M.children},E,0,null),A=oa(A,E,v,null),A.flags|=2,M.return=c,A.return=c,M.sibling=A,c.child=M,(c.mode&1)!==0&&ml(c,u.child,null,v),c.child.memoizedState=nh(v),c.memoizedState=th,A);if((c.mode&1)===0)c=ih(u,c,v,null);else if(qu(J))c=ih(u,c,v,Error(o(419)));else if(M=(v&u.childLanes)!==0,Gi||M){if(M=Tn,M!==null){switch(v&-v){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}M=(A&(M.suspendedLanes|v))!==0?0:A,M!==0&&M!==E.retryLane&&(E.retryLane=M,ur(u,M,-1))}rg(),c=ih(u,c,v,Error(o(421)))}else Yu(J)?(c.flags|=128,c.child=u.child,c=xP.bind(null,u),ol(J,c),c=null):(v=E.treeContext,Ee&&(Hi=Pd(J),Vi=c,tn=!0,Sr=null,Ju=!1,v!==null&&(sr[or++]=ms,sr[or++]=gs,sr[or++]=Qo,ms=v.id,gs=v.overflow,Qo=c)),c=z1(c,c.pendingProps.children),c.flags|=4096);return c}return A?(M=lS(u,c,M.children,M.fallback,v),A=c.child,E=u.child.memoizedState,A.memoizedState=E===null?nh(v):{baseLanes:E.baseLanes|v,cachePool:null},A.childLanes=u.childLanes&~v,c.memoizedState=th,M):(v=aS(u,c,M.children,v),c.memoizedState=null,v)}return A?(M=lS(u,c,M.children,M.fallback,v),A=c.child,E=u.child.memoizedState,A.memoizedState=E===null?nh(v):{baseLanes:E.baseLanes|v,cachePool:null},A.childLanes=u.childLanes&~v,c.memoizedState=th,M):(v=aS(u,c,M.children,v),c.memoizedState=null,v)}function z1(u,c){return c=Mh({mode:"visible",children:c},u.mode,0,null),c.return=u,u.child=c}function aS(u,c,v,M){var E=u.child;return u=E.sibling,v=to(E,{mode:"visible",children:v}),(c.mode&1)===0&&(v.lanes=M),v.return=c,v.sibling=null,u!==null&&(M=c.deletions,M===null?(c.deletions=[u],c.flags|=16):M.push(u)),c.child=v}function lS(u,c,v,M,E){var A=c.mode;u=u.child;var z=u.sibling,J={mode:"hidden",children:v};return(A&1)===0&&c.child!==u?(v=c.child,v.childLanes=0,v.pendingProps=J,c.deletions=null):(v=to(u,J),v.subtreeFlags=u.subtreeFlags&14680064),z!==null?M=to(z,M):(M=oa(M,A,E,null),M.flags|=2),M.return=c,v.return=c,v.sibling=M,c.child=v,M}function ih(u,c,v,M){return M!==null&&w1(M),ml(c,u.child,null,v),u=z1(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function uS(u,c,v){u.lanes|=c;var M=u.alternate;M!==null&&(M.lanes|=c),m1(u.return,c,v)}function k1(u,c,v,M,E){var A=u.memoizedState;A===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:M,tail:v,tailMode:E}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=M,A.tail=v,A.tailMode=E)}function cS(u,c,v){var M=c.pendingProps,E=M.revealOrder,A=M.tail;if(mi(u,c,M.children,v),M=sn.current,(M&2)!==0)M=M&1|2,c.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&uS(u,v,c);else if(u.tag===19)uS(u,v,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}M&=1}if(We(sn,M),(c.mode&1)===0)c.memoizedState=null;else switch(E){case"forwards":for(v=c.child,E=null;v!==null;)u=v.alternate,u!==null&&Xd(u)===null&&(E=v),v=v.sibling;v=E,v===null?(E=c.child,c.child=null):(E=v.sibling,v.sibling=null),k1(c,!1,E,v,A);break;case"backwards":for(v=null,E=c.child,c.child=null;E!==null;){if(u=E.alternate,u!==null&&Xd(u)===null){c.child=E;break}u=E.sibling,E.sibling=v,v=E,E=u}k1(c,!0,v,null,A);break;case"together":k1(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ys(u,c,v){if(u!==null&&(c.dependencies=u.dependencies),_l|=c.lanes,(v&c.childLanes)===0)return null;if(u!==null&&c.child!==u.child)throw Error(o(153));if(c.child!==null){for(u=c.child,v=to(u,u.pendingProps),c.child=v,v.return=c;u.sibling!==null;)u=u.sibling,v=v.sibling=to(u,u.pendingProps),v.return=c;v.sibling=null}return c.child}function aP(u,c,v){switch(c.tag){case 3:rS(c),pl();break;case 5:A3(c);break;case 1:zn(c.type)&&qn(c);break;case 4:E1(c,c.stateNode.containerInfo);break;case 10:f3(c,c.type._context,c.memoizedProps.value);break;case 13:var M=c.memoizedState;if(M!==null)return M.dehydrated!==null?(We(sn,sn.current&1),c.flags|=128,null):(v&c.child.childLanes)!==0?oS(u,c,v):(We(sn,sn.current&1),u=ys(u,c,v),u!==null?u.sibling:null);We(sn,sn.current&1);break;case 19:if(M=(v&c.childLanes)!==0,(u.flags&128)!==0){if(M)return cS(u,c,v);c.flags|=128}var E=c.memoizedState;if(E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),We(sn,sn.current),M)break;return null;case 22:case 23:return c.lanes=0,tS(u,c,v)}return ys(u,c,v)}function lP(u,c){switch(_1(c),c.tag){case 1:return zn(c.type)&&vn(),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return vl(),ft(cn),ft(Ct),C1(),u=c.flags,(u&65536)!==0&&(u&128)===0?(c.flags=u&-65537|128,c):null;case 5:return T1(c),null;case 13:if(ft(sn),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(o(340));pl()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return ft(sn),null;case 4:return vl(),null;case 10:return p1(c.type._context),null;case 22:case 23:return ig(),null;case 24:return null;default:return null}}var rh=!1,ta=!1,uP=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function sh(u,c){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(M){Ri(u,c,M)}else v.current=null}function B1(u,c,v){try{v()}catch(M){Ri(u,c,M)}}var fS=!1;function cP(u,c){for(k(u.containerInfo),Ue=c;Ue!==null;)if(u=Ue,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Ue=c;else for(;Ue!==null;){u=Ue;try{var v=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var M=v.memoizedProps,E=v.memoizedState,A=u.stateNode,z=A.getSnapshotBeforeUpdate(u.elementType===u.type?M:_r(u.type,M),E);A.__reactInternalSnapshotBeforeUpdate=z}break;case 3:Qe&&Re(u.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(J){Ri(u,u.return,J)}if(c=u.sibling,c!==null){c.return=u.return,Ue=c;break}Ue=u.return}return v=fS,fS=!1,v}function na(u,c,v){var M=c.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var E=M=M.next;do{if((E.tag&u)===u){var A=E.destroy;E.destroy=void 0,A!==void 0&&B1(c,v,A)}E=E.next}while(E!==M)}}function uc(u,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var v=c=c.next;do{if((v.tag&u)===u){var M=v.create;v.destroy=M()}v=v.next}while(v!==c)}}function V1(u){var c=u.ref;if(c!==null){var v=u.stateNode;switch(u.tag){case 5:u=te(v);break;default:u=v}typeof c=="function"?c(u):c.current=u}}function dS(u,c,v){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(Nd,c)}catch{}switch(c.tag){case 0:case 11:case 14:case 15:if(u=c.updateQueue,u!==null&&(u=u.lastEffect,u!==null)){var M=u=u.next;do{var E=M,A=E.destroy;E=E.tag,A!==void 0&&((E&2)!==0||(E&4)!==0)&&B1(c,v,A),M=M.next}while(M!==u)}break;case 1:if(sh(c,v),u=c.stateNode,typeof u.componentWillUnmount=="function")try{u.props=c.memoizedProps,u.state=c.memoizedState,u.componentWillUnmount()}catch(z){Ri(c,v,z)}break;case 5:sh(c,v);break;case 4:Qe?yS(u,c,v):G&&G&&(c=c.stateNode.containerInfo,v=ot(c),Dt(c,v))}}function hS(u,c,v){for(var M=c;;)if(dS(u,M,v),M.child===null||Qe&&M.tag===4){if(M===c)break;for(;M.sibling===null;){if(M.return===null||M.return===c)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function pS(u){var c=u.alternate;c!==null&&(u.alternate=null,pS(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&Ke(c)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function mS(u){return u.tag===5||u.tag===3||u.tag===4}function gS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||mS(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function vS(u){if(Qe){e:{for(var c=u.return;c!==null;){if(mS(c))break e;c=c.return}throw Error(o(160))}var v=c;switch(v.tag){case 5:c=v.stateNode,v.flags&32&&(ye(c),v.flags&=-33),v=gS(u),G1(u,v,c);break;case 3:case 4:c=v.stateNode.containerInfo,v=gS(u),H1(u,v,c);break;default:throw Error(o(161))}}}function H1(u,c,v){var M=u.tag;if(M===5||M===6)u=u.stateNode,c?tt(v,u,c):gt(v,u);else if(M!==4&&(u=u.child,u!==null))for(H1(u,c,v),u=u.sibling;u!==null;)H1(u,c,v),u=u.sibling}function G1(u,c,v){var M=u.tag;if(M===5||M===6)u=u.stateNode,c?ht(v,u,c):it(v,u);else if(M!==4&&(u=u.child,u!==null))for(G1(u,c,v),u=u.sibling;u!==null;)G1(u,c,v),u=u.sibling}function yS(u,c,v){for(var M=c,E=!1,A,z;;){if(!E){E=M.return;e:for(;;){if(E===null)throw Error(o(160));switch(A=E.stateNode,E.tag){case 5:z=!1;break e;case 3:A=A.containerInfo,z=!0;break e;case 4:A=A.containerInfo,z=!0;break e}E=E.return}E=!0}if(M.tag===5||M.tag===6)hS(u,M,v),z?X(A,M.stateNode):He(A,M.stateNode);else if(M.tag===18)z?le(A,M.stateNode):fe(A,M.stateNode);else if(M.tag===4){if(M.child!==null){A=M.stateNode.containerInfo,z=!0,M.child.return=M,M=M.child;continue}}else if(dS(u,M,v),M.child!==null){M.child.return=M,M=M.child;continue}if(M===c)break;for(;M.sibling===null;){if(M.return===null||M.return===c)return;M=M.return,M.tag===4&&(E=!1)}M.sibling.return=M.return,M=M.sibling}}function W1(u,c){if(Qe){switch(c.tag){case 0:case 11:case 14:case 15:na(3,c,c.return),uc(3,c),na(5,c,c.return);return;case 1:return;case 5:var v=c.stateNode;if(v!=null){var M=c.memoizedProps;u=u!==null?u.memoizedProps:M;var E=c.type,A=c.updateQueue;c.updateQueue=null,A!==null&&St(v,A,E,u,M,c)}return;case 6:if(c.stateNode===null)throw Error(o(162));v=c.memoizedProps,Me(c.stateNode,u!==null?u.memoizedProps:v,v);return;case 3:Ee&&u!==null&&u.memoizedState.isDehydrated&&ie(c.stateNode.containerInfo);return;case 12:return;case 13:oh(c);return;case 19:oh(c);return;case 17:return}throw Error(o(163))}switch(c.tag){case 0:case 11:case 14:case 15:na(3,c,c.return),uc(3,c),na(5,c,c.return);return;case 12:return;case 13:oh(c);return;case 19:oh(c);return;case 3:Ee&&u!==null&&u.memoizedState.isDehydrated&&ie(c.stateNode.containerInfo);break;case 22:case 23:return}e:if(G){switch(c.tag){case 1:case 5:case 6:break e;case 3:case 4:c=c.stateNode,Dt(c.containerInfo,c.pendingChildren);break e}throw Error(o(163))}}function oh(u){var c=u.updateQueue;if(c!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new uP),c.forEach(function(M){var E=_P.bind(null,u,M);v.has(M)||(v.add(M),M.then(E,E))})}}function fP(u,c){for(Ue=c;Ue!==null;){c=Ue;var v=c.deletions;if(v!==null)for(var M=0;M<v.length;M++){var E=v[M];try{var A=u;Qe?yS(A,E,c):hS(A,E,c);var z=E.alternate;z!==null&&(z.return=null),E.return=null}catch(Je){Ri(E,c,Je)}}if(v=c.child,(c.subtreeFlags&12854)!==0&&v!==null)v.return=c,Ue=v;else for(;Ue!==null;){c=Ue;try{var J=c.flags;if(J&32&&Qe&&ye(c.stateNode),J&512){var he=c.alternate;if(he!==null){var Pe=he.ref;Pe!==null&&(typeof Pe=="function"?Pe(null):Pe.current=null)}}if(J&8192)switch(c.tag){case 13:if(c.memoizedState!==null){var Xe=c.alternate;(Xe===null||Xe.memoizedState===null)&&(J1=kn())}break;case 22:var xt=c.memoizedState!==null,at=c.alternate,jt=at!==null&&at.memoizedState!==null;if(v=c,Qe){e:if(M=v,E=xt,A=null,Qe)for(var et=M;;){if(et.tag===5){if(A===null){A=et;var ni=et.stateNode;E?ke(ni):we(et.stateNode,et.memoizedProps)}}else if(et.tag===6){if(A===null){var fr=et.stateNode;E?Oe(fr):j(fr,et.memoizedProps)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===M)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===M)break;for(;et.sibling===null;){if(et.return===null||et.return===M)break e;A===et&&(A=null),et=et.return}A===et&&(A=null),et.sibling.return=et.return,et=et.sibling}}if(xt&&!jt&&(v.mode&1)!==0){Ue=v;for(var se=v.child;se!==null;){for(v=Ue=se;Ue!==null;){M=Ue;var Q=M.child;switch(M.tag){case 0:case 11:case 14:case 15:na(4,M,M.return);break;case 1:sh(M,M.return);var de=M.stateNode;if(typeof de.componentWillUnmount=="function"){var Fe=M.return;try{de.props=M.memoizedProps,de.state=M.memoizedState,de.componentWillUnmount()}catch(Je){Ri(M,Fe,Je)}}break;case 5:sh(M,M.return);break;case 22:if(M.memoizedState!==null){SS(v);continue}}Q!==null?(Q.return=M,Ue=Q):SS(v)}se=se.sibling}}}switch(J&4102){case 2:vS(c),c.flags&=-3;break;case 6:vS(c),c.flags&=-3,W1(c.alternate,c);break;case 4096:c.flags&=-4097;break;case 4100:c.flags&=-4097,W1(c.alternate,c);break;case 4:W1(c.alternate,c)}}catch(Je){Ri(c,c.return,Je)}if(v=c.sibling,v!==null){v.return=c.return,Ue=v;break}Ue=c.return}}}function dP(u,c,v){Ue=u,xS(u)}function xS(u,c,v){for(var M=(u.mode&1)!==0;Ue!==null;){var E=Ue,A=E.child;if(E.tag===22&&M){var z=E.memoizedState!==null||rh;if(!z){var J=E.alternate,he=J!==null&&J.memoizedState!==null||ta;J=rh;var Pe=ta;if(rh=z,(ta=he)&&!Pe)for(Ue=E;Ue!==null;)z=Ue,he=z.child,z.tag===22&&z.memoizedState!==null?MS(E):he!==null?(he.return=z,Ue=he):MS(E);for(;A!==null;)Ue=A,xS(A),A=A.sibling;Ue=E,rh=J,ta=Pe}_S(u)}else(E.subtreeFlags&8772)!==0&&A!==null?(A.return=E,Ue=A):_S(u)}}function _S(u){for(;Ue!==null;){var c=Ue;if((c.flags&8772)!==0){var v=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:ta||uc(5,c);break;case 1:var M=c.stateNode;if(c.flags&4&&!ta)if(v===null)M.componentDidMount();else{var E=c.elementType===c.type?v.memoizedProps:_r(c.type,v.memoizedProps);M.componentDidUpdate(E,v.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var A=c.updateQueue;A!==null&&p3(c,A,M);break;case 3:var z=c.updateQueue;if(z!==null){if(v=null,c.child!==null)switch(c.child.tag){case 5:v=te(c.child.stateNode);break;case 1:v=c.child.stateNode}p3(c,z,v)}break;case 5:var J=c.stateNode;v===null&&c.flags&4&&Lt(J,c.type,c.memoizedProps,c);break;case 6:break;case 4:break;case 12:break;case 13:if(Ee&&c.memoizedState===null){var he=c.alternate;if(he!==null){var Pe=he.memoizedState;if(Pe!==null){var Xe=Pe.dehydrated;Xe!==null&&ue(Xe)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ta||c.flags&512&&V1(c)}catch(xt){Ri(c,c.return,xt)}}if(c===u){Ue=null;break}if(v=c.sibling,v!==null){v.return=c.return,Ue=v;break}Ue=c.return}}function SS(u){for(;Ue!==null;){var c=Ue;if(c===u){Ue=null;break}var v=c.sibling;if(v!==null){v.return=c.return,Ue=v;break}Ue=c.return}}function MS(u){for(;Ue!==null;){var c=Ue;try{switch(c.tag){case 0:case 11:case 15:var v=c.return;try{uc(4,c)}catch(he){Ri(c,v,he)}break;case 1:var M=c.stateNode;if(typeof M.componentDidMount=="function"){var E=c.return;try{M.componentDidMount()}catch(he){Ri(c,E,he)}}var A=c.return;try{V1(c)}catch(he){Ri(c,A,he)}break;case 5:var z=c.return;try{V1(c)}catch(he){Ri(c,z,he)}}}catch(he){Ri(c,c.return,he)}if(c===u){Ue=null;break}var J=c.sibling;if(J!==null){J.return=c.return,Ue=J;break}Ue=c.return}}var ah=0,lh=1,uh=2,ch=3,fh=4;if(typeof Symbol=="function"&&Symbol.for){var cc=Symbol.for;ah=cc("selector.component"),lh=cc("selector.has_pseudo_class"),uh=cc("selector.role"),ch=cc("selector.test_id"),fh=cc("selector.text")}function X1(u){var c=me(u);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(o(364));return c}if(u=re(u),u===null)throw Error(o(362));return u.stateNode.current}function j1(u,c){switch(c.$$typeof){case ah:if(u.type===c.value)return!0;break;case lh:e:{c=c.value,u=[u,0];for(var v=0;v<u.length;){var M=u[v++],E=u[v++],A=c[E];if(M.tag!==5||!ve(M)){for(;A!=null&&j1(M,A);)E++,A=c[E];if(E===c.length){c=!0;break e}else for(M=M.child;M!==null;)u.push(M,E),M=M.sibling}}c=!1}return c;case uh:if(u.tag===5&&Ye(u.stateNode,c.value))return!0;break;case fh:if((u.tag===5||u.tag===6)&&(u=xe(u),u!==null&&0<=u.indexOf(c.value)))return!0;break;case ch:if(u.tag===5&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===c.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Y1(u){switch(u.$$typeof){case ah:return"<"+(L(u.value)||"Unknown")+">";case lh:return":has("+(Y1(u)||"")+")";case uh:return'[role="'+u.value+'"]';case fh:return'"'+u.value+'"';case ch:return'[data-testname="'+u.value+'"]';default:throw Error(o(365))}}function wS(u,c){var v=[];u=[u,0];for(var M=0;M<u.length;){var E=u[M++],A=u[M++],z=c[A];if(E.tag!==5||!ve(E)){for(;z!=null&&j1(E,z);)A++,z=c[A];if(A===c.length)v.push(E);else for(E=E.child;E!==null;)u.push(E,A),E=E.sibling}}return v}function q1(u,c){if(!I)throw Error(o(363));u=X1(u),u=wS(u,c),c=[],u=Array.from(u);for(var v=0;v<u.length;){var M=u[v++];if(M.tag===5)ve(M)||c.push(M.stateNode);else for(M=M.child;M!==null;)u.push(M),M=M.sibling}return c}var hP=Math.ceil,dh=a.ReactCurrentDispatcher,Z1=a.ReactCurrentOwner,yn=a.ReactCurrentBatchConfig,bt=0,Tn=null,An=null,Zn=0,Wi=0,xl=Fn(0),Rn=0,fc=null,_l=0,hh=0,K1=0,dc=null,bi=null,J1=0,Q1=1/0;function Sl(){Q1=kn()+500}var ph=!1,$1=null,Js=null,mh=!1,Qs=null,gh=0,hc=0,eg=null,vh=-1,yh=0;function gi(){return(bt&6)!==0?kn():vh!==-1?vh:vh=kn()}function $s(u){return(u.mode&1)===0?1:(bt&2)!==0&&Zn!==0?Zn&-Zn:Zb.transition!==null?(yh===0&&(u=Ld,Ld<<=1,(Ld&4194240)===0&&(Ld=64),yh=u),yh):(u=zt,u!==0?u:ge())}function ur(u,c,v){if(50<hc)throw hc=0,eg=null,Error(o(185));var M=xh(u,c);return M===null?null:(Ku(M,c,v),((bt&2)===0||M!==Tn)&&(M===Tn&&((bt&2)===0&&(hh|=c),Rn===4&&eo(M,Zn)),Pi(M,v),c===1&&bt===0&&(u.mode&1)===0&&(Sl(),Ud&&qr())),M)}function xh(u,c){u.lanes|=c;var v=u.alternate;for(v!==null&&(v.lanes|=c),v=u,u=u.return;u!==null;)u.childLanes|=c,v=u.alternate,v!==null&&(v.childLanes|=c),v=u,u=u.return;return v.tag===3?v.stateNode:null}function Pi(u,c){var v=u.callbackNode;Bb(u,c);var M=Dd(u,u===Tn?Zn:0);if(M===0)v!==null&&u3(v),u.callbackNode=null,u.callbackPriority=0;else if(c=M&-M,u.callbackPriority!==c){if(v!=null&&u3(v),c===1)u.tag===0?qb(TS.bind(null,u)):c3(TS.bind(null,u)),Ne?U(function(){bt===0&&qr()}):l1(u1,qr),v=null;else{switch(l3(M)){case 1:v=u1;break;case 4:v=Wb;break;case 16:v=c1;break;case 536870912:v=Xb;break;default:v=c1}v=NS(v,ES.bind(null,u))}u.callbackPriority=c,u.callbackNode=v}}function ES(u,c){if(vh=-1,yh=0,(bt&6)!==0)throw Error(o(327));var v=u.callbackNode;if(sa()&&u.callbackNode!==v)return null;var M=Dd(u,u===Tn?Zn:0);if(M===0)return null;if((M&30)!==0||(M&u.expiredLanes)!==0||c)c=_h(u,M);else{c=M;var E=bt;bt|=2;var A=bS();(Tn!==u||Zn!==c)&&(Sl(),ia(u,c));do try{gP();break}catch(J){CS(u,J)}while(1);h1(),dh.current=A,bt=E,An!==null?c=0:(Tn=null,Zn=0,c=Rn)}if(c!==0){if(c===2&&(E=s1(u),E!==0&&(M=E,c=tg(u,E))),c===1)throw v=fc,ia(u,0),eo(u,M),Pi(u,kn()),v;if(c===6)eo(u,M);else{if(E=u.current.alternate,(M&30)===0&&!pP(E)&&(c=_h(u,M),c===2&&(A=s1(u),A!==0&&(M=A,c=tg(u,A))),c===1))throw v=fc,ia(u,0),eo(u,M),Pi(u,kn()),v;switch(u.finishedWork=E,u.finishedLanes=M,c){case 0:case 1:throw Error(o(345));case 2:ra(u,bi);break;case 3:if(eo(u,M),(M&130023424)===M&&(c=J1+500-kn(),10<c)){if(Dd(u,0)!==0)break;if(E=u.suspendedLanes,(E&M)!==M){gi(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=Ce(ra.bind(null,u,bi),c);break}ra(u,bi);break;case 4:if(eo(u,M),(M&4194240)===M)break;for(c=u.eventTimes,E=-1;0<M;){var z=31-Bi(M);A=1<<z,z=c[z],z>E&&(E=z),M&=~A}if(M=E,M=kn()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*hP(M/1960))-M,10<M){u.timeoutHandle=Ce(ra.bind(null,u,bi),M);break}ra(u,bi);break;case 5:ra(u,bi);break;default:throw Error(o(329))}}}return Pi(u,kn()),u.callbackNode===v?ES.bind(null,u):null}function tg(u,c){var v=dc;return u.current.memoizedState.isDehydrated&&(ia(u,c).flags|=256),u=_h(u,c),u!==2&&(c=bi,bi=v,c!==null&&ng(c)),u}function ng(u){bi===null?bi=u:bi.push.apply(bi,u)}function pP(u){for(var c=u;;){if(c.flags&16384){var v=c.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var M=0;M<v.length;M++){var E=v[M],A=E.getSnapshot;E=E.value;try{if(!Yr(A(),E))return!1}catch{return!1}}}if(v=c.child,c.subtreeFlags&16384&&v!==null)v.return=c,c=v;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function eo(u,c){for(c&=~K1,c&=~hh,u.suspendedLanes|=c,u.pingedLanes&=~c,u=u.expirationTimes;0<c;){var v=31-Bi(c),M=1<<v;u[v]=-1,c&=~M}}function TS(u){if((bt&6)!==0)throw Error(o(327));sa();var c=Dd(u,0);if((c&1)===0)return Pi(u,kn()),null;var v=_h(u,c);if(u.tag!==0&&v===2){var M=s1(u);M!==0&&(c=M,v=tg(u,M))}if(v===1)throw v=fc,ia(u,0),eo(u,c),Pi(u,kn()),v;if(v===6)throw Error(o(345));return u.finishedWork=u.current.alternate,u.finishedLanes=c,ra(u,bi),Pi(u,kn()),null}function AS(u){Qs!==null&&Qs.tag===0&&(bt&6)===0&&sa();var c=bt;bt|=1;var v=yn.transition,M=zt;try{if(yn.transition=null,zt=1,u)return u()}finally{zt=M,yn.transition=v,bt=c,(bt&6)===0&&qr()}}function ig(){Wi=xl.current,ft(xl)}function ia(u,c){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==st&&(u.timeoutHandle=st,nt(v)),An!==null)for(v=An.return;v!==null;){var M=v;switch(_1(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&vn();break;case 3:vl(),ft(cn),ft(Ct),C1();break;case 5:T1(M);break;case 4:vl();break;case 13:ft(sn);break;case 19:ft(sn);break;case 10:p1(M.type._context);break;case 22:case 23:ig()}v=v.return}if(Tn=u,An=u=to(u.current,null),Zn=Wi=c,Rn=0,fc=null,K1=hh=_l=0,bi=dc=null,Zr!==null){for(c=0;c<Zr.length;c++)if(v=Zr[c],M=v.interleaved,M!==null){v.interleaved=null;var E=M.next,A=v.pending;if(A!==null){var z=A.next;A.next=E,M.next=z}v.pending=M}Zr=null}return u}function CS(u,c){do{var v=An;try{if(h1(),jd.current=Qd,Yd){for(var M=fn.memoizedState;M!==null;){var E=M.queue;E!==null&&(E.pending=null),M=M.next}Yd=!1}if(yl=0,Bn=$n=fn=null,nc=!1,ic=0,Z1.current=null,v===null||v.return===null){Rn=1,fc=c,An=null;break}e:{var A=u,z=v.return,J=v,he=c;if(c=Zn,J.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Pe=he,Xe=J,xt=Xe.tag;if((Xe.mode&1)===0&&(xt===0||xt===11||xt===15)){var at=Xe.alternate;at?(Xe.updateQueue=at.updateQueue,Xe.memoizedState=at.memoizedState,Xe.lanes=at.lanes):(Xe.updateQueue=null,Xe.memoizedState=null)}var jt=q3(z);if(jt!==null){jt.flags&=-257,Z3(jt,z,J,A,c),jt.mode&1&&Y3(A,Pe,c),c=jt,he=Pe;var et=c.updateQueue;if(et===null){var ni=new Set;ni.add(he),c.updateQueue=ni}else et.add(he);break e}else{if((c&1)===0){Y3(A,Pe,c),rg();break e}he=Error(o(426))}}else if(tn&&J.mode&1){var fr=q3(z);if(fr!==null){(fr.flags&65536)===0&&(fr.flags|=256),Z3(fr,z,J,A,c),w1(he);break e}}A=he,Rn!==4&&(Rn=2),dc===null?dc=[A]:dc.push(A),he=N1(he,J),J=z;do{switch(J.tag){case 3:J.flags|=65536,c&=-c,J.lanes|=c;var se=X3(J,he,c);h3(J,se);break e;case 1:A=he;var Q=J.type,de=J.stateNode;if((J.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(Js===null||!Js.has(de)))){J.flags|=65536,c&=-c,J.lanes|=c;var Fe=j3(J,A,c);h3(J,Fe);break e}}J=J.return}while(J!==null)}RS(v)}catch(Je){c=Je,An===v&&v!==null&&(An=v=v.return);continue}break}while(1)}function bS(){var u=dh.current;return dh.current=Qd,u===null?Qd:u}function rg(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Tn===null||(_l&268435455)===0&&(hh&268435455)===0||eo(Tn,Zn)}function _h(u,c){var v=bt;bt|=2;var M=bS();Tn===u&&Zn===c||ia(u,c);do try{mP();break}catch(E){CS(u,E)}while(1);if(h1(),bt=v,dh.current=M,An!==null)throw Error(o(261));return Tn=null,Zn=0,Rn}function mP(){for(;An!==null;)PS(An)}function gP(){for(;An!==null&&!Hb();)PS(An)}function PS(u){var c=DS(u.alternate,u,Wi);u.memoizedProps=u.pendingProps,c===null?RS(u):An=c,Z1.current=null}function RS(u){var c=u;do{var v=c.alternate;if(u=c.return,(c.flags&32768)===0){if(v=sP(v,c,Wi),v!==null){An=v;return}}else{if(v=lP(v,c),v!==null){v.flags&=32767,An=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Rn=6,An=null;return}}if(c=c.sibling,c!==null){An=c;return}An=c=u}while(c!==null);Rn===0&&(Rn=5)}function ra(u,c){var v=zt,M=yn.transition;try{yn.transition=null,zt=1,vP(u,c,v)}finally{yn.transition=M,zt=v}return null}function vP(u,c,v){do sa();while(Qs!==null);if((bt&6)!==0)throw Error(o(327));var M=u.finishedWork,E=u.finishedLanes;if(M===null)return null;if(u.finishedWork=null,u.finishedLanes=0,M===u.current)throw Error(o(177));u.callbackNode=null,u.callbackPriority=0;var A=M.lanes|M.childLanes;if(Vb(u,A),u===Tn&&(An=Tn=null,Zn=0),(M.subtreeFlags&2064)===0&&(M.flags&2064)===0||mh||(mh=!0,NS(c1,function(){return sa(),null})),A=(M.flags&15990)!==0,(M.subtreeFlags&15990)!==0||A){A=yn.transition,yn.transition=null;var z=zt;zt=1;var J=bt;bt|=4,Z1.current=null,cP(u,M),fP(u,M),B(u.containerInfo),u.current=M,dP(M),Gb(),bt=J,zt=z,yn.transition=A}else u.current=M;if(mh&&(mh=!1,Qs=u,gh=E),A=u.pendingLanes,A===0&&(Js=null),jb(M.stateNode),Pi(u,kn()),c!==null)for(v=u.onRecoverableError,M=0;M<c.length;M++)v(c[M]);if(ph)throw ph=!1,u=$1,$1=null,u;return(gh&1)!==0&&u.tag!==0&&sa(),A=u.pendingLanes,(A&1)!==0?u===eg?hc++:(hc=0,eg=u):hc=0,qr(),null}function sa(){if(Qs!==null){var u=l3(gh),c=yn.transition,v=zt;try{if(yn.transition=null,zt=16>u?16:u,Qs===null)var M=!1;else{if(u=Qs,Qs=null,gh=0,(bt&6)!==0)throw Error(o(331));var E=bt;for(bt|=4,Ue=u.current;Ue!==null;){var A=Ue,z=A.child;if((Ue.flags&16)!==0){var J=A.deletions;if(J!==null){for(var he=0;he<J.length;he++){var Pe=J[he];for(Ue=Pe;Ue!==null;){var Xe=Ue;switch(Xe.tag){case 0:case 11:case 15:na(8,Xe,A)}var xt=Xe.child;if(xt!==null)xt.return=Xe,Ue=xt;else for(;Ue!==null;){Xe=Ue;var at=Xe.sibling,jt=Xe.return;if(pS(Xe),Xe===Pe){Ue=null;break}if(at!==null){at.return=jt,Ue=at;break}Ue=jt}}}var et=A.alternate;if(et!==null){var ni=et.child;if(ni!==null){et.child=null;do{var fr=ni.sibling;ni.sibling=null,ni=fr}while(ni!==null)}}Ue=A}}if((A.subtreeFlags&2064)!==0&&z!==null)z.return=A,Ue=z;else e:for(;Ue!==null;){if(A=Ue,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:na(9,A,A.return)}var se=A.sibling;if(se!==null){se.return=A.return,Ue=se;break e}Ue=A.return}}var Q=u.current;for(Ue=Q;Ue!==null;){z=Ue;var de=z.child;if((z.subtreeFlags&2064)!==0&&de!==null)de.return=z,Ue=de;else e:for(z=Q;Ue!==null;){if(J=Ue,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:uc(9,J)}}catch(Je){Ri(J,J.return,Je)}if(J===z){Ue=null;break e}var Fe=J.sibling;if(Fe!==null){Fe.return=J.return,Ue=Fe;break e}Ue=J.return}}if(bt=E,qr(),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(Nd,u)}catch{}M=!0}return M}finally{zt=v,yn.transition=c}}return!1}function LS(u,c,v){c=N1(v,c),c=X3(u,c,1),Ks(u,c),c=gi(),u=xh(u,1),u!==null&&(Ku(u,1,c),Pi(u,c))}function Ri(u,c,v){if(u.tag===3)LS(u,u,v);else for(;c!==null;){if(c.tag===3){LS(c,u,v);break}else if(c.tag===1){var M=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Js===null||!Js.has(M))){u=N1(v,u),u=j3(c,u,1),Ks(c,u),u=gi(),c=xh(c,1),c!==null&&(Ku(c,1,u),Pi(c,u));break}}c=c.return}}function yP(u,c,v){var M=u.pingCache;M!==null&&M.delete(c),c=gi(),u.pingedLanes|=u.suspendedLanes&v,Tn===u&&(Zn&v)===v&&(Rn===4||Rn===3&&(Zn&130023424)===Zn&&500>kn()-J1?ia(u,0):K1|=v),Pi(u,c)}function IS(u,c){c===0&&((u.mode&1)===0?c=1:(c=Id,Id<<=1,(Id&130023424)===0&&(Id=4194304)));var v=gi();u=xh(u,c),u!==null&&(Ku(u,c,v),Pi(u,v))}function xP(u){var c=u.memoizedState,v=0;c!==null&&(v=c.retryLane),IS(u,v)}function _P(u,c){var v=0;switch(u.tag){case 13:var M=u.stateNode,E=u.memoizedState;E!==null&&(v=E.retryLane);break;case 19:M=u.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(c),IS(u,v)}var DS;DS=function(u,c,v){if(u!==null)if(u.memoizedProps!==c.pendingProps||cn.current)Gi=!0;else{if((u.lanes&v)===0&&(c.flags&128)===0)return Gi=!1,aP(u,c,v);Gi=(u.flags&131072)!==0}else Gi=!1,tn&&(c.flags&1048576)!==0&&x3(c,Gd,c.index);switch(c.lanes=0,c.tag){case 2:var M=c.type;u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),u=c.pendingProps;var E=ir(c,Ct.current);fl(c,v),E=P1(null,c,M,u,E,v);var A=R1();return c.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,zn(M)?(A=!0,qn(c)):A=!1,c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,g1(c),E.updater=Vd,c.stateNode=E,E._reactInternals=c,y1(c,M,u,v),c=F1(null,c,M,!0,A,v)):(c.tag=0,tn&&A&&x1(c),mi(null,c,E,v),c=c.child),c;case 16:M=c.elementType;e:{switch(u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),u=c.pendingProps,E=M._init,M=E(M._payload),c.type=M,E=c.tag=MP(M),u=_r(M,u),E){case 0:c=O1(null,c,M,u,v);break e;case 1:c=iS(null,c,M,u,v);break e;case 11:c=Q3(null,c,M,u,v);break e;case 14:c=$3(null,c,M,_r(M.type,u),v);break e}throw Error(o(306,M,""))}return c;case 0:return M=c.type,E=c.pendingProps,E=c.elementType===M?E:_r(M,E),O1(u,c,M,E,v);case 1:return M=c.type,E=c.pendingProps,E=c.elementType===M?E:_r(M,E),iS(u,c,M,E,v);case 3:e:{if(rS(c),u===null)throw Error(o(387));M=c.pendingProps,A=c.memoizedState,E=A.element,d3(u,c),Bd(c,M,null,v);var z=c.memoizedState;if(M=z.element,Ee&&A.isDehydrated)if(A={element:M,isDehydrated:!1,cache:z.cache,transitions:z.transitions},c.updateQueue.baseState=A,c.memoizedState=A,c.flags&256){E=Error(o(423)),c=sS(u,c,M,v,E);break e}else if(M!==E){E=Error(o(424)),c=sS(u,c,M,v,E);break e}else for(Ee&&(Hi=bd(c.stateNode.containerInfo),Vi=c,tn=!0,Sr=null,Ju=!1),v=T3(c,null,M,v),c.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(pl(),M===E){c=ys(u,c,v);break e}mi(u,c,M,v)}c=c.child}return c;case 5:return A3(c),u===null&&M1(c),M=c.type,E=c.pendingProps,A=u!==null?u.memoizedProps:null,z=E.children,ae(M,E)?z=null:A!==null&&ae(M,A)&&(c.flags|=32),nS(u,c),mi(u,c,z,v),c.child;case 6:return u===null&&M1(c),null;case 13:return oS(u,c,v);case 4:return E1(c,c.stateNode.containerInfo),M=c.pendingProps,u===null?c.child=ml(c,null,M,v):mi(u,c,M,v),c.child;case 11:return M=c.type,E=c.pendingProps,E=c.elementType===M?E:_r(M,E),Q3(u,c,M,E,v);case 7:return mi(u,c,c.pendingProps,v),c.child;case 8:return mi(u,c,c.pendingProps.children,v),c.child;case 12:return mi(u,c,c.pendingProps.children,v),c.child;case 10:e:{if(M=c.type._context,E=c.pendingProps,A=c.memoizedProps,z=E.value,f3(c,M,z),A!==null)if(Yr(A.value,z)){if(A.children===E.children&&!cn.current){c=ys(u,c,v);break e}}else for(A=c.child,A!==null&&(A.return=c);A!==null;){var J=A.dependencies;if(J!==null){z=A.child;for(var he=J.firstContext;he!==null;){if(he.context===M){if(A.tag===1){he=ps(-1,v&-v),he.tag=2;var Pe=A.updateQueue;if(Pe!==null){Pe=Pe.shared;var Xe=Pe.pending;Xe===null?he.next=he:(he.next=Xe.next,Xe.next=he),Pe.pending=he}}A.lanes|=v,he=A.alternate,he!==null&&(he.lanes|=v),m1(A.return,v,c),J.lanes|=v;break}he=he.next}}else if(A.tag===10)z=A.type===c.type?null:A.child;else if(A.tag===18){if(z=A.return,z===null)throw Error(o(341));z.lanes|=v,J=z.alternate,J!==null&&(J.lanes|=v),m1(z,v,c),z=A.sibling}else z=A.child;if(z!==null)z.return=A;else for(z=A;z!==null;){if(z===c){z=null;break}if(A=z.sibling,A!==null){A.return=z.return,z=A;break}z=z.return}A=z}mi(u,c,E.children,v),c=c.child}return c;case 9:return E=c.type,M=c.pendingProps.children,fl(c,v),E=rr(E),M=M(E),c.flags|=1,mi(u,c,M,v),c.child;case 14:return M=c.type,E=_r(M,c.pendingProps),E=_r(M.type,E),$3(u,c,M,E,v);case 15:return eS(u,c,c.type,c.pendingProps,v);case 17:return M=c.type,E=c.pendingProps,E=c.elementType===M?E:_r(M,E),u!==null&&(u.alternate=null,c.alternate=null,c.flags|=2),c.tag=1,zn(M)?(u=!0,qn(c)):u=!1,fl(c,v),v3(c,M,E),y1(c,M,E,v),F1(null,c,M,!0,u,v);case 19:return cS(u,c,v);case 22:return tS(u,c,v)}throw Error(o(156,c.tag))};function NS(u,c){return l1(u,c)}function SP(u,c,v,M){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cr(u,c,v,M){return new SP(u,c,v,M)}function sg(u){return u=u.prototype,!(!u||!u.isReactComponent)}function MP(u){if(typeof u=="function")return sg(u)?1:0;if(u!=null){if(u=u.$$typeof,u===_)return 11;if(u===S)return 14}return 2}function to(u,c){var v=u.alternate;return v===null?(v=cr(u.tag,c,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=c,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,c=u.dependencies,v.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Sh(u,c,v,M,E,A){var z=2;if(M=u,typeof u=="function")sg(u)&&(z=1);else if(typeof u=="string")z=5;else e:switch(u){case d:return oa(v.children,E,A,c);case h:z=8,E|=8;break;case p:return u=cr(12,v,c,E|2),u.elementType=p,u.lanes=A,u;case x:return u=cr(13,v,c,E),u.elementType=x,u.lanes=A,u;case g:return u=cr(19,v,c,E),u.elementType=g,u.lanes=A,u;case T:return Mh(v,E,A,c);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case m:z=10;break e;case y:z=9;break e;case _:z=11;break e;case S:z=14;break e;case w:z=16,M=null;break e}throw Error(o(130,u==null?u:typeof u,""))}return c=cr(z,v,c,E),c.elementType=u,c.type=M,c.lanes=A,c}function oa(u,c,v,M){return u=cr(7,u,M,c),u.lanes=v,u}function Mh(u,c,v,M){return u=cr(22,u,M,c),u.elementType=T,u.lanes=v,u.stateNode={},u}function og(u,c,v){return u=cr(6,u,null,c),u.lanes=v,u}function ag(u,c,v){return c=cr(4,u.children!==null?u.children:[],u.key,c),c.lanes=v,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}function wP(u,c,v,M,E){this.tag=c,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=st,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=o1(0),this.expirationTimes=o1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=o1(0),this.identifierPrefix=M,this.onRecoverableError=E,Ee&&(this.mutableSourceEagerHydrationData=null)}function US(u,c,v,M,E,A,z,J,he){return u=new wP(u,c,v,J,he),c===1?(c=1,A===!0&&(c|=8)):c=0,A=cr(3,null,null,c),u.current=A,A.stateNode=u,A.memoizedState={element:M,isDehydrated:v,cache:null,transitions:null},g1(A),u}function OS(u){if(!u)return nr;u=u._reactInternals;e:{if(P(u)!==u||u.tag!==1)throw Error(o(170));var c=u;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(zn(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(o(171))}if(u.tag===1){var v=u.type;if(zn(v))return ll(u,v,c)}return c}function FS(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(o(188)):(u=Object.keys(u).join(","),Error(o(268,u)));return u=K(c),u===null?null:u.stateNode}function zS(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<c?v:c}}function lg(u,c){zS(u,c),(u=u.alternate)&&zS(u,c)}function EP(u){return u=K(u),u===null?null:u.stateNode}function TP(){return null}return t.attemptContinuousHydration=function(u){if(u.tag===13){var c=gi();ur(u,134217728,c),lg(u,134217728)}},t.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var c=gi(),v=$s(u);ur(u,v,c),lg(u,v)}},t.attemptSynchronousHydration=function(u){switch(u.tag){case 3:var c=u.stateNode;if(c.current.memoizedState.isDehydrated){var v=Zu(c.pendingLanes);v!==0&&(a1(c,v|1),Pi(c,kn()),(bt&6)===0&&(Sl(),qr()))}break;case 13:var M=gi();AS(function(){return ur(u,1,M)}),lg(u,1)}},t.batchedUpdates=function(u,c){var v=bt;bt|=1;try{return u(c)}finally{bt=v,bt===0&&(Sl(),Ud&&qr())}},t.createComponentSelector=function(u){return{$$typeof:ah,value:u}},t.createContainer=function(u,c,v,M,E,A,z){return US(u,c,!1,null,v,M,E,A,z)},t.createHasPseudoClassSelector=function(u){return{$$typeof:lh,value:u}},t.createHydrationContainer=function(u,c,v,M,E,A,z,J,he){return u=US(v,M,!0,u,E,A,z,J,he),u.context=OS(null),v=u.current,M=gi(),E=$s(v),A=ps(M,E),A.callback=c!=null?c:null,Ks(v,A),u.current.lanes=E,Ku(u,E,M),Pi(u,M),u},t.createPortal=function(u,c,v){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:M==null?null:""+M,children:u,containerInfo:c,implementation:v}},t.createRoleSelector=function(u){return{$$typeof:uh,value:u}},t.createTestNameSelector=function(u){return{$$typeof:ch,value:u}},t.createTextSelector=function(u){return{$$typeof:fh,value:u}},t.deferredUpdates=function(u){var c=zt,v=yn.transition;try{return yn.transition=null,zt=16,u()}finally{zt=c,yn.transition=v}},t.discreteUpdates=function(u,c,v,M,E){var A=zt,z=yn.transition;try{return yn.transition=null,zt=1,u(c,v,M,E)}finally{zt=A,yn.transition=z,bt===0&&Sl()}},t.findAllNodes=q1,t.findBoundingRects=function(u,c){if(!I)throw Error(o(363));c=q1(u,c),u=[];for(var v=0;v<c.length;v++)u.push(Se(c[v]));for(c=u.length-1;0<c;c--){v=u[c];for(var M=v.x,E=M+v.width,A=v.y,z=A+v.height,J=c-1;0<=J;J--)if(c!==J){var he=u[J],Pe=he.x,Xe=Pe+he.width,xt=he.y,at=xt+he.height;if(M>=Pe&&A>=xt&&E<=Xe&&z<=at){u.splice(c,1);break}else if(M!==Pe||v.width!==he.width||at<A||xt>z){if(!(A!==xt||v.height!==he.height||Xe<M||Pe>E)){Pe>M&&(he.width+=Pe-M,he.x=M),Xe<E&&(he.width=E-Pe),u.splice(c,1);break}}else{xt>A&&(he.height+=xt-A,he.y=A),at<z&&(he.height=z-xt),u.splice(c,1);break}}}return u},t.findHostInstance=FS,t.findHostInstanceWithNoPortals=function(u){return u=V(u),u=u!==null?H(u):null,u===null?null:u.stateNode},t.findHostInstanceWithWarning=function(u){return FS(u)},t.flushControlled=function(u){var c=bt;bt|=1;var v=yn.transition,M=zt;try{yn.transition=null,zt=1,u()}finally{zt=M,yn.transition=v,bt=c,bt===0&&(Sl(),qr())}},t.flushPassiveEffects=sa,t.flushSync=AS,t.focusWithin=function(u,c){if(!I)throw Error(o(363));for(u=X1(u),c=wS(u,c),c=Array.from(c),u=0;u<c.length;){var v=c[u++];if(!ve(v)){if(v.tag===5&&Ie(v.stateNode))return!0;for(v=v.child;v!==null;)c.push(v),v=v.sibling}}return!1},t.getCurrentUpdatePriority=function(){return zt},t.getFindAllNodesFailureDescription=function(u,c){if(!I)throw Error(o(363));var v=0,M=[];u=[X1(u),0];for(var E=0;E<u.length;){var A=u[E++],z=u[E++],J=c[z];if((A.tag!==5||!ve(A))&&(j1(A,J)&&(M.push(Y1(J)),z++,z>v&&(v=z)),z<c.length))for(A=A.child;A!==null;)u.push(A,z),A=A.sibling}if(v<c.length){for(u=[];v<c.length;v++)u.push(Y1(c[v]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},t.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return te(u.child.stateNode);default:return u.child.stateNode}},t.injectIntoDevTools=function(u){if(u={bundleType:u.bundleType,version:u.version,rendererPackageName:u.rendererPackageName,rendererConfig:u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:EP,findFiberByHostInstance:u.findFiberByHostInstance||TP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")u=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)u=!0;else{try{Nd=c.inject(u),jr=c}catch{}u=!!c.checkDCE}}return u},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(u,c,v,M){if(!I)throw Error(o(363));u=q1(u,c);var E=Be(u,v,M).disconnect;return{disconnect:function(){E()}}},t.registerMutableSourceForHydration=function(u,c){var v=c._getVersion;v=v(c._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[c,v]:u.mutableSourceEagerHydrationData.push(c,v)},t.runWithPriority=function(u,c){var v=zt;try{return zt=u,c()}finally{zt=v}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(u,c,v,M){var E=c.current,A=gi(),z=$s(E);return v=OS(v),c.context===null?c.context=v:c.pendingContext=v,c=ps(A,z),c.payload={element:u},M=M===void 0?null:M,M!==null&&(c.callback=M),Ks(E,c),u=ur(E,z,A),u!==null&&kd(u,E,z),z},t};vb.exports=MW;var wW=vb.exports,W2={exports:{}},_b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,k){var B=N.length;N.push(k);e:for(;0<B;){var Z=B-1>>>1,ee=N[Z];if(0<r(ee,k))N[Z]=k,N[B]=ee,B=Z;else break e}}function t(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var k=N[0],B=N.pop();if(B!==k){N[0]=B;e:for(var Z=0,ee=N.length,Y=ee>>>1;Z<Y;){var q=2*(Z+1)-1,ae=N[q],_e=q+1,Ce=N[_e];if(0>r(ae,B))_e<ee&&0>r(Ce,ae)?(N[Z]=Ce,N[_e]=B,Z=_e):(N[Z]=ae,N[q]=B,Z=q);else if(_e<ee&&0>r(Ce,B))N[Z]=Ce,N[_e]=B,Z=_e;else break e}}return k}function r(N,k){var B=N.sortIndex-k.sortIndex;return B!==0?B:N.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],f=[],d=1,h=null,p=3,m=!1,y=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var k=t(f);k!==null;){if(k.callback===null)i(f);else if(k.startTime<=N)i(f),k.sortIndex=k.expirationTime,e(l,k);else break;k=t(f)}}function T(N){if(_=!1,w(N),!y)if(t(l)!==null)y=!0,te(b);else{var k=t(f);k!==null&&ce(T,k.startTime-N)}}function b(N,k){y=!1,_&&(_=!1,g(D),D=-1),m=!0;var B=p;try{for(w(k),h=t(l);h!==null&&(!(h.expirationTime>k)||N&&!V());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,p=h.priorityLevel;var ee=Z(h.expirationTime<=k);k=n.unstable_now(),typeof ee=="function"?h.callback=ee:h===t(l)&&i(l),w(k)}else i(l);h=t(l)}if(h!==null)var Y=!0;else{var q=t(f);q!==null&&ce(T,q.startTime-k),Y=!1}return Y}finally{h=null,p=B,m=!1}}var C=!1,L=null,D=-1,P=5,R=-1;function V(){return!(n.unstable_now()-R<P)}function K(){if(L!==null){var N=n.unstable_now();R=N;var k=!0;try{k=L(!0,N)}finally{k?oe():(C=!1,L=null)}}else C=!1}var oe;if(typeof S=="function")oe=function(){S(K)};else if(typeof MessageChannel!="undefined"){var H=new MessageChannel,$=H.port2;H.port1.onmessage=K,oe=function(){$.postMessage(null)}}else oe=function(){x(K,0)};function te(N){L=N,C||(C=!0,oe())}function ce(N,k){D=x(function(){N(n.unstable_now())},k)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){y||m||(y=!0,te(b))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var B=p;p=k;try{return N()}finally{p=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,k){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var B=p;p=N;try{return k()}finally{p=B}},n.unstable_scheduleCallback=function(N,k,B){var Z=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=B+ee,N={id:d++,callback:k,priorityLevel:N,startTime:B,expirationTime:ee,sortIndex:-1},B>Z?(N.sortIndex=B,e(f,N),t(l)===null&&N===t(f)&&(_?(g(D),D=-1):_=!0,ce(T,B-Z))):(N.sortIndex=ee,e(l,N),y||m||(y=!0,te(b))),N},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(N){var k=p;return function(){var B=p;p=k;try{return N.apply(this,arguments)}finally{p=B}}}})(_b);W2.exports=_b;const o3={},EW=n=>void Object.assign(o3,n);function TW(n,e){function t(d,{args:h=[],attach:p,...m},y){let _=`${d[0].toUpperCase()}${d.slice(1)}`,x;if(d==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;x=Yl(g,{type:d,root:y,attach:p,primitive:!0})}else{const g=o3[_];if(!g)throw new Error(`R3F: ${_} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(h))throw new Error("R3F: The args prop must be an array!");x=Yl(new g(...h),{type:d,root:y,attach:p,memoizedProps:{args:h}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),_!=="inject"&&Iv(x,m),x}function i(d,h){let p=!1;if(h){var m,y;(m=h.__r3f)!=null&&m.attach?Lv(d,h,h.__r3f.attach):h.isObject3D&&d.isObject3D&&(d.add(h),p=!0),p||(y=d.__r3f)==null||y.objects.push(h),h.__r3f||Yl(h,{}),h.__r3f.parent=d,j2(h),ql(h)}}function r(d,h,p){let m=!1;if(h){var y,_;if((y=h.__r3f)!=null&&y.attach)Lv(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){h.parent=d,h.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:h});const x=d.children.filter(S=>S!==h),g=x.indexOf(p);d.children=[...x.slice(0,g),h,...x.slice(g)],m=!0}m||(_=d.__r3f)==null||_.objects.push(h),h.__r3f||Yl(h,{}),h.__r3f.parent=d,j2(h),ql(h)}}function s(d,h,p=!1){d&&[...d].forEach(m=>o(h,m,p))}function o(d,h,p){if(h){var m,y,_;if(h.__r3f&&(h.__r3f.parent=null),(m=d.__r3f)!=null&&m.objects&&(d.__r3f.objects=d.__r3f.objects.filter(T=>T!==h)),(y=h.__r3f)!=null&&y.attach)jE(d,h,h.__r3f.attach);else if(h.isObject3D&&d.isObject3D){var x;d.remove(h),(x=h.__r3f)!=null&&x.root&&DW(u0(h),h)}const S=(_=h.__r3f)==null?void 0:_.primitive,w=!S&&(p===void 0?h.dispose!==null:p);if(!S){var g;s((g=h.__r3f)==null?void 0:g.objects,h,w),s(h.children,h,w)}if(delete h.__r3f,w&&h.dispose&&h.type!=="Scene"){const T=()=>{try{h.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT=="undefined"?W2.exports.unstable_scheduleCallback(W2.exports.unstable_IdlePriority,T):T()}ql(d)}}function a(d,h,p,m){var y;const _=(y=d.__r3f)==null?void 0:y.parent;if(!_)return;const x=t(h,p,d.__r3f.root);if(d.children){for(const g of d.children)g.__r3f&&i(x,g);d.children=d.children.filter(g=>!g.__r3f)}d.__r3f.objects.forEach(g=>i(x,g)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(_,d),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),i(_,x),x.raycast&&x.__r3f.eventCount&&u0(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=x,g.ref&&(typeof g.ref=="function"?g.ref(x):g.ref.current=x))})}const l=()=>{};return{reconciler:wW({createInstance:t,removeChild:o,appendChild:i,appendInitialChild:i,insertBefore:r,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,h)=>{if(!h)return;const p=d.getState().scene;!p.__r3f||(p.__r3f.root=d,i(p,h))},removeChildFromContainer:(d,h)=>{!h||o(d.getState().scene,h)},insertInContainerBefore:(d,h,p)=>{if(!h||!p)return;const m=d.getState().scene;!m.__r3f||r(m,h,p)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var h;const p=(h=d==null?void 0:d.__r3f)!=null?h:{};return Boolean(p.handlers)},prepareUpdate(d,h,p,m){var y;if(((y=d==null?void 0:d.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==d)return[!0];{const{args:x=[],children:g,...S}=m,{args:w=[],children:T,...b}=p;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((L,D)=>L!==w[D]))return[!0];const C=Cb(d,S,b,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[h,p],m,y,_,x){h?a(d,m,_,x):Iv(d,p)},commitMount(d,h,p,m){var y;const _=(y=d.__r3f)!=null?y:{};d.raycast&&_.handlers&&_.eventCount&&u0(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Yl(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var h;const{attach:p,parent:m}=(h=d.__r3f)!=null?h:{};p&&m&&jE(m,d,p),d.isObject3D&&(d.visible=!1),ql(d)},unhideInstance(d,h){var p;const{attach:m,parent:y}=(p=d.__r3f)!=null?p:{};m&&y&&Lv(y,d,m),(d.isObject3D&&h.visible==null||h.visible)&&(d.visible=!0),ql(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Na.exports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance!="undefined"&&Qt.fun(performance.now)?performance.now:Qt.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Qt.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Qt.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Iv}}var HE,GE;const Rv=n=>"colorSpace"in n||"outputColorSpace"in n,Sb=()=>{var n;return(n=o3.ColorManagement)!=null?n:null},Mb=n=>n&&n.isOrthographicCamera,AW=n=>n&&n.hasOwnProperty("current"),Cd=typeof window!="undefined"&&((HE=window.document)!=null&&HE.createElement||((GE=window.navigator)==null?void 0:GE.product)==="ReactNative")?W.exports.useLayoutEffect:W.exports.useEffect;function wb(n){const e=W.exports.useRef(n);return Cd(()=>void(e.current=n),[n]),e}function CW({set:n}){return Cd(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class Eb extends W.exports.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Eb.getDerivedStateFromError=()=>({error:!0});const Tb="__default",WE=new Map,bW=n=>n&&!!n.memoized&&!!n.changes;function Ab(n){var e;const t=typeof window!="undefined"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const Uc=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function u0(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Qt={obj:n=>n===Object(n)&&!Qt.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Qt.str(n)||Qt.num(n)||Qt.boo(n))return n===e;const s=Qt.obj(n);if(s&&i==="reference")return n===e;const o=Qt.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(a in r?e:n)if(!Qt.equ(n[a],e[a],{strict:r,objects:"reference"}))return!1}else for(a in r?e:n)if(n[a]!==e[a])return!1;if(Qt.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function PW(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Yl(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function X2(n,e){let t=n;if(e.includes("-")){const i=e.split("-"),r=i.pop();return t=i.reduce((s,o)=>s[o],n),{target:t,key:r}}else return{target:t,key:e}}const XE=/-\d+$/;function Lv(n,e,t){if(Qt.str(t)){if(XE.test(t)){const s=t.replace(XE,""),{target:o,key:a}=X2(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:i,key:r}=X2(n,t);e.__r3f.previousAttach=i[r],i[r]=e}else e.__r3f.previousAttach=t(n,e)}function jE(n,e,t){var i,r;if(Qt.str(t)){const{target:s,key:o}=X2(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(i=e.__r3f)==null||i.previousAttach==null||i.previousAttach(n,e);(r=e.__r3f)==null||delete r.previousAttach}function Cb(n,{children:e,key:t,ref:i,...r},{children:s,key:o,ref:a,...l}={},f=!1){const d=n.__r3f,h=Object.entries(r),p=[];if(f){const y=Object.keys(l);for(let _=0;_<y.length;_++)r.hasOwnProperty(y[_])||h.unshift([y[_],Tb+"remove"])}h.forEach(([y,_])=>{var x;if((x=n.__r3f)!=null&&x.primitive&&y==="object"||Qt.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,_,!0,[]]);let g=[];y.includes("-")&&(g=y.split("-")),p.push([y,_,!1,g]);for(const S in r){const w=r[S];S.startsWith(`${y}-`)&&p.push([S,w,!1,S.split("-")])}});const m={...r};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:p}}const RW=typeof process!="undefined"&&!1;function Iv(n,e){var t;const i=n.__r3f,r=i==null?void 0:i.root,s=r==null||r.getState==null?void 0:r.getState(),{memoized:o,changes:a}=bW(e)?e:Cb(n,e),l=i==null?void 0:i.eventCount;n.__r3f&&(n.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,y,_,x]=a[p];if(Rv(n)){const T="srgb",b="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?T:b):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?T:b)}let g=n,S=g[m];if(x.length&&(S=x.reduce((w,T)=>w[T],n),!(S&&S.set))){const[w,...T]=x.reverse();g=T.reverse().reduce((b,C)=>b[C],n),m=w}if(y===Tb+"remove")if(g.constructor){let w=WE.get(g.constructor);w||(w=new g.constructor,WE.set(g.constructor,w)),y=w[m]}else y=0;if(_&&i)y?i.handlers[m]=y:delete i.handlers[m],i.eventCount=Object.keys(i.handlers).length;else if(S&&S.set&&(S.copy||S instanceof ka)){if(Array.isArray(y))S.fromArray?S.fromArray(y):S.set(...y);else if(S.copy&&y&&y.constructor&&(RW?S.constructor.name===y.constructor.name:S.constructor===y.constructor))S.copy(y);else if(y!==void 0){var f;const w=(f=S)==null?void 0:f.isColor;!w&&S.setScalar?S.setScalar(y):S instanceof ka&&y instanceof ka?S.mask=y.mask:S.set(y),!Sb()&&s&&!s.linear&&w&&S.convertSRGBToLinear()}}else{var d;if(g[m]=y,(d=g[m])!=null&&d.isTexture&&g[m].format===Si&&g[m].type===ls&&s){const w=g[m];Rv(w)&&Rv(s.gl)?w.colorSpace=s.gl.outputColorSpace:w.encoding=s.gl.outputEncoding}}ql(n)}if(i&&i.parent&&n.raycast&&l!==i.eventCount){const p=u0(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),i.eventCount&&p.interaction.push(n)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(t=n.__r3f)!=null&&t.parent&&j2(n),n}function ql(n){var e,t;const i=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();i&&i.internal.frames===0&&i.invalidate()}function j2(n){n.onUpdate==null||n.onUpdate(n)}function LW(n,e){n.manual||(Mb(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function zp(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function IW(){var n;const e=typeof self!="undefined"&&self||typeof window!="undefined"&&window;if(!e)return Na.exports.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Na.exports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Na.exports.ContinuousEventPriority;default:return Na.exports.DefaultEventPriority}}function bb(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function DW(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{bb(t.capturedMap,e,i,r)})}function NW(n){function e(l){const{internal:f}=n.getState(),d=l.offsetX-f.initialClick[0],h=l.offsetY-f.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(f=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=f.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function i(l,f){const d=n.getState(),h=new Set,p=[],m=f?f(d.internal.interaction):d.internal.interaction;for(let g=0;g<m.length;g++){const S=Uc(m[g]);S&&(S.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function y(g){const S=Uc(g);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(g,!0):[]}let _=m.flatMap(y).sort((g,S)=>{const w=Uc(g.object),T=Uc(S.object);return!w||!T?g.distance-S.distance:T.events.priority-w.events.priority||g.distance-S.distance}).filter(g=>{const S=zp(g);return h.has(S)?!1:(h.add(S),!0)});d.events.filter&&(_=d.events.filter(_,d));for(const g of _){let S=g.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&p.push({...g,eventObject:S}),S=S.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let g of d.internal.capturedMap.get(l.pointerId).values())h.has(zp(g.intersection))||p.push(g.intersection);return p}function r(l,f,d,h){const p=n.getState();if(l.length){const m={stopped:!1};for(const y of l){const _=Uc(y.object)||p,{raycaster:x,pointer:g,camera:S,internal:w}=_,T=new F(g.x,g.y,0).unproject(S),b=R=>{var V,K;return(V=(K=w.capturedMap.get(R))==null?void 0:K.has(y.eventObject))!=null?V:!1},C=R=>{const V={intersection:y,target:f.target};w.capturedMap.has(R)?w.capturedMap.get(R).set(y.eventObject,V):w.capturedMap.set(R,new Map([[y.eventObject,V]])),f.target.setPointerCapture(R)},L=R=>{const V=w.capturedMap.get(R);V&&bb(w.capturedMap,y.eventObject,V,R)};let D={};for(let R in f){let V=f[R];typeof V!="function"&&(D[R]=V)}let P={...y,...D,pointer:g,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:T,ray:x.ray,camera:S,stopPropagation(){const R="pointerId"in f&&w.capturedMap.get(f.pointerId);if((!R||R.has(y.eventObject))&&(P.stopped=m.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(V=>V.eventObject===y.eventObject))){const V=l.slice(0,l.indexOf(y));s([...V,y])}},target:{hasPointerCapture:b,setPointerCapture:C,releasePointerCapture:L},currentTarget:{hasPointerCapture:b,setPointerCapture:C,releasePointerCapture:L},nativeEvent:f};if(h(P),m.stopped===!0)break}}return l}function s(l){const{internal:f}=n.getState();for(const d of f.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const p=d.eventObject.__r3f,m=p==null?void 0:p.handlers;if(f.hovered.delete(zp(d)),p!=null&&p.eventCount){const y={...d,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,f){for(let d=0;d<f.length;d++){const h=f[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return f=>{const{internal:d}=n.getState();"pointerId"in f&&d.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(f.pointerId)&&(d.capturedMap.delete(f.pointerId),s([]))})}}return function(d){const{onPointerMissed:h,internal:p}=n.getState();p.lastEvent.current=d;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=i(d,m?t:void 0),g=y?e(d):0;l==="onPointerDown"&&(p.initialClick=[d.offsetX,d.offsetY],p.initialHits=x.map(w=>w.eventObject)),y&&!x.length&&g<=2&&(o(d,p.interaction),h&&h(d)),m&&s(x);function S(w){const T=w.eventObject,b=T.__r3f,C=b==null?void 0:b.handlers;if(!!(b!=null&&b.eventCount))if(m){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const L=zp(w),D=p.hovered.get(L);D?D.stopped&&w.stopPropagation():(p.hovered.set(L,w),C.onPointerOver==null||C.onPointerOver(w),C.onPointerEnter==null||C.onPointerEnter(w))}C.onPointerMove==null||C.onPointerMove(w)}else{const L=C[l];L?(!y||p.initialHits.includes(T))&&(o(d,p.interaction.filter(D=>!p.initialHits.includes(D))),L(w)):y&&p.initialHits.includes(T)&&o(d,p.interaction.filter(D=>!p.initialHits.includes(D)))}}r(x,d,g,S)}}return{handlePointer:a}}const Pb=n=>!!(n!=null&&n.render),Rb=W.exports.createContext(null),UW=(n,e)=>{const t=SW((a,l)=>{const f=new F,d=new F,h=new F;function p(g=l().camera,S=d,w=l().size){const{width:T,height:b,top:C,left:L}=w,D=T/b;S.isVector3?h.copy(S):h.set(...S);const P=g.getWorldPosition(f).distanceTo(h);if(Mb(g))return{width:T/g.zoom,height:b/g.zoom,top:C,left:L,factor:1,distance:P,aspect:D};{const R=g.fov*Math.PI/180,V=2*Math.tan(R/2)*P,K=V*(T/b);return{width:K,height:V,top:C,left:L,factor:T/K,distance:P,aspect:D}}}let m;const y=g=>a(S=>({performance:{...S.performance,current:g}})),_=new pe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>n(l(),g),advance:(g,S)=>e(g,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new n3,pointer:_,mouse:_,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(S=>({...S,events:{...S.events,...g}})),setSize:(g,S,w,T,b)=>{const C=l().camera,L={width:g,height:S,top:T||0,left:b||0,updateStyle:w};a(D=>({size:L,viewport:{...D.viewport,...p(C,d,L)}}))},setDpr:g=>a(S=>{const w=Ab(g);return{viewport:{...S.viewport,dpr:w,initialDpr:S.viewport.initialDpr||w}}}),setFrameloop:(g="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,g!=="never"&&(S.start(),S.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:W.exports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,S,w)=>{const T=l().internal;return T.priority=T.priority+(S>0?1:0),T.subscribers.push({ref:g,priority:S,store:w}),T.subscribers=T.subscribers.sort((b,C)=>b.priority-C.priority),()=>{const b=l().internal;b!=null&&b.subscribers&&(b.priority=b.priority-(S>0?1:0),b.subscribers=b.subscribers.filter(C=>C.ref!==g))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,o=i.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:f,gl:d,set:h}=t.getState();if(l.width!==r.width||l.height!==r.height||f.dpr!==s){var p;r=l,s=f.dpr,LW(a,l),d.setPixelRatio(f.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement!="undefined"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}a!==o&&(o=a,h(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let kp,OW=new Set,FW=new Set,zW=new Set;function Dv(n,e){if(!!n.size)for(const{callback:t}of n.values())t(e)}function Oc(n,e){switch(n){case"before":return Dv(OW,e);case"after":return Dv(FW,e);case"tail":return Dv(zW,e)}}let Nv,Uv;function Ov(n,e,t){let i=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Nv=e.internal.subscribers,kp=0;kp<Nv.length;kp++)Uv=Nv[kp],Uv.ref.current(Uv.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function kW(n){let e=!1,t=!1,i,r,s;function o(f){r=requestAnimationFrame(o),e=!0,i=0,Oc("before",f),t=!0;for(const h of n.values()){var d;s=h.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(i+=Ov(f,s))}if(t=!1,Oc("after",f),i===0)return Oc("tail",f),e=!1,cancelAnimationFrame(r)}function a(f,d=1){var h;if(!f)return n.forEach(p=>a(p.store.getState(),d));(h=f.gl.xr)!=null&&h.isPresenting||!f.internal.active||f.frameloop==="never"||(d>1?f.internal.frames=Math.min(60,f.internal.frames+d):t?f.internal.frames=2:f.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(f,d=!0,h,p){if(d&&Oc("before",f),h)Ov(f,h,p);else for(const m of n.values())Ov(f,m.store.getState());d&&Oc("after",f)}return{loop:o,invalidate:a,advance:l}}function Lb(){const n=W.exports.useContext(Rb);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function fo(n=t=>t,e){return Lb()(n,e)}function t1(n,e=0){const t=Lb(),i=t.getState().internal.subscribe,r=wb(n);return Cd(()=>i(r,e,t),[e,i,t]),null}const Fu=new Map,{invalidate:YE,advance:qE}=kW(Fu),{reconciler:$0,applyProps:Wl}=TW(Fu,IW),Xl={objects:"shallow",strict:!1},BW=(n,e)=>{const t=typeof n=="function"?n(e):n;return Pb(t)?t:new z_({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function VW(n,e){const t=typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement;if(e){const{width:i,height:r,top:s,left:o,updateStyle:a=t}=e;return{width:i,height:r,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:i,height:r,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function HW(n){const e=Fu.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||UW(YE,qE),o=t||$0.createContainer(s,Na.exports.ConcurrentRoot,null,!1,null,"",r,null);e||Fu.set(n,{fiber:o,store:s});let a,l=!1,f;return{configure(d={}){let{gl:h,size:p,scene:m,events:y,onCreated:_,shadows:x=!1,linear:g=!1,flat:S=!1,legacy:w=!1,orthographic:T=!1,frameloop:b="always",dpr:C=[1,2],performance:L,raycaster:D,camera:P,onPointerMissed:R}=d,V=s.getState(),K=V.gl;V.gl||V.set({gl:K=BW(h,n)});let oe=V.raycaster;oe||V.set({raycaster:oe=new mb});const{params:H,...$}=D||{};if(Qt.equ($,oe,Xl)||Wl(oe,{...$}),Qt.equ(H,oe.params,Xl)||Wl(oe,{params:{...oe.params,...H}}),!V.camera||V.camera===f&&!Qt.equ(f,P,Xl)){f=P;const B=P instanceof xd,Z=B?P:T?new ko(0,0,0,0,.1,1e3):new wn(75,0,.1,1e3);B||(Z.position.z=5,P&&(Wl(Z,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(Z.manual=!0,Z.updateProjectionMatrix())),!V.camera&&!(P!=null&&P.rotation)&&Z.lookAt(0,0,0)),V.set({camera:Z}),oe.camera=Z}if(!V.scene){let B;m!=null&&m.isScene?B=m:(B=new k_,m&&Wl(B,m)),V.set({scene:Yl(B)})}if(!V.xr){var te;const B=(Y,q)=>{const ae=s.getState();ae.frameloop!=="never"&&qE(Y,!0,ae,q)},Z=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?B:null),Y.gl.xr.isPresenting||YE(Y)},ee={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",Z),Y.xr.addEventListener("sessionend",Z)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",Z),Y.xr.removeEventListener("sessionend",Z)}};typeof((te=K.xr)==null?void 0:te.addEventListener)=="function"&&ee.connect(),V.set({xr:ee})}if(K.shadowMap){const B=K.shadowMap.enabled,Z=K.shadowMap.type;if(K.shadowMap.enabled=!!x,Qt.boo(x))K.shadowMap.type=sf;else if(Qt.str(x)){var ce;const ee={basic:oC,percentage:bm,soft:sf,variance:br};K.shadowMap.type=(ce=ee[x])!=null?ce:sf}else Qt.obj(x)&&Object.assign(K.shadowMap,x);(B!==K.shadowMap.enabled||Z!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}const N=Sb();N&&("enabled"in N?N.enabled=!w:"legacyMode"in N&&(N.legacyMode=w)),l||Wl(K,{outputEncoding:g?3e3:3001,toneMapping:S?as:v_}),V.legacy!==w&&V.set(()=>({legacy:w})),V.linear!==g&&V.set(()=>({linear:g})),V.flat!==S&&V.set(()=>({flat:S})),h&&!Qt.fun(h)&&!Pb(h)&&!Qt.equ(h,K,Xl)&&Wl(K,h),y&&!V.events.handlers&&V.set({events:y(s)});const k=VW(n,p);return Qt.equ(k,V.size,Xl)||V.setSize(k.width,k.height,k.updateStyle,k.top,k.left),C&&V.viewport.dpr!==Ab(C)&&V.setDpr(C),V.frameloop!==b&&V.setFrameloop(b),V.onPointerMissed||V.set({onPointerMissed:R}),L&&!Qt.equ(L,V.performance,Xl)&&V.set(B=>({performance:{...B.performance,...L}})),a=_,l=!0,this},render(d){return l||this.configure(),$0.updateContainer(ne(GW,{store:s,children:d,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Ib(n)}}}function GW({store:n,children:e,onCreated:t,rootElement:i}){return Cd(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),ne(Rb.Provider,{value:n,children:e})}function Ib(n,e){const t=Fu.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),$0.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,o,a,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=r.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),PW(r),Fu.delete(n),e&&e(n)}catch{}},500)})}}$0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:W.exports.version});const Fv={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function WW(n){const{handlePointer:e}=NW(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(Fv).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var i;const{set:r,events:s}=n.getState();s.disconnect==null||s.disconnect(),r(o=>({events:{...o.events,connected:t}})),Object.entries((i=s.handlers)!=null?i:[]).forEach(([o,a])=>{const[l,f]=Fv[o];t.addEventListener(l,a,{passive:f})})},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){var r;Object.entries((r=i.handlers)!=null?r:[]).forEach(([s,o])=>{if(i&&i.connected instanceof HTMLElement){const[a]=Fv[s];i.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}function ZE(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function XW({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=W.exports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=W.exports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,f=n?typeof n=="number"?n:n.resize:null,d=W.exports.useRef(!1);W.exports.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,p,m]=W.exports.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:S,top:w,width:T,height:b,bottom:C,right:L,x:D,y:P}=a.current.element.getBoundingClientRect(),R={left:S,top:w,width:T,height:b,bottom:C,right:L,x:D,y:P};a.current.element instanceof HTMLElement&&i&&(R.height=a.current.element.offsetHeight,R.width=a.current.element.offsetWidth),Object.freeze(R),d.current&&!ZW(a.current.lastBounds,R)&&o(a.current.lastBounds=R)};return[g,f?ZE(g,f):g,l?ZE(g,l):g]},[o,i,l,f]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function _(){a.current.element&&(a.current.resizeObserver=new r(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const x=g=>{!g||g===a.current.element||(y(),a.current.element=g,a.current.scrollContainers=Db(g),_())};return YW(m,!!e),jW(p),W.exports.useEffect(()=>{y(),_()},[e,m,p]),W.exports.useEffect(()=>y,[]),[x,s,h]}function jW(n){W.exports.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function YW(n,e){W.exports.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Db(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Db(n.parentElement)]}const qW=["x","y","top","bottom","left","right","width","height"],ZW=(n,e)=>qW.every(t=>n[t]===e[t]);var KW=Object.defineProperty,JW=Object.defineProperties,QW=Object.getOwnPropertyDescriptors,KE=Object.getOwnPropertySymbols,$W=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,JE=(n,e,t)=>e in n?KW(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,QE=(n,e)=>{for(var t in e||(e={}))$W.call(e,t)&&JE(n,t,e[t]);if(KE)for(var t of KE(e))eX.call(e,t)&&JE(n,t,e[t]);return n},tX=(n,e)=>JW(n,QW(e)),$E,e5;typeof window!="undefined"&&((($E=window.document)==null?void 0:$E.createElement)||((e5=window.navigator)==null?void 0:e5.product)==="ReactNative")?W.exports.useLayoutEffect:W.exports.useEffect;function Nb(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=Nb(i,e,t);if(r)return r;i=e?null:i.sibling}}function Ub(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const t5=console.error;console.error=function(){const n=[...arguments].join("");if((n==null?void 0:n.startsWith("Warning:"))&&n.includes("useContext")){console.error=t5;return}return t5.apply(this,arguments)};const a3=Ub(W.exports.createContext(null));class Ob extends W.exports.Component{render(){return W.exports.createElement(a3.Provider,{value:this._reactInternals},this.props.children)}}function nX(){const n=W.exports.useContext(a3);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=W.exports.useId();return W.exports.useMemo(()=>{for(const i of[n,n==null?void 0:n.alternate]){if(!i)continue;const r=Nb(i,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(r)return r}},[n,e])}function iX(){const n=nX(),[e]=W.exports.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const r=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;r&&r!==a3&&!e.has(r)&&e.set(r,W.exports.useContext(Ub(r)))}t=t.return}return e}function rX(){const n=iX();return W.exports.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>W.exports.createElement(e,null,W.exports.createElement(t.Provider,tX(QE({},i),{value:n.get(t)}))),e=>W.exports.createElement(Ob,QE({},e))),[n])}const sX=W.exports.forwardRef(function({children:e,fallback:t,resize:i,style:r,gl:s,events:o=WW,eventSource:a,eventPrefix:l,shadows:f,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:_,performance:x,raycaster:g,camera:S,scene:w,onPointerMissed:T,onCreated:b,...C},L){W.exports.useMemo(()=>EW(yW),[]);const D=rX(),[P,R]=XW({scroll:!0,debounce:{scroll:50,resize:0},...i}),V=W.exports.useRef(null),K=W.exports.useRef(null);W.exports.useImperativeHandle(L,()=>V.current);const oe=wb(T),[H,$]=W.exports.useState(!1),[te,ce]=W.exports.useState(!1);if(H)throw H;if(te)throw te;const N=W.exports.useRef(null);return Cd(()=>{const B=V.current;R.width>0&&R.height>0&&B&&(N.current||(N.current=HW(B)),N.current.configure({gl:s,events:o,shadows:f,linear:d,flat:h,legacy:p,orthographic:m,frameloop:y,dpr:_,performance:x,raycaster:g,camera:S,scene:w,size:R,onPointerMissed:(...Z)=>oe.current==null?void 0:oe.current(...Z),onCreated:Z=>{Z.events.connect==null||Z.events.connect(a?AW(a)?a.current:a:K.current),l&&Z.setEvents({compute:(ee,Y)=>{const q=ee[l+"X"],ae=ee[l+"Y"];Y.pointer.set(q/Y.size.width*2-1,-(ae/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),b==null||b(Z)}}),N.current.render(ne(D,{children:ne(Eb,{set:ce,children:ne(W.exports.Suspense,{fallback:ne(CW,{set:$}),children:e!=null?e:null})})})))}),W.exports.useEffect(()=>{const B=V.current;if(B)return()=>Ib(B)},[]),ne("div",{ref:K,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:a?"none":"auto",...r},...C,children:ne("div",{ref:P,style:{width:"100%",height:"100%"},children:ne("canvas",{ref:V,style:{display:"block"},children:t})})})}),oX=W.exports.forwardRef(function(e,t){return ne(Ob,{children:ne(sX,{...e,ref:t})})});var aX=Object.defineProperty,lX=(n,e,t)=>e in n?aX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,uX=(n,e,t)=>(lX(n,typeof e!="symbol"?e+"":e,t),t);class cX{constructor(){uX(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}var fX=Object.defineProperty,dX=(n,e,t)=>e in n?fX(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,lt=(n,e,t)=>(dX(n,typeof e!="symbol"?e+"":e,t),t);const Bp=new tl,n5=new bs,hX=Math.cos(70*(Math.PI/180)),i5=(n,e)=>(n%e+e)%e;class pX extends cX{constructor(e,t){super(),lt(this,"object"),lt(this,"domElement"),lt(this,"enabled",!0),lt(this,"target",new F),lt(this,"minDistance",0),lt(this,"maxDistance",1/0),lt(this,"minZoom",0),lt(this,"maxZoom",1/0),lt(this,"minPolarAngle",0),lt(this,"maxPolarAngle",Math.PI),lt(this,"minAzimuthAngle",-1/0),lt(this,"maxAzimuthAngle",1/0),lt(this,"enableDamping",!1),lt(this,"dampingFactor",.05),lt(this,"enableZoom",!0),lt(this,"zoomSpeed",1),lt(this,"enableRotate",!0),lt(this,"rotateSpeed",1),lt(this,"enablePan",!0),lt(this,"panSpeed",1),lt(this,"screenSpacePanning",!0),lt(this,"keyPanSpeed",7),lt(this,"zoomToCursor",!1),lt(this,"autoRotate",!1),lt(this,"autoRotateSpeed",2),lt(this,"reverseOrbit",!1),lt(this,"reverseHorizontalOrbit",!1),lt(this,"reverseVerticalOrbit",!1),lt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),lt(this,"mouseButtons",{LEFT:Sa.ROTATE,MIDDLE:Sa.DOLLY,RIGHT:Sa.PAN}),lt(this,"touches",{ONE:Ma.ROTATE,TWO:Ma.DOLLY_PAN}),lt(this,"target0"),lt(this,"position0"),lt(this,"zoom0"),lt(this,"_domElementKeyEvents",null),lt(this,"getPolarAngle"),lt(this,"getAzimuthalAngle"),lt(this,"setPolarAngle"),lt(this,"setAzimuthalAngle"),lt(this,"getDistance"),lt(this,"getZoomScale"),lt(this,"listenToKeyEvents"),lt(this,"stopListenToKeyEvents"),lt(this,"saveState"),lt(this,"reset"),lt(this,"update"),lt(this,"connect"),lt(this,"dispose"),lt(this,"dollyIn"),lt(this,"dollyOut"),lt(this,"getScale"),lt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=X=>{let ye=i5(X,2*Math.PI),ke=d.phi;ke<0&&(ke+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Oe=Math.abs(ye-ke);2*Math.PI-Oe<Oe&&(ye<ke?ye+=2*Math.PI:ke+=2*Math.PI),h.phi=ye-ke,i.update()},this.setAzimuthalAngle=X=>{let ye=i5(X,2*Math.PI),ke=d.theta;ke<0&&(ke+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let Oe=Math.abs(ye-ke);2*Math.PI-Oe<Oe&&(ye<ke?ye+=2*Math.PI:ke+=2*Math.PI),h.theta=ye-ke,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=X=>{X.addEventListener("keydown",it),this._domElementKeyEvents=X},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",it),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=a.NONE},this.update=(()=>{const X=new F,ye=new F(0,1,0),ke=new fi().setFromUnitVectors(e.up,ye),Oe=ke.clone().invert(),we=new F,j=new fi,Re=2*Math.PI;return function(){const ot=i.object.position;ke.setFromUnitVectors(e.up,ye),Oe.copy(ke).invert(),X.copy(ot).sub(i.target),X.applyQuaternion(ke),d.setFromVector3(X),i.autoRotate&&l===a.NONE&&H(K()),i.enableDamping?(d.theta+=h.theta*i.dampingFactor,d.phi+=h.phi*i.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let qe=i.minAzimuthAngle,Pt=i.maxAzimuthAngle;isFinite(qe)&&isFinite(Pt)&&(qe<-Math.PI?qe+=Re:qe>Math.PI&&(qe-=Re),Pt<-Math.PI?Pt+=Re:Pt>Math.PI&&(Pt-=Re),qe<=Pt?d.theta=Math.max(qe,Math.min(Pt,d.theta)):d.theta=d.theta>(qe+Pt)/2?Math.max(qe,d.theta):Math.min(Pt,d.theta)),d.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,d.phi)),d.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(m,i.dampingFactor):i.target.add(m),i.zoomToCursor&&P||i.object.isOrthographicCamera?d.radius=Y(d.radius):d.radius=Y(d.radius*p),X.setFromSpherical(d),X.applyQuaternion(Oe),ot.copy(i.target).add(X),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(h.theta*=1-i.dampingFactor,h.phi*=1-i.dampingFactor,m.multiplyScalar(1-i.dampingFactor)):(h.set(0,0,0),m.set(0,0,0));let Dt=!1;if(i.zoomToCursor&&P){let Xt=null;if(i.object instanceof wn&&i.object.isPerspectiveCamera){const en=X.length();Xt=Y(en*p);const Nt=en-Xt;i.object.position.addScaledVector(L,Nt),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const en=new F(D.x,D.y,0);en.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix(),Dt=!0;const Nt=new F(D.x,D.y,0);Nt.unproject(i.object),i.object.position.sub(Nt).add(en),i.object.updateMatrixWorld(),Xt=X.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Xt!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Xt).add(i.object.position):(Bp.origin.copy(i.object.position),Bp.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Bp.direction))<hX?e.lookAt(i.target):(n5.setFromNormalAndCoplanarPoint(i.object.up,i.target),Bp.intersectPlane(n5,i.target))))}else i.object instanceof ko&&i.object.isOrthographicCamera&&(Dt=p!==1,Dt&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/p)),i.object.updateProjectionMatrix()));return p=1,P=!1,Dt||we.distanceToSquared(i.object.position)>f||8*(1-j.dot(i.object.quaternion))>f?(i.dispatchEvent(r),we.copy(i.object.position),j.copy(i.object.quaternion),Dt=!1,!0):!1}})(),this.connect=X=>{i.domElement=X,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Lt),i.domElement.addEventListener("pointerdown",Se),i.domElement.addEventListener("pointercancel",ve),i.domElement.addEventListener("wheel",Be)},this.dispose=()=>{var X,ye,ke,Oe,we,j;i.domElement&&(i.domElement.style.touchAction="auto"),(X=i.domElement)==null||X.removeEventListener("contextmenu",Lt),(ye=i.domElement)==null||ye.removeEventListener("pointerdown",Se),(ke=i.domElement)==null||ke.removeEventListener("pointercancel",ve),(Oe=i.domElement)==null||Oe.removeEventListener("wheel",Be),(we=i.domElement)==null||we.ownerDocument.removeEventListener("pointermove",xe),(j=i.domElement)==null||j.ownerDocument.removeEventListener("pointerup",ve),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",it)};const i=this,r={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const f=1e-6,d=new G2,h=new G2;let p=1;const m=new F,y=new pe,_=new pe,x=new pe,g=new pe,S=new pe,w=new pe,T=new pe,b=new pe,C=new pe,L=new F,D=new pe;let P=!1;const R=[],V={};function K(){return 2*Math.PI/60/60*i.autoRotateSpeed}function oe(){return Math.pow(.95,i.zoomSpeed)}function H(X){i.reverseOrbit||i.reverseHorizontalOrbit?h.theta+=X:h.theta-=X}function $(X){i.reverseOrbit||i.reverseVerticalOrbit?h.phi+=X:h.phi-=X}const te=(()=>{const X=new F;return function(ke,Oe){X.setFromMatrixColumn(Oe,0),X.multiplyScalar(-ke),m.add(X)}})(),ce=(()=>{const X=new F;return function(ke,Oe){i.screenSpacePanning===!0?X.setFromMatrixColumn(Oe,1):(X.setFromMatrixColumn(Oe,0),X.crossVectors(i.object.up,X)),X.multiplyScalar(ke),m.add(X)}})(),N=(()=>{const X=new F;return function(ke,Oe){const we=i.domElement;if(we&&i.object instanceof wn&&i.object.isPerspectiveCamera){const j=i.object.position;X.copy(j).sub(i.target);let Re=X.length();Re*=Math.tan(i.object.fov/2*Math.PI/180),te(2*ke*Re/we.clientHeight,i.object.matrix),ce(2*Oe*Re/we.clientHeight,i.object.matrix)}else we&&i.object instanceof ko&&i.object.isOrthographicCamera?(te(ke*(i.object.right-i.object.left)/i.object.zoom/we.clientWidth,i.object.matrix),ce(Oe*(i.object.top-i.object.bottom)/i.object.zoom/we.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function k(X){i.object instanceof wn&&i.object.isPerspectiveCamera||i.object instanceof ko&&i.object.isOrthographicCamera?p=X:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function B(X){k(p/X)}function Z(X){k(p*X)}function ee(X){if(!i.zoomToCursor||!i.domElement)return;P=!0;const ye=i.domElement.getBoundingClientRect(),ke=X.clientX-ye.left,Oe=X.clientY-ye.top,we=ye.width,j=ye.height;D.x=ke/we*2-1,D.y=-(Oe/j)*2+1,L.set(D.x,D.y,1).unproject(i.object).sub(i.object.position).normalize()}function Y(X){return Math.max(i.minDistance,Math.min(i.maxDistance,X))}function q(X){y.set(X.clientX,X.clientY)}function ae(X){ee(X),T.set(X.clientX,X.clientY)}function _e(X){g.set(X.clientX,X.clientY)}function Ce(X){_.set(X.clientX,X.clientY),x.subVectors(_,y).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(H(2*Math.PI*x.x/ye.clientHeight),$(2*Math.PI*x.y/ye.clientHeight)),y.copy(_),i.update()}function nt(X){b.set(X.clientX,X.clientY),C.subVectors(b,T),C.y>0?B(oe()):C.y<0&&Z(oe()),T.copy(b),i.update()}function st(X){S.set(X.clientX,X.clientY),w.subVectors(S,g).multiplyScalar(i.panSpeed),N(w.x,w.y),g.copy(S),i.update()}function je(X){ee(X),X.deltaY<0?Z(oe()):X.deltaY>0&&B(oe()),i.update()}function Qe(X){let ye=!1;switch(X.code){case i.keys.UP:N(0,i.keyPanSpeed),ye=!0;break;case i.keys.BOTTOM:N(0,-i.keyPanSpeed),ye=!0;break;case i.keys.LEFT:N(i.keyPanSpeed,0),ye=!0;break;case i.keys.RIGHT:N(-i.keyPanSpeed,0),ye=!0;break}ye&&(X.preventDefault(),i.update())}function G(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const X=.5*(R[0].pageX+R[1].pageX),ye=.5*(R[0].pageY+R[1].pageY);y.set(X,ye)}}function Ee(){if(R.length==1)g.set(R[0].pageX,R[0].pageY);else{const X=.5*(R[0].pageX+R[1].pageX),ye=.5*(R[0].pageY+R[1].pageY);g.set(X,ye)}}function me(){const X=R[0].pageX-R[1].pageX,ye=R[0].pageY-R[1].pageY,ke=Math.sqrt(X*X+ye*ye);T.set(0,ke)}function Ae(){i.enableZoom&&me(),i.enablePan&&Ee()}function ge(){i.enableZoom&&me(),i.enableRotate&&G()}function Ke(X){if(R.length==1)_.set(X.pageX,X.pageY);else{const ke=He(X),Oe=.5*(X.pageX+ke.x),we=.5*(X.pageY+ke.y);_.set(Oe,we)}x.subVectors(_,y).multiplyScalar(i.rotateSpeed);const ye=i.domElement;ye&&(H(2*Math.PI*x.x/ye.clientHeight),$(2*Math.PI*x.y/ye.clientHeight)),y.copy(_)}function Ne(X){if(R.length==1)S.set(X.pageX,X.pageY);else{const ye=He(X),ke=.5*(X.pageX+ye.x),Oe=.5*(X.pageY+ye.y);S.set(ke,Oe)}w.subVectors(S,g).multiplyScalar(i.panSpeed),N(w.x,w.y),g.copy(S)}function U(X){const ye=He(X),ke=X.pageX-ye.x,Oe=X.pageY-ye.y,we=Math.sqrt(ke*ke+Oe*Oe);b.set(0,we),C.set(0,Math.pow(b.y/T.y,i.zoomSpeed)),B(C.y),T.copy(b)}function I(X){i.enableZoom&&U(X),i.enablePan&&Ne(X)}function re(X){i.enableZoom&&U(X),i.enableRotate&&Ke(X)}function Se(X){var ye,ke;i.enabled!==!1&&(R.length===0&&((ye=i.domElement)==null||ye.ownerDocument.addEventListener("pointermove",xe),(ke=i.domElement)==null||ke.ownerDocument.addEventListener("pointerup",ve)),St(X),X.pointerType==="touch"?gt(X):Ye(X))}function xe(X){i.enabled!==!1&&(X.pointerType==="touch"?Me(X):Ie(X))}function ve(X){var ye,ke,Oe;ht(X),R.length===0&&((ye=i.domElement)==null||ye.releasePointerCapture(X.pointerId),(ke=i.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",xe),(Oe=i.domElement)==null||Oe.ownerDocument.removeEventListener("pointerup",ve)),i.dispatchEvent(o),l=a.NONE}function Ye(X){let ye;switch(X.button){case 0:ye=i.mouseButtons.LEFT;break;case 1:ye=i.mouseButtons.MIDDLE;break;case 2:ye=i.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case Sa.DOLLY:if(i.enableZoom===!1)return;ae(X),l=a.DOLLY;break;case Sa.ROTATE:if(X.ctrlKey||X.metaKey||X.shiftKey){if(i.enablePan===!1)return;_e(X),l=a.PAN}else{if(i.enableRotate===!1)return;q(X),l=a.ROTATE}break;case Sa.PAN:if(X.ctrlKey||X.metaKey||X.shiftKey){if(i.enableRotate===!1)return;q(X),l=a.ROTATE}else{if(i.enablePan===!1)return;_e(X),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Ie(X){if(i.enabled!==!1)switch(l){case a.ROTATE:if(i.enableRotate===!1)return;Ce(X);break;case a.DOLLY:if(i.enableZoom===!1)return;nt(X);break;case a.PAN:if(i.enablePan===!1)return;st(X);break}}function Be(X){i.enabled===!1||i.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(X.preventDefault(),i.dispatchEvent(s),je(X),i.dispatchEvent(o))}function it(X){i.enabled===!1||i.enablePan===!1||Qe(X)}function gt(X){switch(tt(X),R.length){case 1:switch(i.touches.ONE){case Ma.ROTATE:if(i.enableRotate===!1)return;G(),l=a.TOUCH_ROTATE;break;case Ma.PAN:if(i.enablePan===!1)return;Ee(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(i.touches.TWO){case Ma.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ae(),l=a.TOUCH_DOLLY_PAN;break;case Ma.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ge(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&i.dispatchEvent(s)}function Me(X){switch(tt(X),l){case a.TOUCH_ROTATE:if(i.enableRotate===!1)return;Ke(X),i.update();break;case a.TOUCH_PAN:if(i.enablePan===!1)return;Ne(X),i.update();break;case a.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;I(X),i.update();break;case a.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;re(X),i.update();break;default:l=a.NONE}}function Lt(X){i.enabled!==!1&&X.preventDefault()}function St(X){R.push(X)}function ht(X){delete V[X.pointerId];for(let ye=0;ye<R.length;ye++)if(R[ye].pointerId==X.pointerId){R.splice(ye,1);return}}function tt(X){let ye=V[X.pointerId];ye===void 0&&(ye=new pe,V[X.pointerId]=ye),ye.set(X.pageX,X.pageY)}function He(X){const ye=X.pointerId===R[0].pointerId?R[1]:R[0];return V[ye.pointerId]}this.dollyIn=(X=oe())=>{Z(X),i.update()},this.dollyOut=(X=oe())=>{B(X),i.update()},this.getScale=()=>p,this.setScale=X=>{k(X),i.update()},this.getZoomScale=()=>oe(),t!==void 0&&this.connect(t),this.update()}}const mX=W.exports.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...f},d)=>{const h=fo(C=>C.invalidate),p=fo(C=>C.camera),m=fo(C=>C.gl),y=fo(C=>C.events),_=fo(C=>C.setEvents),x=fo(C=>C.set),g=fo(C=>C.get),S=fo(C=>C.performance),w=e||p,T=i||y.connected||m.domElement,b=W.exports.useMemo(()=>new pX(w),[w]);return t1(()=>{b.enabled&&b.update()},-1),W.exports.useEffect(()=>(s&&b.connect(s===!0?T:s),b.connect(T),()=>void b.dispose()),[s,T,t,b,h]),W.exports.useEffect(()=>{const C=P=>{h(),t&&S.regress(),o&&o(P)},L=P=>{a&&a(P)},D=P=>{l&&l(P)};return b.addEventListener("change",C),b.addEventListener("start",L),b.addEventListener("end",D),()=>{b.removeEventListener("start",L),b.removeEventListener("end",D),b.removeEventListener("change",C)}},[o,a,l,b,h,_]),W.exports.useEffect(()=>{if(n){const C=g().controls;return x({controls:b}),()=>x({controls:C})}},[n,b]),W.exports.createElement("primitive",e2({ref:d,object:b,enableDamping:r},f))}),gX=()=>{const e=W.exports.useRef(),t=W.exports.useRef(),i=W.exports.useMemo(()=>{const s=[],o=[],a=[new ze("#ff1f1f"),new ze("#a800ff"),new ze("#00f2ff"),new ze("#ffffff")];for(let l=0;l<5e3;l++){const f=Math.random()*100,d=20+Math.random()*100,h=.01+Math.random()/200,p=-50+Math.random()*100,m=-50+Math.random()*100,y=-50+Math.random()*100,_=a[Math.floor(Math.random()*a.length)];o.push(_.r,_.g,_.b),s.push({t:f,factor:d,speed:h,xFactor:p,yFactor:m,zFactor:y,mx:0,my:0})}return{temp:s,colors:new Float32Array(o)}},[5e3]),r=W.exports.useMemo(()=>new Ft,[]);return t1(s=>{e.current&&(e.current.rotation.y+=5e-4,e.current.rotation.z+=2e-4),i.temp.forEach((o,a)=>{let{t:l,factor:f,speed:d,xFactor:h,yFactor:p,zFactor:m}=o;l=o.t+=d/3;const y=Math.cos(l)+Math.sin(l*1)/10,_=Math.sin(l)+Math.cos(l*2)/10,x=Math.cos(l);r.position.set(o.mx/10*y+h+Math.cos(l/10*f)+Math.sin(l*1)*f/10,o.my/10*_+p+Math.sin(l/10*f)+Math.cos(l*2)*f/10,o.my/10*_+m+Math.cos(l/10*f)+Math.sin(l*3)*f/10);const g=x>.5?1.2:.4;r.scale.set(g,g,g),r.updateMatrix(),e.current.setMatrixAt(a,r.matrix)}),e.current.instanceMatrix.needsUpdate=!0}),rt(XA,{children:[ne("pointLight",{ref:t,position:[10,10,10],intensity:1,color:"#ff1f1f"}),rt("instancedMesh",{ref:e,args:[null,null,5e3],children:[rt("sphereGeometry",{args:[.05,8,8],children:[" ",ne("instancedBufferAttribute",{attach:"attributes-color",args:[i.colors,3]})]}),ne("meshBasicMaterial",{vertexColors:!0,transparent:!0,opacity:.8,blending:Of})]})]})},vX=()=>{const n=W.exports.useRef();return t1(({clock:e})=>{const t=e.getElapsedTime();n.current&&(n.current.position.x=Math.sin(t*.5)*30,n.current.position.y=Math.cos(t*.3)*30,n.current.position.z=Math.sin(t*.7)*20)}),rt("group",{children:[ne("pointLight",{ref:n,intensity:2,distance:50,color:"#ff1f1f"}),rt("mesh",{ref:n,children:[ne("sphereGeometry",{args:[.5,16,16]}),ne("meshBasicMaterial",{color:"#ff1f1f",transparent:!0,opacity:.6})]})]})},yX=()=>{const n=W.exports.useMemo(()=>{const t=[],s=[];for(let a=0;a<100;a++){const l=Math.acos(s8.randFloatSpread(2)),f=Math.random()*Math.PI*2,d=40*Math.sin(l)*Math.cos(f),h=40*Math.sin(l)*Math.sin(f),p=40*Math.cos(l);s.push(new F(d,h,p))}return s.forEach((a,l)=>{s.map((d,h)=>({dist:a.distanceTo(d),index:h})).filter(d=>d.index!==l).sort((d,h)=>d.dist-h.dist).slice(0,3).forEach(d=>{t.push(a),t.push(s[d.index])})}),new Et().setFromPoints(t)},[]),e=W.exports.useRef();return t1(t=>{if(e.current){e.current.rotation.y-=.001;const i=t.clock.getElapsedTime(),r=(Math.sin(i*.5)+1)/2,s=.6+r*.4,o=0,a=1-r;e.current.material.color.setRGB(s,o,a),e.current.material.opacity=.1+r*.2}}),ne("lineSegments",{ref:e,geometry:n,children:ne("lineBasicMaterial",{color:"#a800ff",transparent:!0,opacity:.15,blending:Of,depthWrite:!1})})},xX=({onEnter:n})=>{const[e,t]=W.exports.useState(!0),[i,r]=W.exports.useState(0);W.exports.useEffect(()=>{let o=setInterval(()=>{r(a=>a>=100?(clearInterval(o),t(!1),100):a+Math.random()*3)},50);return()=>clearInterval(o)},[]);const s=Math.min(100,Math.floor(i));return rt("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:9999,background:"#050505"},children:[rt(oX,{camera:{position:[0,0,80],fov:60},gl:{antialias:!0,alpha:!1},children:[ne("color",{attach:"background",args:["#050505"]}),ne("fog",{attach:"fog",args:["#050505",50,150]}),ne(gX,{}),ne(yX,{}),ne(vX,{}),ne(mX,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.3,maxPolarAngle:Math.PI/1.5,minPolarAngle:Math.PI/3})]}),ne("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:ne(g_,{mode:"wait",children:e?rt(Wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"300px"},children:[ne("div",{style:{fontFamily:"'Courier New', monospace",fontSize:"0.9rem",color:"var(--primary)",marginBottom:"5px",textTransform:"uppercase"},children:"Initialize Protocol..."}),ne("div",{style:{width:"100%",height:"2px",background:"#333",position:"relative",marginBottom:"10px"},children:ne(Wn.div,{style:{width:"100%",height:"100%",background:"var(--primary)"},initial:{scaleX:0,originX:0},animate:{scaleX:s/100,originX:0},transition:{ease:"linear",duration:.1}})}),rt("h1",{style:{fontFamily:"var(--font-heading)",fontSize:"4rem",color:"#fff",lineHeight:1,margin:0},children:[s.toString().padStart(3,"0"),"%"]})]},"loader"):ne(Wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:[.6,.05,-.01,.9]},style:{textAlign:"center"},children:rt("div",{style:{display:"inline-block",border:"1px solid rgba(255,255,255,0.1)",padding:"2rem 4rem",background:"rgba(0,0,0,0.4)",backdropFilter:"blur(10px)"},children:[ne("p",{style:{fontFamily:"'Courier New', monospace",color:"var(--text-muted)",fontSize:"0.9rem",letterSpacing:"0.2rem",marginBottom:"1rem",textTransform:"uppercase"},children:"System Ready"}),rt("h1",{style:{fontSize:"3.5rem",fontFamily:"var(--font-heading)",color:"#fff",marginBottom:"0.5rem",letterSpacing:"-2px"},children:["FABIANO",ne("span",{style:{color:"var(--primary)"},children:"FULLSTACK"}),".DEV"]}),ne("div",{style:{width:"50px",height:"2px",background:"var(--secondary)",margin:"1.5rem auto"}}),ne("div",{style:{pointerEvents:"auto"},children:ne("button",{onClick:n,style:{background:"#fff",color:"#000",border:"none",padding:"1rem 2.5rem",fontSize:"1rem",fontFamily:"var(--font-heading)",fontWeight:"700",cursor:"pointer",textTransform:"uppercase",letterSpacing:"1px",clipPath:"polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%)",transition:"all 0.2s ease"},onMouseEnter:o=>{o.target.style.background="var(--primary)",o.target.style.color="#fff"},onMouseLeave:o=>{o.target.style.background="#fff",o.target.style.color="#000"},children:"Enter Experience"})})]})},"content")})})]})},_X=[{title:"Alnitak Vision AI",subtitle:"Acessibilidade & IA",tier:"gold",icon:ne(eC,{}),desc:"Projeto campe\xE3o do IDEIAS INOVADORAS da Universidade FESO. Visa possibilitar pessoas tetrapl\xE9gicas a interagirem com o computador atrav\xE9s de Eye-tracking. Utiliza vis\xE3o computacional avan\xE7ada para converter o movimento ocular em comandos de cursor.",link:"#",tech:["Python","OpenCV","Electron.js","Node.js"]},{title:"EmotionCopy.AI",subtitle:"Marketing Inteligente",tier:"silver",icon:ne(nC,{}),desc:"Um projeto que utiliza Intelig\xEAncia Artificial para gerar copies persuasivas e personalizadas para utiliza\xE7\xE3o em m\xEDdias sociais e campanhas de marketing, otimizando o engajamento e convers\xE3o.",link:"#",tech:["Python","FastAPI","Node.js","React.js"]},{title:"01 Portal",subtitle:"Portal de Not\xEDcias",tier:"bronze",icon:ne(JU,{}),desc:"Um portal de not\xEDcias sobre tecnologia e inova\xE7\xE3o, focado em trazer as \xFAltimas novidades do mundo tech. Feito em 2021, conseguiu obter mais de 2 mil visitas org\xE2nicas por m\xEAs gra\xE7as a uma estrat\xE9gia eficiente de SEO e conte\xFAdo relevante.",link:"#",tech:["React.js","Node.js","React Native"]},{title:"SuaSecret\xE1ria.app",subtitle:"Gest\xE3o Jur\xEDdica",tier:"default",icon:ne(iC,{}),desc:"Automa\xE7\xE3o inteligente para gest\xE3o jur\xEDdica e atendimento. Chatbot com NLP para triagem de clientes e agendamento autom\xE1tico.",link:"#",tech:["React.js","Python","FastAPI","Google API AI"]},{title:"Remot3.dev",subtitle:"Vagas Web3",tier:"default",icon:ne(tC,{}),desc:"Plataforma conectando talentos a oportunidades globais na Web3. Smart contracts para pagamentos seguros e verificados.",link:"#",tech:["Next.js","React.js","Node.js"]},{title:"BirdOps.app",subtitle:"Orquestra\xE7\xE3o DevOps/AIOps",tier:"default",icon:ne($y,{}),desc:"Projeto de orquestra\xE7\xE3o de dados para melhor otimiza\xE7\xE3o de trabalhos devops/aiops.",link:"#",tech:["Golang","Gin","React.js","Next.js"]}],SX=n=>{switch(n){case"gold":return{border:"2px solid #FFD700",boxShadow:"0 0 15px rgba(255, 215, 0, 0.3)",color:"#FFD700",gradient:"linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, transparent 100%)"};case"silver":return{border:"2px solid #C0C0C0",boxShadow:"0 0 15px rgba(192, 192, 192, 0.3)",color:"#C0C0C0",gradient:"linear-gradient(135deg, rgba(192, 192, 192, 0.1) 0%, transparent 100%)"};case"bronze":return{border:"2px solid #CD7F32",boxShadow:"0 0 15px rgba(205, 127, 50, 0.3)",color:"#CD7F32",gradient:"linear-gradient(135deg, rgba(205, 127, 50, 0.1) 0%, transparent 100%)"};default:return{border:"1px solid rgba(255,255,255,0.1)",boxShadow:"none",color:"var(--primary)",gradient:"var(--bg-card-hover)"}}},MX=()=>(W.exports.useEffect(()=>{window.scrollTo(0,0)},[]),ne("section",{className:"section-padding",style:{paddingBottom:"100px",paddingTop:"120px",minHeight:"100vh"},children:rt("div",{className:"container",children:[rt("div",{style:{marginBottom:"4rem",display:"flex",alignItems:"center",gap:"2rem"},children:[rt(JL,{to:"/",style:{color:"var(--text-primary)",fontSize:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none"},children:[ne(jU,{})," Voltar"]}),rt("h2",{style:{fontSize:"2.5rem",margin:0},children:["Todos os ",ne("span",{className:"gradient-text",children:"Projetos"})]})]}),ne("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(350px, 1fr))",gap:"2.5rem"},children:_X.map((n,e)=>{const t=SX(n.tier);return rt(Wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.05},whileHover:{y:-5},style:{background:"var(--bg-card)",borderRadius:"20px",border:t.border,boxShadow:t.boxShadow,padding:"2rem",position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",height:"100%"},children:[ne("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:t.gradient,zIndex:0,pointerEvents:"none"}}),rt("div",{style:{zIndex:1,flex:1,display:"flex",flexDirection:"column"},children:[ne("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1rem"},children:ne("div",{style:{fontSize:"2rem",color:t.color,filter:"drop-shadow(0 0 5px rgba(0,0,0,0.5))"},children:n.icon})}),ne("h3",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"},children:n.title}),ne("p",{style:{color:t.color,fontWeight:600,textTransform:"uppercase",letterSpacing:"1px",fontSize:"0.8rem",marginBottom:"1rem"},children:n.subtitle}),ne("p",{style:{color:"var(--text-muted)",fontSize:"1rem",lineHeight:"1.6",marginBottom:"1.5rem",flex:1},children:n.desc}),ne("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:n.tech.map((i,r)=>ne("span",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"5px",padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:i},r))})]})]},e)})})]})}));function wX(){const[n,e]=W.exports.useState(!0);return ne("div",{className:"app-container",children:ne(g_,{mode:"wait",children:n?ne(Wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:1}},style:{position:"fixed",inset:0,zIndex:9999},children:ne(xX,{onEnter:()=>e(!1)})},"intro"):rt(Wn.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[ne($U,{}),rt("div",{style:{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",zIndex:-1,pointerEvents:"none",overflow:"hidden"},children:[ne("div",{style:{position:"absolute",top:"-10%",left:"-10%",width:"50%",height:"50%",background:"var(--primary)",filter:"blur(150px)",opacity:.05,borderRadius:"50%"}}),ne("div",{style:{position:"absolute",bottom:"-10%",right:"-10%",width:"60%",height:"60%",background:"var(--secondary)",filter:"blur(150px)",opacity:.05,borderRadius:"50%"}})]}),rt(kL,{children:[ne(Ly,{path:"/",element:rt(XA,{children:[ne(eO,{}),ne(EO,{}),ne(SO,{}),ne(AO,{}),ne(CO,{})]})}),ne(Ly,{path:"/projetos",element:ne(MX,{})})]})]},"main")})})}Ny.createRoot(document.getElementById("root")).render(ne(Ur.StrictMode,{children:ne(qL,{children:ne(wX,{})})}));
